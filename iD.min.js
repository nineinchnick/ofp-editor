function sha1(){function e(e,t){return l(r(e,t))}function t(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var r=Array(80),s=1732584193,l=-271733879,u=-1732584194,c=271733878,d=-1009589776,p=0;e.length>p;p+=16){for(var m=s,h=l,g=u,f=c,y=d,v=0;80>v;v++){r[v]=16>v?e[p+v]:o(r[v-3]^r[v-8]^r[v-14]^r[v-16],1);var b=i(i(o(s,5),n(v,l,u,c)),i(i(d,r[v]),a(v)));d=c,c=u,u=o(l,30),l=s,s=b}s=i(s,m),l=i(l,h),u=i(u,g),c=i(c,f),d=i(d,y)}return[s,l,u,c,d]}function n(e,t,n,a){return 20>e?t&n|~t&a:40>e?t^n^a:60>e?t&n|t&a|n&a:t^n^a}function a(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function r(e,n){var a=s(e);a.length>16&&(a=t(a,e.length*c));for(var r=Array(16),i=Array(16),o=0;16>o;o++)r[o]=909522486^a[o],i[o]=1549556828^a[o];var l=t(r.concat(s(n)),512+n.length*c);return t(i.concat(l),672)}function i(e,t){var n=(65535&e)+(65535&t),a=(e>>16)+(t>>16)+(n>>16);return a<<16|65535&n}function o(e,t){return e<<t|e>>>32-t}function s(e){for(var t=[],n=(1<<c)-1,a=0;e.length*c>a;a+=c)t[a>>5]|=(e.charCodeAt(a/c)&n)<<32-c-a%32;return t}function l(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",a=0;4*e.length>a;a+=3)for(var r=(255&e[a>>2]>>8*(3-a%4))<<16|(255&e[a+1>>2]>>8*(3-(a+1)%4))<<8|255&e[a+2>>2]>>8*(3-(a+2)%4),i=0;4>i;i++)n+=8*a+6*i>32*e.length?u:t.charAt(63&r>>6*(3-i));return n}var u="=",c=8;return{b64_hmac_sha1:e}}function t(e,n,a){a=a||locale._current;for(var r=e.split(".").reverse(),i=locale[a];void 0!==i&&r.length;)i=i[r.pop()];if(void 0!==i){if(n)for(var o in n)i=i.replace("{"+o+"}",n[o]);return i}if(n&&"default"in n)return n.default;var s="Missing translation: "+e;return console&&console.error(s),"en"!==a?t(e,n,"en"):s}(function(e){function t(e){var t=d3.select(e).style("position");return"absolute"===t||"static"===t?{x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight}:{x:0,y:0,w:e.offsetWidth,h:e.offsetHeight}}var n="object"==typeof e.bootstrap?e.bootstrap:e.bootstrap={};n.tooltip=function(){function e(){var e=d3.select(this),t=o.apply(this,arguments),r=e.append("div").attr("class","tooltip");t&&r.classed("fade",!0),r.append("div").attr("class","tooltip-arrow"),r.append("div").attr("class","tooltip-inner");var i=d.apply(this,arguments);r.classed(i,!0),e.on(u,n),e.on(c,a)}function n(){var e,n=d3.select(this),a=l.apply(this,arguments),r=n.select(".tooltip").classed("in",!0),i=s.apply(this,arguments),o=(r.select(".tooltip-inner")[i?"html":"text"](a),d.apply(this,arguments)),u=t(n.node()),c=t(r.node());switch(o){case"top":e={x:u.x+(u.w-c.w)/2,y:u.y-c.h};break;case"right":e={x:u.x+u.w,y:u.y+(u.h-c.h)/2};break;case"left":e={x:u.x-c.w,y:u.y+(u.h-c.h)/2};break;case"bottom":e={x:Math.max(0,u.x+(u.w-c.w)/2),y:u.y+u.h}}r.style(e?{left:~~e.x+"px",top:~~e.y+"px"}:{left:null,top:null}),this.tooltipVisible=!0}function a(){d3.select(this).select(".tooltip").classed("in",!1),this.tooltipVisible=!1}function r(){this.tooltipVisible?a.apply(this,arguments):n.apply(this,arguments)}var i=function(t){t.each(e)},o=d3.functor(!1),s=d3.functor(!1),l=function(){var e=this.getAttribute("data-original-title");return e?e:(e=this.getAttribute("title"),this.removeAttribute("title"),this.setAttribute("data-original-title",e),e)},u="mouseenter.tooltip",c="mouseleave.tooltip",d=("top left bottom right".split(" "),d3.functor("top"));return i.title=function(e){return arguments.length?(l=d3.functor(e),i):l},i.html=function(e){return arguments.length?(s=d3.functor(e),i):s},i.placement=function(e){return arguments.length?(d=d3.functor(e),i):d},i.show=function(e){e.each(n)},i.hide=function(e){e.each(a)},i.toggle=function(e){e.each(r)},i.destroy=function(e){e.on(u,null).on(c,null).attr("title",function(){return this.getAttribute("data-original-title")||this.getAttribute("title")}).attr("data-original-title",null).select(".tooltip").remove()},i}})(this),d3=function(){function e(e){return e.target}function t(e){return e.source}function n(e){return Math.acos(Math.max(-1,Math.min(1,e)))}function a(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(a){e.prototype=t}}function r(e){for(var t=-1,n=e.length,a=[];n>++t;)a.push(e[t]);return a}function i(e){return Array.prototype.slice.call(e)}function o(){}function s(){}function l(e){return e}function u(){return!0}function c(e){return"function"==typeof e?e:function(){return e}}function d(e,t,n){return function(){var a=n.apply(t,arguments);return a===t?e:a}}function p(e){return null!=e&&!isNaN(e)}function m(e){return e.length}function h(e){return e.trim().replace(/\s+/g," ")}function g(e){for(var t=1;e*t%1;)t*=10;return t}function f(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function y(e){return e.responseText}function v(e){return JSON.parse(e.responseText)}function w(e){var t=Gi.createRange();return t.selectNode(Gi.body),t.createContextualFragment(e.responseText)}function _(e){return e.responseXML}function k(){}function x(e){function t(){for(var t,a=n,r=-1,i=a.length;i>++r;)(t=a[r].on)&&t.apply(this,arguments);return e}var n=[],a=new o;return t.on=function(t,r){var i,o=a.get(t);return 2>arguments.length?o&&o.on:(o&&(o.on=null,n=n.slice(0,i=n.indexOf(o)).concat(n.slice(i+1)),a.remove(t)),r&&n.push(a.set(t,{on:r})),e)},t}function M(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function D(e){return e+""}function S(e,t){var n=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function z(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function T(e){return function(t){return 1-e(1-t)}}function C(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function j(e){return e*e}function A(e){return e*e*e}function E(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function O(e){return function(t){return Math.pow(t,e)}}function N(e){return 1-Math.cos(e*Fi/2)}function P(e){return Math.pow(2,10*(e-1))}function R(e){return 1-Math.sqrt(1-e*e)}function L(e,t){var n;return 2>arguments.length&&(t=.45),arguments.length?n=t/(2*Fi)*Math.asin(1/e):(e=1,n=t/4),function(a){return 1+e*Math.pow(2,10*-a)*Math.sin(2*(a-n)*Fi/t)}}function B(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function q(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function F(){Hi.event.stopPropagation(),Hi.event.preventDefault()}function I(){for(var e,t=Hi.event;e=t.sourceEvent;)t=e;return t}function H(e){for(var t=new k,n=0,a=arguments.length;a>++n;)t[arguments[n]]=x(t);return t.of=function(n,a){return function(r){try{var i=r.sourceEvent=Hi.event;r.target=e,Hi.event=r,t[r.type].apply(n,a)}finally{Hi.event=i}}},t}function V(e){var t=[e.a,e.b],n=[e.c,e.d],a=G(t),r=W(t,n),i=G(K(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,a*=-1,r*=-1),this.rotate=(a?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Wi,this.translate=[e.e,e.f],this.scale=[a,i],this.skew=i?Math.atan2(r,i)*Wi:0}function W(e,t){return e[0]*t[0]+e[1]*t[1]}function G(e){var t=Math.sqrt(W(e,e));return t&&(e[0]/=t,e[1]/=t),t}function K(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function U(e){return"transform"==e?Hi.interpolateTransform:Hi.interpolate}function X(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function Y(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Z(){}function J(e,t,n){return new Q(e,t,n)}function Q(e,t,n){this.r=e,this.g=t,this.b=n}function $(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function et(e,t,n){var a,r,i,o=0,s=0,l=0;if(a=/([a-z]+)\((.*)\)/i.exec(e))switch(r=a[2].split(","),a[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(rt(r[0]),rt(r[1]),rt(r[2]))}return(i=bo.get(e))?t(i.r,i.g,i.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(o=e.charAt(1),o+=o,s=e.charAt(2),s+=s,l=e.charAt(3),l+=l):7===e.length&&(o=e.substring(1,3),s=e.substring(3,5),l=e.substring(5,7)),o=parseInt(o,16),s=parseInt(s,16),l=parseInt(l,16)),t(o,s,l))}function tt(e,t,n){var a,r,i=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-i,l=(o+i)/2;return s?(r=.5>l?s/(o+i):s/(2-o-i),a=e==o?(t-n)/s+(n>t?6:0):t==o?(n-e)/s+2:(e-t)/s+4,a*=60):r=a=0,it(a,r,l)}function nt(e,t,n){e=at(e),t=at(t),n=at(n);var a=ft((.4124564*e+.3575761*t+.1804375*n)/xo),r=ft((.2126729*e+.7151522*t+.072175*n)/Mo),i=ft((.0193339*e+.119192*t+.9503041*n)/Do);return dt(116*r-16,500*(a-r),200*(r-i))}function at(e){return.04045>=(e/=255)?e/12.92:Math.pow((e+.055)/1.055,2.4)}function rt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function it(e,t,n){return new ot(e,t,n)}function ot(e,t,n){this.h=e,this.s=t,this.l=n}function st(e,t,n){function a(e){return e>360?e-=360:0>e&&(e+=360),60>e?i+(o-i)*e/60:180>e?o:240>e?i+(o-i)*(240-e)/60:i}function r(e){return Math.round(255*a(e))}var i,o;return e%=360,0>e&&(e+=360),t=0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+t):n+t-n*t,i=2*n-o,J(r(e+120),r(e),r(e-120))}function lt(e,t,n){return new ut(e,t,n)}function ut(e,t,n){this.h=e,this.c=t,this.l=n}function ct(e,t,n){return dt(n,Math.cos(e*=Vi)*t,Math.sin(e)*t)}function dt(e,t,n){return new pt(e,t,n)}function pt(e,t,n){this.l=e,this.a=t,this.b=n}function mt(e,t,n){var a=(e+16)/116,r=a+t/500,i=a-n/200;return r=gt(r)*xo,a=gt(a)*Mo,i=gt(i)*Do,J(yt(3.2404542*r-1.5371385*a-.4985314*i),yt(-.969266*r+1.8760108*a+.041556*i),yt(.0556434*r-.2040259*a+1.0572252*i))}function ht(e,t,n){return lt(180*(Math.atan2(n,t)/Fi),Math.sqrt(t*t+n*n),e)}function gt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ft(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function yt(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function vt(e){return to(e,Eo),e}function bt(e){return function(){return zo(e,this)}}function wt(e){return function(){return To(e,this)}}function _t(e,t){function n(){this.removeAttribute(e)}function a(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,t)}function i(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=Hi.ns.qualify(e),null==t?e.local?a:n:"function"==typeof t?e.local?s:o:e.local?i:r}function kt(e){return RegExp("(?:^|\\s+)"+Hi.requote(e)+"(?:\\s+|$)","g")}function xt(e,t){function n(){for(var n=-1;r>++n;)e[n](this,t)}function a(){for(var n=-1,a=t.apply(this,arguments);r>++n;)e[n](this,a)}e=e.trim().split(/\s+/).map(Mt);var r=e.length;return"function"==typeof t?a:n}function Mt(e){var t=kt(e);return function(n,a){if(r=n.classList)return a?r.add(e):r.remove(e);var r=n.className,i=null!=r.baseVal,o=i?r.baseVal:r;a?(t.lastIndex=0,t.test(o)||(o=h(o+" "+e),i?r.baseVal=o:n.className=o)):o&&(o=h(o.replace(t," ")),i?r.baseVal=o:n.className=o)}}function Dt(e,t,n){function a(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,t,n)}function i(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}return null==t?a:"function"==typeof t?i:r}function St(e,t){function n(){delete this[e]}function a(){this[e]=t}function r(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?r:a}function zt(e){return{__data__:e}}function Tt(e){return function(){return Ao(this,e)}}function Ct(e){return arguments.length||(e=Hi.ascending),function(t,n){return!t-!n||e(t.__data__,n.__data__)}}function jt(e,t,n){function a(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}function r(){var r=s(t,$i(arguments));a.call(this),this.addEventListener(e,this[i]=r,r.$=n),r._=t}var i="__on"+e,o=e.indexOf("."),s=At;o>0&&(e=e.substring(0,o));var l=Oo.get(e);return l&&(e=l,s=Et),t?r:a}function At(e,t){return function(n){var a=Hi.event;Hi.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{Hi.event=a}}}function Et(e,t){var n=At(e,t);return function(e){var t=this,a=e.relatedTarget;a&&(a===t||8&a.compareDocumentPosition(t))||n.call(t,e)}}function Ot(e,t){for(var n=0,a=e.length;a>n;n++)for(var r,i=e[n],o=0,s=i.length;s>o;o++)(r=i[o])&&t(r,o,n);return e}function Nt(e){return to(e,Po),e}function Pt(e,t){return to(e,Lo),e.id=t,e}function Rt(e,t,n,a){var r=e.__transition__||(e.__transition__={active:0,count:0}),i=r[n];if(!i){var s=a.time;return i=r[n]={tween:new o,event:Hi.dispatch("start","end"),time:s,ease:a.ease,delay:a.delay,duration:a.duration},++r.count,Hi.timer(function(a){function o(a){return r.active>n?u():(r.active=n,p.start.call(e,c,t),i.tween.forEach(function(n,a){(a=a.call(e,c,t))&&g.push(a)}),l(a)||Hi.timer(l,0,s),1)}function l(a){if(r.active!==n)return u();for(var i=(a-m)/h,o=d(i),s=g.length;s>0;)g[--s].call(e,o);return i>=1?(u(),p.end.call(e,c,t),1):void 0}function u(){return--r.count?delete r[n]:delete e.__transition__,1}var c=e.__data__,d=i.ease,p=i.event,m=i.delay,h=i.duration,g=[];return a>=m?o(a):Hi.timer(o,m,s),1},0,s),i}}function Lt(e){return null==e&&(e=""),function(){this.textContent=e}}function Bt(e,t,n,a){var r=e.id;return Ot(e,"function"==typeof n?function(e,i,o){e.__transition__[r].tween.set(t,a(n.call(e,e.__data__,i,o)))}:(n=a(n),function(e){e.__transition__[r].tween.set(t,n)}))}function qt(){for(var e,t=Date.now(),n=Wo;n;)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var a=Ft()-t;a>24?(isFinite(a)&&(clearTimeout(Io),Io=setTimeout(qt,a)),Fo=0):(Fo=1,Go(qt))}function Ft(){for(var e=null,t=Wo,n=1/0;t;)t.flush?(delete Vo[t.callback.id],t=e?e.next=t.next:Wo=t.next):(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}function It(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var a=n.createSVGPoint();if(0>Ko&&(Ki.scrollX||Ki.scrollY)){n=Hi.select(Gi.body).append("svg").style("position","absolute").style("top",0).style("left",0);var r=n[0][0].getScreenCTM();Ko=!(r.f||r.e),n.remove()}return Ko?(a.x=t.pageX,a.y=t.pageY):(a.x=t.clientX,a.y=t.clientY),a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}function Ht(){}function Vt(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Wt(e){return e.rangeExtent?e.rangeExtent():Vt(e.range())}function Gt(e,t){var n,a=0,r=e.length-1,i=e[a],o=e[r];return i>o&&(n=a,a=r,r=n,n=i,i=o,o=n),(t=t(o-i))&&(e[a]=t.floor(i),e[r]=t.ceil(o)),e}function Kt(e,t,n,a){function r(){var r=Math.min(e.length,t.length)>2?$t:Qt,l=a?Y:X;return o=r(e,t,l,n),s=r(t,e,l,Hi.interpolate),i}function i(e){return o(e)}var o,s;return i.invert=function(e){return s(e)},i.domain=function(t){return arguments.length?(e=t.map(Number),r()):e},i.range=function(e){return arguments.length?(t=e,r()):t},i.rangeRound=function(e){return i.range(e).interpolate(Hi.interpolateRound)},i.clamp=function(e){return arguments.length?(a=e,r()):a},i.interpolate=function(e){return arguments.length?(n=e,r()):n},i.ticks=function(t){return Zt(e,t)},i.tickFormat=function(t){return Jt(e,t)},i.nice=function(){return Gt(e,Xt),r()},i.copy=function(){return Kt(e,t,n,a)},r()}function Ut(e,t){return Hi.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Xt(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),e&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function Yt(e,t){var n=Vt(e),a=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(a/t)/Math.LN10)),i=t/a*r;return.15>=i?r*=10:.35>=i?r*=5:.75>=i&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Zt(e,t){return Hi.range.apply(Hi,Yt(e,t))}function Jt(e,t){return Hi.format(",."+Math.max(0,-Math.floor(Math.log(Yt(e,t)[2])/Math.LN10+.01))+"f")}function Qt(e,t,n,a){var r=n(e[0],e[1]),i=a(t[0],t[1]);return function(e){return i(r(e))}}function $t(e,t,n,a){var r=[],i=[],o=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());s>=++o;)r.push(n(e[o-1],e[o])),i.push(a(t[o-1],t[o]));return function(t){var n=Hi.bisect(e,t,1,s)-1;return i[n](r[n](t))}}function en(e,t,n,a){function r(t){return e(n(t))}return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(0>t[0]?(n=an,a=rn):(n=tn,a=nn),e.domain(t.map(n)),r):e.domain().map(a)},r.base=function(e){return arguments.length?(t=+e,r):t},r.nice=function(){return e.domain(Gt(e.domain(),on(t))),r},r.ticks=function(){var r=Vt(e.domain()),i=[];if(r.every(isFinite)){var o=Math.log(t),s=Math.floor(r[0]/o),l=Math.ceil(r[1]/o),u=a(r[0]),c=a(r[1]),d=t%1?2:t;if(n===an)for(i.push(-Math.pow(t,-s));l>s++;)for(var p=d-1;p>0;p--)i.push(-Math.pow(t,-s)*p);else{for(;l>s;s++)for(var p=1;d>p;p++)i.push(Math.pow(t,s)*p);i.push(Math.pow(t,s))}for(s=0;u>i[s];s++);for(l=i.length;i[l-1]>c;l--);i=i.slice(s,l)}return i},r.tickFormat=function(e,i){if(2>arguments.length&&(i=Uo),!arguments.length)return i;var o,s=Math.log(t),l=Math.max(.1,e/r.ticks().length),u=n===an?(o=-1e-12,Math.floor):(o=1e-12,Math.ceil);return function(e){return l>=e/a(s*u(n(e)/s+o))?i(e):""}},r.copy=function(){return en(e.copy(),t,n,a)},Ut(r,e)}function tn(e){return Math.log(0>e?0:e)}function nn(e){return Math.exp(e)}function an(e){return-Math.log(e>0?0:-e)}function rn(e){return-Math.exp(-e)}function on(e){e=Math.log(e);var t={floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}};return function(){return t}}function sn(e,t){function n(t){return e(a(t))}var a=ln(t),r=ln(1/t);return n.invert=function(t){return r(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain(t.map(a)),n):e.domain().map(r)},n.ticks=function(e){return Zt(n.domain(),e)},n.tickFormat=function(e){return Jt(n.domain(),e)},n.nice=function(){return n.domain(Gt(n.domain(),Xt))},n.exponent=function(e){if(!arguments.length)return t;var i=n.domain();return a=ln(t=e),r=ln(1/t),n.domain(i)},n.copy=function(){return sn(e.copy(),t)},Ut(n,e)}function ln(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function un(e,t){function n(t){return i[((r.get(t)||r.set(t,e.push(t)))-1)%i.length]}function a(t,n){return Hi.range(e.length).map(function(e){return t+n*e})}var r,i,s;return n.domain=function(a){if(!arguments.length)return e;e=[],r=new o;for(var i,s=-1,l=a.length;l>++s;)r.has(i=a[s])||r.set(i,e.push(i));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(i=e,s=0,t={t:"range",a:arguments},n):i},n.rangePoints=function(r,o){2>arguments.length&&(o=0);var l=r[0],u=r[1],c=(u-l)/(Math.max(1,e.length-1)+o);return i=a(2>e.length?(l+u)/2:l+c*o/2,c),s=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,o,l){2>arguments.length&&(o=0),3>arguments.length&&(l=o);var u=r[1]<r[0],c=r[u-0],d=r[1-u],p=(d-c)/(e.length-o+2*l);return i=a(c+p*l,p),u&&i.reverse(),s=p*(1-o),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,l){2>arguments.length&&(o=0),3>arguments.length&&(l=o);var u=r[1]<r[0],c=r[u-0],d=r[1-u],p=Math.floor((d-c)/(e.length-o+2*l)),m=d-c-(e.length-o)*p;return i=a(c+Math.round(m/2),p),u&&i.reverse(),s=Math.round(p*(1-o)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Vt(t.a[0])},n.copy=function(){return un(e,t)},n.domain(e)}function cn(e,t){function n(){var n=0,i=t.length;for(r=[];i>++n;)r[n-1]=Hi.quantile(e,n/i);return a}function a(e){return isNaN(e=+e)?0/0:t[Hi.bisect(r,e)]}var r;return a.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(Hi.ascending),n()):e},a.range=function(e){return arguments.length?(t=e,n()):t},a.quantiles=function(){return r},a.copy=function(){return cn(e,t)},n()}function dn(e,t,n){function a(t){return n[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function r(){return i=n.length/(t-e),o=n.length-1,a}var i,o;return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],r()):[e,t]},a.range=function(e){return arguments.length?(n=e,r()):n},a.copy=function(){return dn(e,t,n)},r()}function pn(e,t){function n(n){return t[Hi.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return pn(e,t)},n}function mn(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Zt(e,t)},t.tickFormat=function(t){return Jt(e,t)},t.copy=function(){return mn(e)},t}function hn(e){return e.innerRadius}function gn(e){return e.outerRadius}function fn(e){return e.startAngle}function yn(e){return e.endAngle}function vn(e){function t(t){function o(){u.push("M",i(e(d),s))}for(var l,u=[],d=[],p=-1,m=t.length,h=c(n),g=c(a);m>++p;)r.call(this,l=t[p],p)?d.push([+h.call(this,l,p),+g.call(this,l,p)]):d.length&&(o(),d=[]);return d.length&&o(),u.length?u.join(""):null}var n=bn,a=wn,r=u,i=_n,o=i.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(r=e,t):r},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?i=e:(i=es.get(e)||_n).key,t):o},t.tension=function(e){return arguments.length?(s=e,t):s},t}function bn(e){return e[0]}function wn(e){return e[1]}function _n(e){return e.join("L")}function kn(e){return _n(e)+"Z"}function xn(e){for(var t=0,n=e.length,a=e[0],r=[a[0],",",a[1]];n>++t;)r.push("V",(a=e[t])[1],"H",a[0]);return r.join("")}function Mn(e){for(var t=0,n=e.length,a=e[0],r=[a[0],",",a[1]];n>++t;)r.push("H",(a=e[t])[0],"V",a[1]);return r.join("")}function Dn(e,t){return 4>e.length?_n(e):e[1]+Tn(e.slice(1,e.length-1),Cn(e,t))}function Sn(e,t){return 3>e.length?_n(e):e[0]+Tn((e.push(e[0]),e),Cn([e[e.length-2]].concat(e,[e[1]]),t))}function zn(e,t){return 3>e.length?_n(e):e[0]+Tn(e,Cn(e,t))}function Tn(e,t){if(1>t.length||e.length!=t.length&&e.length!=t.length+2)return _n(e);var n=e.length!=t.length,a="",r=e[0],i=e[1],o=t[0],s=o,l=1;if(n&&(a+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],r=e[1],l=2),t.length>1){s=t[1],i=e[l],l++,a+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var u=2;t.length>u;u++,l++)i=e[l],s=t[u],a+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var c=e[l];a+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return a}function Cn(e,t){for(var n,a=[],r=(1-t)/2,i=e[0],o=e[1],s=1,l=e.length;l>++s;)n=i,i=o,o=e[s],a.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return a}function jn(e){if(3>e.length)return _n(e);var t=1,n=e.length,a=e[0],r=a[0],i=a[1],o=[r,r,r,(a=e[1])[0]],s=[i,i,i,a[1]],l=[r,",",i];for(Pn(l,o,s);n>++t;)a=e[t],o.shift(),o.push(a[0]),s.shift(),s.push(a[1]),Pn(l,o,s);for(t=-1;2>++t;)o.shift(),o.push(a[0]),s.shift(),s.push(a[1]),Pn(l,o,s);return l.join("")}function An(e){if(4>e.length)return _n(e);for(var t,n=[],a=-1,r=e.length,i=[0],o=[0];3>++a;)t=e[a],i.push(t[0]),o.push(t[1]);for(n.push(Nn(as,i)+","+Nn(as,o)),--a;r>++a;)t=e[a],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Pn(n,i,o);return n.join("")}function En(e){for(var t,n,a=-1,r=e.length,i=r+4,o=[],s=[];4>++a;)n=e[a%r],o.push(n[0]),s.push(n[1]);for(t=[Nn(as,o),",",Nn(as,s)],--a;i>++a;)n=e[a%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Pn(t,o,s);return t.join("")}function On(e,t){var n=e.length-1;if(n)for(var a,r,i=e[0][0],o=e[0][1],s=e[n][0]-i,l=e[n][1]-o,u=-1;n>=++u;)a=e[u],r=u/n,a[0]=t*a[0]+(1-t)*(i+r*s),a[1]=t*a[1]+(1-t)*(o+r*l);return jn(e)}function Nn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Pn(e,t,n){e.push("C",Nn(ts,t),",",Nn(ts,n),",",Nn(ns,t),",",Nn(ns,n),",",Nn(as,t),",",Nn(as,n))}function Rn(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ln(e){for(var t=0,n=e.length-1,a=[],r=e[0],i=e[1],o=a[0]=Rn(r,i);n>++t;)a[t]=(o+(o=Rn(r=i,i=e[t+1])))/2;return a[t]=o,a}function Bn(e){for(var t,n,a,r,i=[],o=Ln(e),s=-1,l=e.length-1;l>++s;)t=Rn(e[s],e[s+1]),1e-6>Math.abs(t)?o[s]=o[s+1]=0:(n=o[s]/t,a=o[s+1]/t,r=n*n+a*a,r>9&&(r=3*t/Math.sqrt(r),o[s]=r*n,o[s+1]=r*a));for(s=-1;l>=++s;)r=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),i.push([r||0,o[s]*r||0]);return i}function qn(e){return 3>e.length?_n(e):e[0]+Tn(e,Bn(e))}function Fn(e){for(var t,n,a,r=-1,i=e.length;i>++r;)t=e[r],n=t[0],a=t[1]+Qo,t[0]=n*Math.cos(a),t[1]=n*Math.sin(a);return e}function In(e){function t(t){function l(){f.push("M",s(e(v),m),p,d(e(y.reverse()),m),"Z")}for(var u,h,g,f=[],y=[],v=[],b=-1,w=t.length,_=c(n),k=c(r),x=n===a?function(){return h}:c(a),M=r===i?function(){return g}:c(i);w>++b;)o.call(this,u=t[b],b)?(y.push([h=+_.call(this,u,b),g=+k.call(this,u,b)]),v.push([+x.call(this,u,b),+M.call(this,u,b)])):y.length&&(l(),y=[],v=[]);return y.length&&l(),f.length?f.join(""):null}var n=bn,a=bn,r=0,i=wn,o=u,s=_n,l=s.key,d=s,p="L",m=.7;return t.x=function(e){return arguments.length?(n=a=e,t):a},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(r=i=e,t):i},t.y0=function(e){return arguments.length?(r=e,t):r},t.y1=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=es.get(e)||_n).key,d=s.reverse||s,p=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(m=e,t):m},t}function Hn(e){return e.radius}function Vn(e){return[e.x,e.y]}function Wn(e){return function(){var t=e.apply(this,arguments),n=t[0],a=t[1]+Qo;return[n*Math.cos(a),n*Math.sin(a)]}}function Gn(){return 64}function Kn(){return"circle"}function Un(e){var t=Math.sqrt(e/Fi);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Xn(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Yn(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Zn(e,t,n){if(a=[],n&&t.length>1){for(var a,r,i,o=Vt(e.domain()),s=-1,l=t.length,u=(t[1]-t[0])/++n;l>++s;)for(r=n;--r>0;)(i=+t[s]-r*u)>=o[0]&&a.push(i);for(--s,r=0;n>++r&&(i=+t[s]+r*u)<o[1];)a.push(i)}return a}function Jn(e){for(var t=e.source,n=e.target,a=$n(t,n),r=[t];t!==a;)t=t.parent,r.push(t);for(var i=r.length;n!==a;)r.splice(i,0,n),n=n.parent;return r}function Qn(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function $n(e,t){if(e===t)return e;for(var n=Qn(e),a=Qn(t),r=n.pop(),i=a.pop(),o=null;r===i;)o=r,r=n.pop(),i=a.pop();return o}function ea(e){e.fixed|=2}function ta(e){e.fixed&=-7}function na(e){e.fixed|=4,e.px=e.x,e.py=e.y}function aa(e){e.fixed&=-5}function ra(e,t,n){var a=0,r=0;if(e.charge=0,!e.leaf)for(var i,o=e.nodes,s=o.length,l=-1;s>++l;)i=o[l],null!=i&&(ra(i,t,n),e.charge+=i.charge,a+=i.charge*i.cx,r+=i.charge*i.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,a+=u*e.point.x,r+=u*e.point.y}e.cx=a/e.charge,e.cy=r/e.charge}function ia(e){return e.x}function oa(e){return e.y}function sa(e,t,n){e.y0=t,e.y=n}function la(e){return Hi.range(e.length)}function ua(e){for(var t=-1,n=e[0].length,a=[];n>++t;)a[t]=0;return a}function ca(e){for(var t,n=1,a=0,r=e[0][1],i=e.length;i>n;++n)(t=e[n][1])>r&&(a=n,r=t);return a}function da(e){return e.reduce(pa,0)}function pa(e,t){return e+t[1]}function ma(e,t){return ha(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ha(e,t){for(var n=-1,a=+e[0],r=(e[1]-a)/t,i=[];t>=++n;)i[n]=r*n+a;return i}function ga(e){return[Hi.min(e),Hi.max(e)]}function fa(e,t){return Hi.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=wa,e}function ya(e){return e.children}function va(e){return e.value}function ba(e,t){return t.value-e.value}function wa(e){return Hi.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function _a(e,t){return e.value-t.value}function ka(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function xa(e,t){e._pack_next=t,t._pack_prev=e}function Ma(e,t){var n=t.x-e.x,a=t.y-e.y,r=e.r+t.r;return r*r-n*n-a*a>.001}function Da(e){function t(e){c=Math.min(e.x-e.r,c),d=Math.max(e.x+e.r,d),p=Math.min(e.y-e.r,p),m=Math.max(e.y+e.r,m)}if((n=e.children)&&(u=n.length)){var n,a,r,i,o,s,l,u,c=1/0,d=-1/0,p=1/0,m=-1/0;if(n.forEach(Sa),a=n[0],a.x=-a.r,a.y=0,t(a),u>1&&(r=n[1],r.x=r.r,r.y=0,t(r),u>2))for(i=n[2],Ca(a,r,i),t(i),ka(a,i),a._pack_prev=i,ka(i,r),r=a._pack_next,o=3;u>o;o++){Ca(a,r,i=n[o]);var h=0,g=1,f=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Ma(s,i)){h=1;break}if(1==h)for(l=a._pack_prev;l!==s._pack_prev&&!Ma(l,i);l=l._pack_prev,f++);h?(f>g||g==f&&r.r<a.r?xa(a,r=s):xa(a=l,r),o--):(ka(a,i),r=i,t(i))}var y=(c+d)/2,v=(p+m)/2,b=0;for(o=0;u>o;o++)i=n[o],i.x-=y,i.y-=v,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=b,n.forEach(za)}}function Sa(e){e._pack_next=e._pack_prev=e}function za(e){delete e._pack_next,delete e._pack_prev}function Ta(e,t,n,a){var r=e.children;if(e.x=t+=a*e.x,e.y=n+=a*e.y,e.r*=a,r)for(var i=-1,o=r.length;o>++i;)Ta(r[i],t,n,a)}function Ca(e,t,n){var a=e.r+n.r,r=t.x-e.x,i=t.y-e.y;if(a&&(r||i)){var o=t.r+n.r,s=r*r+i*i;o*=o,a*=a;var l=.5+(a-o)/(2*s),u=Math.sqrt(Math.max(0,2*o*(a+s)-(a-=s)*a-o*o))/(2*s);n.x=e.x+l*r+u*i,n.y=e.y+l*i-u*r}else n.x=e.x+a,n.y=e.y}function ja(e){return 1+Hi.max(e,function(e){return e.y})}function Aa(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ea(e){var t=e.children;return t&&t.length?Ea(t[0]):e}function Oa(e){var t,n=e.children;return n&&(t=n.length)?Oa(n[t-1]):e}function Na(e,t){return e.parent==t.parent?1:2}function Pa(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function Ra(e){var t,n=e.children;return n&&(t=n.length)?n[t-1]:e._tree.thread}function La(e,t){var n=e.children;if(n&&(r=n.length))for(var a,r,i=-1;r>++i;)t(a=La(n[i],t),e)>0&&(e=a);return e}function Ba(e,t){return e.x-t.x}function qa(e,t){return t.x-e.x}function Fa(e,t){return e.depth-t.depth}function Ia(e,t){function n(e,a){var r=e.children;if(r&&(o=r.length))for(var i,o,s=null,l=-1;o>++l;)i=r[l],n(i,s),s=i;t(e,a)}n(e,null)}function Ha(e){for(var t,n=0,a=0,r=e.children,i=r.length;--i>=0;)t=r[i]._tree,t.prelim+=n,t.mod+=n,n+=t.shift+(a+=t.change)}function Va(e,t,n){e=e._tree,t=t._tree;var a=n/(t.number-e.number);e.change+=a,t.change-=a,t.shift+=n,t.prelim+=n,t.mod+=n}function Wa(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function Ga(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ka(e,t){var n=e.x+t[3],a=e.y+t[0],r=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];return 0>r&&(n+=r/2,r=0),0>i&&(a+=i/2,i=0),{x:n,y:a,dx:r,dy:i}}function Ua(e,t){function n(e,n,i){3>arguments.length&&(i=n,n=null);var o=Hi.xhr(e,t,i);return o.row=function(e){return arguments.length?o.response(null==(n=e)?a:r(e)):n},o.row(n)}function a(e){return n.parse(e.responseText)}function r(e){return function(t){return n.parse(t.responseText,e)}}function i(t){return t.map(o).join(e)}function o(e){return l.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var l=RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var a;return n.parseRows(e,function(e,n){if(a)return a(e,n-1);var r=Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");a=t?function(e,n){return t(r(e),n)}:r})},n.parseRows=function(e,t){function n(){if(c>=l)return o;if(r)return r=!1,i;var t=c;if(34===e.charCodeAt(t)){for(var n=t;l>n++;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var a=e.charCodeAt(n+1);return 13===a?(r=!0,10===e.charCodeAt(n+2)&&++c):10===a&&(r=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;l>c;){var a=e.charCodeAt(c++),s=1;if(10===a)r=!0;else if(13===a)r=!0,10===e.charCodeAt(c)&&(++c,++s);else if(a!==u)continue;return e.substring(t,c-s)}return e.substring(t)}for(var a,r,i={},o={},s=[],l=e.length,c=0,d=0;(a=n())!==o;){for(var p=[];a!==i&&a!==o;)p.push(a),a=n();(!t||(p=t(p,d++)))&&s.push(p)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var a=new s,r=[];return t.forEach(function(e){for(var t in e)a.has(t)||r.push(a.add(t))
}),[r.map(o).join(e)].concat(t.map(function(t){return r.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(i).join("\n")},n}function Xa(e,t){ws.hasOwnProperty(e.type)&&ws[e.type](e,t)}function Ya(e,t,n){var a,r=-1,i=e.length-n;for(t.lineStart();i>++r;)a=e[r],t.point(a[0],a[1]);t.lineEnd()}function Za(e,t){var n=-1,a=e.length;for(t.polygonStart();a>++n;)Ya(e[n],t,1);t.polygonEnd()}function Ja(e){return[Math.atan2(e[1],e[0]),Math.asin(Math.max(-1,Math.min(1,e[2])))]}function Qa(e,t){return Ii>Math.abs(e[0]-t[0])&&Ii>Math.abs(e[1]-t[1])}function $a(e){var t=e[0],n=e[1],a=Math.cos(n);return[a*Math.cos(t),a*Math.sin(t),Math.sin(n)]}function er(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function tr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function nr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ar(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function rr(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ir(e){function t(t){function a(n,a){n=e(n,a),t.point(n[0],n[1])}function i(){c=0/0,g.point=o,t.lineStart()}function o(a,i){var o=$a([a,i]),s=e(a,i);n(c,d,u,p,m,h,c=s[0],d=s[1],u=a,p=o[0],m=o[1],h=o[2],r,t),t.point(c,d)}function s(){g.point=a,t.lineEnd()}function l(){var e,a,l,f,y,v,b;i(),g.point=function(t,n){o(e=t,a=n),l=c,f=d,y=p,v=m,b=h,g.point=o},g.lineEnd=function(){n(c,d,u,p,m,h,l,f,e,y,v,b,r,t),g.lineEnd=s,s()}}var u,c,d,p,m,h,g={point:a,lineStart:i,lineEnd:s,polygonStart:function(){t.polygonStart(),g.lineStart=l},polygonEnd:function(){t.polygonEnd(),g.lineStart=i}};return g}function n(t,r,i,o,s,l,u,c,d,p,m,h,g,f){var y=u-t,v=c-r,b=y*y+v*v;if(b>4*a&&g--){var w=o+p,_=s+m,k=l+h,x=Math.sqrt(w*w+_*_+k*k),M=Math.asin(k/=x),D=Ii>Math.abs(Math.abs(k)-1)?(i+d)/2:Math.atan2(_,w),S=e(D,M),z=S[0],T=S[1],C=z-t,j=T-r,A=v*C-y*j;(A*A/b>a||Math.abs((y*C+v*j)/b-.5)>.3)&&(n(t,r,i,o,s,l,z,T,D,w/=x,_/=x,k,g,f),f.point(z,T),n(z,T,D,w,_,k,u,c,d,p,m,h,g,f))}}var a=.5,r=16;return t.precision=function(e){return arguments.length?(r=(a=e*e)>0&&16,t):Math.sqrt(a)},t}function or(e,t){var n=e(t[0]),a=e([.5*(t[0][0]+t[1][0]),t[0][1]]),r=e([t[1][0],t[0][1]]),i=e(t[1]),o=a[1]-n[1],s=a[0]-n[0],l=r[1]-a[1],u=r[0]-a[0],c=o/s,d=l/u,p=.5*(c*d*(n[1]-r[1])+d*(n[0]+a[0])-c*(a[0]+r[0]))/(d-c),m=(.5*(n[0]+a[0])-p)/c+.5*(n[1]+a[1]),h=i[0]-p,g=i[1]-m,f=n[0]-p,y=n[1]-m,v=h*h+g*g,b=f*f+y*y,w=Math.atan2(g,h),_=Math.atan2(y,f);return function(t){var n=t[0]-p,a=t[1]-m,r=n*n+a*a,i=Math.atan2(a,n);return r>v&&b>r&&i>w&&_>i?e.invert(t):void 0}}function sr(e,t){function n(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),o-n*Math.cos(e)]}var a=Math.sin(e),r=(a+Math.sin(t))/2,i=1+a*(2*r-a),o=Math.sqrt(i)/r;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,Math.asin((i-(e*e+n*n)*r*r)/(2*r))]},n}function lr(e){function t(e,t){a>e&&(a=e),e>i&&(i=e),r>t&&(r=t),t>o&&(o=t)}function n(){s.point=s.lineEnd=Ht}var a,r,i,o,s={point:t,lineStart:Ht,lineEnd:Ht,polygonStart:function(){s.lineEnd=n},polygonEnd:function(){s.point=t}};return function(t){return o=i=-(a=r=1/0),Hi.geo.stream(t,e(s)),[[a,r],[i,o]]}}function ur(e,t){if(!xs){++Ms,e*=Vi;var n=Math.cos(t*=Vi);Ds+=(n*Math.cos(e)-Ds)/Ms,Ss+=(n*Math.sin(e)-Ss)/Ms,zs+=(Math.sin(t)-zs)/Ms}}function cr(){var e,t;xs=1,dr(),xs=2;var n=Ts.point;Ts.point=function(a,r){n(e=a,t=r)},Ts.lineEnd=function(){Ts.point(e,t),pr(),Ts.lineEnd=pr}}function dr(){function e(e,r){e*=Vi;var i=Math.cos(r*=Vi),o=i*Math.cos(e),s=i*Math.sin(e),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-a*s)*u+(u=a*o-t*l)*u+(u=t*s-n*o)*u),t*o+n*s+a*l);Ms+=u,Ds+=u*(t+(t=o)),Ss+=u*(n+(n=s)),zs+=u*(a+(a=l))}var t,n,a;xs>1||(1>xs&&(xs=1,Ms=Ds=Ss=zs=0),Ts.point=function(r,i){r*=Vi;var o=Math.cos(i*=Vi);t=o*Math.cos(r),n=o*Math.sin(r),a=Math.sin(i),Ts.point=e})}function pr(){Ts.point=ur}function mr(e,t){var n=Math.cos(e),a=Math.sin(e);return function(r,i,o,s){null!=r?(r=hr(n,r),i=hr(n,i),(o>0?i>r:r>i)&&(r+=2*o*Fi)):(r=e+2*o*Fi,i=e);for(var l,u=o*t,c=r;o>0?c>i:i>c;c-=u)s.point((l=Ja([n,-a*Math.cos(c),-a*Math.sin(c)]))[0],l[1])}}function hr(e,t){var a=$a(t);a[0]-=e,rr(a);var r=n(-a[1]);return((0>-a[2]?-r:r)+2*Math.PI-Ii)%(2*Math.PI)}function gr(e,t,n){return function(a){function r(t,n){e(t,n)&&a.point(t,n)}function i(e,t){f.point(e,t)}function o(){y.point=i,f.lineStart()}function s(){y.point=r,f.lineEnd()}function l(e,t){b.point(e,t),g.push([e,t])}function u(){b.lineStart(),g=[]}function c(){l(g[0][0],g[0][1]),b.lineEnd();var e,t=b.clean(),n=v.buffer(),r=n.length;if(!r)return h=!0,m+=vr(g,-1),g=null,void 0;if(g=null,1&t){e=n[0],p+=vr(e,1);var i,r=e.length-1,o=-1;for(a.lineStart();r>++o;)a.point((i=e[o])[0],i[1]);return a.lineEnd(),void 0}r>1&&2&t&&n.push(n.pop().concat(n.shift())),d.push(n.filter(fr))}var d,p,m,h,g,f=t(a),y={point:r,lineStart:o,lineEnd:s,polygonStart:function(){y.point=l,y.lineStart=u,y.lineEnd=c,h=!1,m=p=0,d=[],a.polygonStart()},polygonEnd:function(){y.point=r,y.lineStart=o,y.lineEnd=s,d=Hi.merge(d),d.length?Mr(d,br,null,n,a):(-Ii>p||h&&-Ii>m)&&(a.lineStart(),n(null,null,1,a),a.lineEnd()),a.polygonEnd(),d=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},v=yr(),b=t(v);return y}}function fr(e){return e.length>1}function yr(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:Ht,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function vr(e,t){if(!(n=e.length))return 0;for(var n,a,r,i=0,o=0,s=e[0],l=s[0],u=s[1],c=Math.cos(u),d=Math.atan2(t*Math.sin(l)*c,Math.sin(u)),p=1-t*Math.cos(l)*c,m=d;n>++i;)s=e[i],c=Math.cos(u=s[1]),a=Math.atan2(t*Math.sin(l=s[0])*c,Math.sin(u)),r=1-t*Math.cos(l)*c,Ii>Math.abs(p-2)&&Ii>Math.abs(r-2)||(Ii>Math.abs(r)||Ii>Math.abs(p)||(Ii>Math.abs(Math.abs(a-d)-Fi)?r+p>2&&(o+=4*(a-d)):o+=Ii>Math.abs(p-2)?4*(a-m):((3*Fi+a-d)%(2*Fi)-Fi)*(p+r)),m=d,d=a,p=r);return o}function br(e,t){return(0>(e=e.point)[0]?e[1]-Fi/2-Ii:Fi/2-e[1])-(0>(t=t.point)[0]?t[1]-Fi/2-Ii:Fi/2-t[1])}function wr(e){var t,n=0/0,a=0/0,r=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(i,o){var s=i>0?Fi:-Fi,l=Math.abs(i-n);Ii>Math.abs(l-Fi)?(e.point(n,a=(a+o)/2>0?Fi/2:-Fi/2),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(s,a),e.point(i,a),t=0):r!==s&&l>=Fi&&(Ii>Math.abs(n-r)&&(n-=r*Ii),Ii>Math.abs(i-s)&&(i-=s*Ii),a=_r(n,a,i,o),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(s,a),t=0),e.point(n=i,a=o),r=s},lineEnd:function(){e.lineEnd(),n=a=0/0},clean:function(){return 2-t}}}function _r(e,t,n,a){var r,i,o=Math.sin(e-n);return Math.abs(o)>Ii?Math.atan((Math.sin(t)*(i=Math.cos(a))*Math.sin(n)-Math.sin(a)*(r=Math.cos(t))*Math.sin(e))/(r*i*o)):(t+a)/2}function kr(e,t,n,a){var r;if(null==e)r=n*Fi/2,a.point(-Fi,r),a.point(0,r),a.point(Fi,r),a.point(Fi,0),a.point(Fi,-r),a.point(0,-r),a.point(-Fi,-r),a.point(-Fi,0),a.point(-Fi,r);else if(Math.abs(e[0]-t[0])>Ii){var i=(e[0]<t[0]?1:-1)*Fi;r=n*i/2,a.point(-i,r),a.point(0,r),a.point(i,r)}else a.point(t[0],t[1])}function xr(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e){var n,r,i,o;return{lineStart:function(){i=r=!1,o=1},point:function(s,l){var u,c=[s,l],d=t(s,l);!n&&(i=r=d)&&e.lineStart(),d!==r&&(u=a(n,c),(Qa(n,u)||Qa(c,u))&&(c[0]+=Ii,c[1]+=Ii,d=t(c[0],c[1]))),d!==r&&(o=0,(r=d)?(e.lineStart(),u=a(c,n),e.point(u[0],u[1])):(u=a(n,c),e.point(u[0],u[1]),e.lineEnd()),n=u),!d||n&&Qa(n,c)||e.point(c[0],c[1]),n=c},lineEnd:function(){r&&e.lineEnd(),n=null},clean:function(){return o|(i&&r)<<1}}}function a(e,t){var n=$a(e),a=$a(t),r=[1,0,0],o=tr(n,a),s=er(o,o),l=o[0],u=s-l*l;if(!u)return e;var c=i*s/u,d=-i*l/u,p=tr(r,o),m=ar(r,c),h=ar(o,d);nr(m,h);var g=p,f=er(m,g),y=er(g,g),v=Math.sqrt(f*f-y*(er(m,m)-1)),b=ar(g,(-f-v)/y);return nr(b,m),Ja(b)}var r=e*Vi,i=Math.cos(r),o=mr(r,6*Vi);return gr(t,n,o)}function Mr(e,t,n,a,r){var i=[],o=[];if(e.forEach(function(e){if(!(1>=(t=e.length))){var t,n=e[0],a=e[t-1];if(Qa(n,a)){r.lineStart();for(var s=0;t>s;++s)r.point((n=e[s])[0],n[1]);return r.lineEnd(),void 0}var l={point:n,points:e,other:null,visited:!1,entry:!0,subject:!0},u={point:n,points:[n],other:l,visited:!1,entry:!1,subject:!1};l.other=u,i.push(l),o.push(u),l={point:a,points:[a],other:null,visited:!1,entry:!1,subject:!0},u={point:a,points:[a],other:l,visited:!1,entry:!0,subject:!1},l.other=u,i.push(l),o.push(u)}}),o.sort(t),Dr(i),Dr(o),i.length){if(n)for(var s=1,l=n(o[0].point),u=o.length;u>s;++s)o[s].entry=l=!l;for(var c,d,p,m=i[0];;){for(c=m;c.visited;)if((c=c.next)===m)return;d=c.points,r.lineStart();do{if(c.visited=c.other.visited=!0,c.entry){if(c.subject)for(var s=0;d.length>s;s++)r.point((p=d[s])[0],p[1]);else a(c.point,c.next.point,1,r);c=c.next}else{if(c.subject){d=c.prev.points;for(var s=d.length;--s>=0;)r.point((p=d[s])[0],p[1])}else a(c.point,c.prev.point,-1,r);c=c.prev}c=c.other,d=c.points}while(!c.visited);r.lineEnd()}}}function Dr(e){if(t=e.length){for(var t,n,a=0,r=e[0];t>++a;)r.next=n=e[a],n.prev=r,r=n;r.next=n=e[0],n.prev=r}}function Sr(e,t,n,a){function r(a,r){return Ii>Math.abs(a[0]-e)?r>0?0:3:Ii>Math.abs(a[0]-n)?r>0?2:1:Ii>Math.abs(a[1]-t)?r>0?1:0:r>0?3:2}function i(e,t){e=e.point,t=t.point;var n=r(e,1),a=r(t,1);return n!==a?n-a:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}function o(r,i){var o=i[0]-r[0],s=i[1]-r[1],l=[0,1];return Ii>Math.abs(o)&&Ii>Math.abs(s)?r[0]>=e&&n>=r[0]&&r[1]>=t&&a>=r[1]:zr(e-r[0],o,l)&&zr(r[0]-n,-o,l)&&zr(t-r[1],s,l)&&zr(r[1]-a,-s,l)?(1>l[1]&&(i[0]=r[0]+l[1]*o,i[1]=r[1]+l[1]*s),l[0]>0&&(r[0]+=l[0]*o,r[1]+=l[0]*s),!0):!1}return function(s){function l(i){var o=r(i,-1),s=!u([0===o||3===o?e:n,o>1?a:t]);return s}function u(e){for(var t=0,n=v.length,a=e[1],r=0;n>r;++r)for(var i=1,o=v[r],s=o.length,l=o[0];s>i;++i)b=o[i],a>=l[1]?b[1]>a&&c(l,b,e)>0&&++t:a>=b[1]&&0>c(l,b,e)&&--t,l=b;return 0!==t}function c(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function d(i,o,s,l){var u=r(i,s),c=r(o,s);if(u!==c){do l.point(0===u||3===u?e:n,u>1?a:t);while((u=(u+s+4)%4)!==c)}else l.point(o[0],o[1])}function p(r,i){return r>=e&&n>=r&&i>=t&&a>=i}function m(e,t){p(e,t)&&s.point(e,t)}function h(){j.point=f,v&&v.push(w=[]),z=!0,S=!1,M=D=0/0}function g(){y&&(f(_,k),x&&S&&C.rejoin(),y.push(C.buffer())),j.point=m,S&&s.lineEnd()}function f(e,t){var n=p(e,t);if(v&&w.push([e,t]),z)_=e,k=t,x=n,z=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&S)s.point(e,t);else{var a=[M,D],r=[e,t];o(a,r)&&(S||(s.lineStart(),s.point(a[0],a[1])),s.point(r[0],r[1]),n||s.lineEnd())}M=e,D=t,S=n}var y,v,w,_,k,x,M,D,S,z,T=s,C=yr(),j={point:m,lineStart:h,lineEnd:g,polygonStart:function(){s=C,y=[],v=[]},polygonEnd:function(){s=T,y.length&&(s.polygonStart(),Mr(Hi.merge(y),i,l,d,s),s.polygonEnd()),y=v=w=null}};return j}}function zr(e,t,n){if(Ii>Math.abs(t))return 0>e;var a=e/t;if(t>0){if(a>n[1])return!1;a>n[0]&&(n[0]=a)}else{if(n[0]>a)return!1;n[1]>a&&(n[1]=a)}return!0}function Tr(e,t){function n(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,a){return n=t.invert(n,a),n&&e.invert(n[0],n[1])}),n}function Cr(e,t){return[e,t]}function jr(e,t,n){var a=Hi.range(e,t-Ii,n).concat(t);return function(e){return a.map(function(t){return[e,t]})}}function Ar(e,t,n){var a=Hi.range(e,t-Ii,n).concat(t);return function(e){return a.map(function(t){return[t,e]})}}function Er(e){return(e=Math.sin(e/2))*e}function Or(e,t,n,a){var r=Math.cos(t),i=Math.sin(t),o=Math.cos(a),s=Math.sin(a),l=r*Math.cos(e),u=r*Math.sin(e),c=o*Math.cos(n),d=o*Math.sin(n),p=2*Math.asin(Math.sqrt(Er(a-t)+r*o*Er(n-e))),m=1/Math.sin(p),h=p?function(e){var t=Math.sin(e*=p)*m,n=Math.sin(p-e)*m,a=n*l+t*c,r=n*u+t*d,o=n*i+t*s;return[Math.atan2(r,a)*Wi,Math.atan2(o,Math.sqrt(a*a+r*r))*Wi]}:function(){return[e*Wi,t*Wi]};return h.distance=p,h}function Nr(e,t){return[e/(2*Fi),Math.max(-.5,Math.min(.5,Math.log(Math.tan(Fi/4+t/2))/(2*Fi)))]}function Pr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Rr(e){var t=ir(function(t,n){return e([t*Wi,n*Wi])});return function(e){return e=t(e),{point:function(t,n){e.point(t*Vi,n*Vi)},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}}function Lr(){function e(e,t){o.push("M",e,",",t,i)}function t(e,t){o.push("M",e,",",t),s.point=n}function n(e,t){o.push("L",e,",",t)}function a(){s.point=e}function r(){o.push("Z")}var i=Pr(4.5),o=[],s={point:e,lineStart:function(){s.point=t},lineEnd:a,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=a,s.point=e},pointRadius:function(e){return i=Pr(e),s},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return s}function Br(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,o,0,2*Fi)}function n(t,n){e.moveTo(t,n),s.point=a}function a(t,n){e.lineTo(t,n)}function r(){s.point=t}function i(){e.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(e){return o=e,s},result:Ht};return s}function qr(){function e(e,t){Os+=r*e-a*t,a=e,r=t}var t,n,a,r;Ns.point=function(i,o){Ns.point=e,t=a=i,n=r=o},Ns.lineEnd=function(){e(t,n)}}function Fr(e,t){xs||(Ds+=e,Ss+=t,++zs)}function Ir(){function e(e,a){var r=e-t,i=a-n,o=Math.sqrt(r*r+i*i);Ds+=o*(t+e)/2,Ss+=o*(n+a)/2,zs+=o,t=e,n=a}var t,n;if(1!==xs){if(!(1>xs))return;xs=1,Ds=Ss=zs=0}Ps.point=function(a,r){Ps.point=e,t=a,n=r}}function Hr(){Ps.point=Fr}function Vr(){function e(e,t){var n=r*e-a*t;Ds+=n*(a+e),Ss+=n*(r+t),zs+=3*n,a=e,r=t}var t,n,a,r;2>xs&&(xs=2,Ds=Ss=zs=0),Ps.point=function(i,o){Ps.point=e,t=a=i,n=r=o},Ps.lineEnd=function(){e(t,n)}}function Wr(){function e(e,t){e*=Vi,t=t*Vi/2+Fi/4;var n=e-a,o=Math.cos(t),s=Math.sin(t),l=i*s,u=Ls,c=Bs,d=r*o+l*Math.cos(n),p=l*Math.sin(n);Ls=u*d-c*p,Bs=c*d+u*p,a=e,r=o,i=s}var t,n,a,r,i;qs.point=function(o,s){qs.point=e,a=(t=o)*Vi,r=Math.cos(s=(n=s)*Vi/2+Fi/4),i=Math.sin(s)},qs.lineEnd=function(){e(t,n)}}function Gr(){function e(e,r){var i=Math.sin(r*=Vi),o=Math.cos(r),s=Math.abs((e*=Vi)-t),l=Math.cos(s);Fs+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=a*i-n*o*l)*s),n*i+a*o*l),t=e,n=i,a=o}var t,n,a;Is.point=function(r,i){t=r*Vi,n=Math.sin(i*=Vi),a=Math.cos(i),Is.point=e},Is.lineEnd=function(){Is.point=Is.lineEnd=Ht}}function Kr(e){return Ur(function(){return e})()}function Ur(e){function t(e){return e=o(e[0]*Vi,e[1]*Vi),[e[0]*d+s,u-e[1]*d]}function n(e){return e=o.invert((e[0]-s)/d,(u-e[1])/d),e&&[e[0]*Wi,e[1]*Wi]}function a(){o=Tr(i=Yr(f,y,v),r);var e=r(h,g);return s=p-e[0]*d,u=m+e[1]*d,t}var r,i,o,s,u,c=ir(function(e,t){return e=r(e,t),[e[0]*d+s,u-e[1]*d]}),d=150,p=480,m=250,h=0,g=0,f=0,y=0,v=0,b=Cs,w=l,_=null,k=null;return t.stream=function(e){return Xr(i,b(c(w(e))))},t.clipAngle=function(e){return arguments.length?(b=null==e?(_=e,Cs):xr(_=+e),t):_},t.clipExtent=function(e){return arguments.length?(k=e,w=null==e?l:Sr(e[0][0],e[0][1],e[1][0],e[1][1]),t):k},t.scale=function(e){return arguments.length?(d=+e,a()):d},t.translate=function(e){return arguments.length?(p=+e[0],m=+e[1],a()):[p,m]},t.center=function(e){return arguments.length?(h=e[0]%360*Vi,g=e[1]%360*Vi,a()):[h*Wi,g*Wi]},t.rotate=function(e){return arguments.length?(f=e[0]%360*Vi,y=e[1]%360*Vi,v=e.length>2?e[2]%360*Vi:0,a()):[f*Wi,y*Wi,v*Wi]},Hi.rebind(t,c,"precision"),function(){return r=e.apply(this,arguments),t.invert=r.invert&&n,a()}}function Xr(e,t){return{point:function(n,a){a=e(n*Vi,a*Vi),n=a[0],t.point(n>Fi?n-2*Fi:-Fi>n?n+2*Fi:n,a[1])},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Yr(e,t,n){return e?t||n?Tr(Jr(e),Qr(t,n)):Jr(e):t||n?Qr(t,n):Cr}function Zr(e){return function(t,n){return t+=e,[t>Fi?t-2*Fi:-Fi>t?t+2*Fi:t,n]}}function Jr(e){var t=Zr(e);return t.invert=Zr(-e),t}function Qr(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*a+s*r;return[Math.atan2(l*i-c*o,s*a-u*r),Math.asin(Math.max(-1,Math.min(1,c*i+l*o)))]}var a=Math.cos(e),r=Math.sin(e),i=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*i-l*o;return[Math.atan2(l*i+u*o,s*a+c*r),Math.asin(Math.max(-1,Math.min(1,c*a-s*r)))]},n}function $r(e,t){function n(t,n){var a=Math.cos(t),r=Math.cos(n),i=e(a*r);return[i*r*Math.sin(t),i*Math.sin(n)]}return n.invert=function(e,n){var a=Math.sqrt(e*e+n*n),r=t(a),i=Math.sin(r),o=Math.cos(r);return[Math.atan2(e*i,a*o),Math.asin(a&&n*i/a)]},n}function ei(e,t,n,a){var r,i,o,s,l,u,c;return r=a[e],i=r[0],o=r[1],r=a[t],s=r[0],l=r[1],r=a[n],u=r[0],c=r[1],(c-o)*(s-i)-(l-o)*(u-i)>0}function ti(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function ni(e,t,n,a){var r=e[0],i=n[0],o=t[0]-r,s=a[0]-i,l=e[1],u=n[1],c=t[1]-l,d=a[1]-u,p=(s*(l-u)-d*(r-i))/(d*o-s*c);return[r+p*o,l+p*c]}function ai(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},a={list:[],leftEnd:null,rightEnd:null,init:function(){a.leftEnd=a.createHalfEdge(null,"l"),a.rightEnd=a.createHalfEdge(null,"l"),a.leftEnd.r=a.rightEnd,a.rightEnd.l=a.leftEnd,a.list.unshift(a.leftEnd,a.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=a.leftEnd;do t=t.r;while(t!=a.rightEnd&&r.rightOf(t,e));return t=t.l},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[Vs[e.side]]}},r={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},a=t.x-e.x,r=t.y-e.y,i=a>0?a:-a,o=r>0?r:-r;return n.c=e.x*a+e.y*r+.5*(a*a+r*r),i>o?(n.a=1,n.b=r/a,n.c/=a):(n.b=1,n.a=a/r,n.c/=r),n},intersect:function(e,t){var n=e.edge,a=t.edge;if(!n||!a||n.region.r==a.region.r)return null;var r=n.a*a.b-n.b*a.a;if(1e-10>Math.abs(r))return null;var i,o,s=(n.c*a.b-a.c*n.b)/r,l=(a.c*n.a-n.c*a.a)/r,u=n.region.r,c=a.region.r;u.y<c.y||u.y==c.y&&u.x<c.x?(i=e,o=n):(i=t,o=a);var d=s>=o.region.r.x;return d&&"l"===i.side||!d&&"r"===i.side?null:{x:s,y:l}},rightOf:function(e,t){var n=e.edge,a=n.region.r,r=t.x>a.x;if(r&&"l"===e.side)return 1;if(!r&&"r"===e.side)return 0;if(1===n.a){var i=t.y-a.y,o=t.x-a.x,s=0,l=0;if(!r&&0>n.b||r&&n.b>=0?l=s=i>=n.b*o:(l=t.x+t.y*n.b>n.c,0>n.b&&(l=!l),l||(s=1)),!s){var u=a.x-n.region.l.x;l=n.b*(o*o-i*i)<u*i*(1+2*o/u+n.b*n.b),0>n.b&&(l=!l)}}else{var c=n.c-n.a*t.x,d=t.y-c,p=t.x-a.x,m=c-a.y;l=d*d>p*p+m*m}return"l"===e.side?l:!l},endPoint:function(e,n,a){e.ep[n]=a,e.ep[Vs[n]]&&t(e)},distance:function(e,t){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)}},i={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var a=0,r=i.list,o=r.length;o>a;a++){var s=r[a];if(!(e.ystar>s.ystar||e.ystar==s.ystar&&t.x>s.vertex.x))break}r.splice(a,0,e)},del:function(e){for(var t=0,n=i.list,a=n.length;a>t&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return 0===i.list.length},nextEvent:function(e){for(var t=0,n=i.list,a=n.length;a>t;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=i.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return i.list.shift()}};a.init(),n.bottomSite=n.list.shift();for(var o,s,l,u,c,d,p,m,h,g,f,y,v,b=n.list.shift();;)if(i.empty()||(o=i.min()),b&&(i.empty()||b.y<o.y||b.y==o.y&&b.x<o.x))s=a.leftBound(b),l=a.right(s),p=a.rightRegion(s),y=r.bisect(p,b),d=a.createHalfEdge(y,"l"),a.insert(s,d),g=r.intersect(s,d),g&&(i.del(s),i.insert(s,g,r.distance(g,b))),s=d,d=a.createHalfEdge(y,"r"),a.insert(s,d),g=r.intersect(d,l),g&&i.insert(d,g,r.distance(g,b)),b=n.list.shift();else{if(i.empty())break;s=i.extractMin(),u=a.left(s),l=a.right(s),c=a.right(l),p=a.leftRegion(s),m=a.rightRegion(l),f=s.vertex,r.endPoint(s.edge,s.side,f),r.endPoint(l.edge,l.side,f),a.del(s),i.del(l),a.del(l),v="l",p.y>m.y&&(h=p,p=m,m=h,v="r"),y=r.bisect(p,m),d=a.createHalfEdge(y,v),a.insert(u,d),r.endPoint(y,Vs[v],f),g=r.intersect(u,d),g&&(i.del(u),i.insert(u,g,r.distance(g,p))),g=r.intersect(d,c),g&&i.insert(d,g,r.distance(g,p))}for(s=a.right(a.leftEnd);s!=a.rightEnd;s=a.right(s))t(s.edge)}function ri(){return{leaf:!0,nodes:[],point:null}}function ii(e,t,n,a,r,i){if(!e(t,n,a,r,i)){var o=.5*(n+r),s=.5*(a+i),l=t.nodes;l[0]&&ii(e,l[0],n,a,o,s),l[1]&&ii(e,l[1],o,a,r,s),l[2]&&ii(e,l[2],n,s,o,i),l[3]&&ii(e,l[3],o,s,r,i)}}function oi(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function si(e,t,n,a){for(var r,i,o=0,s=t.length,l=n.length;s>o;){if(a>=l)return-1;if(r=t.charCodeAt(o++),37===r){if(i=ll[t.charAt(o++)],!i||0>(a=i(e,n,a)))return-1}else if(r!=n.charCodeAt(a++))return-1}return a}function li(e){return RegExp("^(?:"+e.map(Hi.requote).join("|")+")","i")}function ui(e){for(var t=new o,n=-1,a=e.length;a>++n;)t.set(e[n].toLowerCase(),n);return t}function ci(e,t,n){e+="";var a=e.length;return n>a?Array(n-a+1).join(t)+e:e}function di(e,t,n){tl.lastIndex=0;var a=tl.exec(t.substring(n));return a?n+=a[0].length:-1}function pi(e,t,n){el.lastIndex=0;var a=el.exec(t.substring(n));return a?n+=a[0].length:-1}function mi(e,t,n){rl.lastIndex=0;var a=rl.exec(t.substring(n));return a?(e.m=il.get(a[0].toLowerCase()),n+=a[0].length):-1}function hi(e,t,n){nl.lastIndex=0;var a=nl.exec(t.substring(n));return a?(e.m=al.get(a[0].toLowerCase()),n+=a[0].length):-1}function gi(e,t,n){return si(e,""+sl.c,t,n)}function fi(e,t,n){return si(e,""+sl.x,t,n)}function yi(e,t,n){return si(e,""+sl.X,t,n)}function vi(e,t,n){ul.lastIndex=0;var a=ul.exec(t.substring(n,n+4));return a?(e.y=+a[0],n+=a[0].length):-1}function bi(e,t,n){ul.lastIndex=0;var a=ul.exec(t.substring(n,n+2));return a?(e.y=wi(+a[0]),n+=a[0].length):-1}function wi(e){return e+(e>68?1900:2e3)}function _i(e,t,n){ul.lastIndex=0;var a=ul.exec(t.substring(n,n+2));return a?(e.m=a[0]-1,n+=a[0].length):-1}function ki(e,t,n){ul.lastIndex=0;var a=ul.exec(t.substring(n,n+2));return a?(e.d=+a[0],n+=a[0].length):-1}function xi(e,t,n){ul.lastIndex=0;var a=ul.exec(t.substring(n,n+2));return a?(e.H=+a[0],n+=a[0].length):-1}function Mi(e,t,n){ul.lastIndex=0;var a=ul.exec(t.substring(n,n+2));return a?(e.M=+a[0],n+=a[0].length):-1}function Di(e,t,n){ul.lastIndex=0;var a=ul.exec(t.substring(n,n+2));return a?(e.S=+a[0],n+=a[0].length):-1}function Si(e,t,n){ul.lastIndex=0;var a=ul.exec(t.substring(n,n+3));return a?(e.L=+a[0],n+=a[0].length):-1}function zi(e,t,n){var a=cl.get(t.substring(n,n+=2).toLowerCase());return null==a?-1:(e.p=a,n)}function Ti(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",a=~~(Math.abs(t)/60),r=Math.abs(t)%60;return n+ci(a,"0",2)+ci(r,"0",2)}function Ci(e){return e.toISOString()}function ji(e,t,n){function a(t){var n=e(t),a=i(n,1);return a-t>t-n?n:a}function r(n){return t(n=e(new Ws(n-1)),1),n}function i(e,n){return t(e=new Ws(+e),n),e}function o(e,a,i){var o=r(e),s=[];if(i>1)for(;a>o;)n(o)%i||s.push(new Date(+o)),t(o,1);else for(;a>o;)s.push(new Date(+o)),t(o,1);return s}function s(e,t,n){try{Ws=oi;var a=new oi;return a._=e,o(a,t,n)}finally{Ws=Date}}e.floor=e,e.round=a,e.ceil=r,e.offset=i,e.range=o;var l=e.utc=Ai(e);return l.floor=l,l.round=Ai(a),l.ceil=Ai(r),l.offset=Ai(i),l.range=s,e}function Ai(e){return function(t,n){try{Ws=oi;var a=new oi;return a._=t,e(a,n)._}finally{Ws=Date}}}function Ei(e,t,n){function a(t){return e(t)}return a.invert=function(t){return Ni(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(Ni)},a.nice=function(e){return a.domain(Gt(a.domain(),function(){return e}))},a.ticks=function(n,r){var i=Oi(a.domain());if("function"!=typeof n){var o=i[1]-i[0],s=o/n,l=Hi.bisect(pl,s);if(l==pl.length)return t.year(i,n);if(!l)return e.ticks(n).map(Ni);Math.log(s/pl[l-1])<Math.log(pl[l]/s)&&--l,n=t[l],r=n[1],n=n[0].range}return n(i[0],new Date(+i[1]+1),r)},a.tickFormat=function(){return n},a.copy=function(){return Ei(e.copy(),t,n)},Hi.rebind(a,e,"range","rangeRound","interpolate","clamp")}function Oi(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Ni(e){return new Date(e)}function Pi(e){return function(t){for(var n=e.length-1,a=e[n];!a[1](t);)a=e[--n];return a[0](t)}}function Ri(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function Li(e){var t=e.getFullYear(),n=Ri(t),a=Ri(t+1);return t+(e-n)/(a-n)}function Bi(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function qi(e){var t=e.getUTCFullYear(),n=Bi(t),a=Bi(t+1);return t+(e-n)/(a-n)}var Fi=Math.PI,Ii=1e-6,Hi={version:"3.0.8"},Vi=Fi/180,Wi=180/Fi,Gi=document,Ki=window,Ui=".",Xi=",",Yi=[3,3];Date.now||(Date.now=function(){return+new Date});try{Gi.createElement("div").style.setProperty("opacity",0,"")}catch(Zi){var Ji=Ki.CSSStyleDeclaration.prototype,Qi=Ji.setProperty;Ji.setProperty=function(e,t,n){Qi.call(this,e,t+"",n)}}var $i=i;try{$i(Gi.documentElement.childNodes)[0].nodeType}catch(eo){$i=r}var to=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};Hi.map=function(e){var t=new o;for(var n in e)t.set(n,e[n]);return t},a(o,{has:function(e){return no+e in this},get:function(e){return this[no+e]},set:function(e,t){return this[no+e]=t},remove:function(e){return e=no+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===ao&&e.call(this,t.substring(1),this[t])}});var no="\0",ao=no.charCodeAt(0);Hi.set=function(e){var t=new s;if(e)for(var n=0;e.length>n;n++)t.add(e[n]);return t},a(s,{has:function(e){return no+e in this},add:function(e){return this[no+e]=!0,e},remove:function(e){return e=no+e,e in this&&delete this[e]},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===ao&&e.call(this,t.substring(1))}}),Hi.functor=c,Hi.rebind=function(e,t){for(var n,a=1,r=arguments.length;r>++a;)e[n=arguments[a]]=d(e,t,t[n]);return e},Hi.ascending=function(e,t){return t>e?-1:e>t?1:e>=t?0:0/0},Hi.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},Hi.mean=function(e,t){var n,a=e.length,r=0,i=-1,o=0;if(1===arguments.length)for(;a>++i;)p(n=e[i])&&(r+=(n-r)/++o);else for(;a>++i;)p(n=t.call(e,e[i],i))&&(r+=(n-r)/++o);return o?r:void 0},Hi.median=function(e,t){return arguments.length>1&&(e=e.map(t)),e=e.filter(p),e.length?Hi.quantile(e.sort(Hi.ascending),.5):void 0},Hi.min=function(e,t){var n,a,r=-1,i=e.length;if(1===arguments.length){for(;i>++r&&(null==(n=e[r])||n!=n);)n=void 0;for(;i>++r;)null!=(a=e[r])&&n>a&&(n=a)}else{for(;i>++r&&(null==(n=t.call(e,e[r],r))||n!=n);)n=void 0;for(;i>++r;)null!=(a=t.call(e,e[r],r))&&n>a&&(n=a)}return n},Hi.max=function(e,t){var n,a,r=-1,i=e.length;if(1===arguments.length){for(;i>++r&&(null==(n=e[r])||n!=n);)n=void 0;for(;i>++r;)null!=(a=e[r])&&a>n&&(n=a)}else{for(;i>++r&&(null==(n=t.call(e,e[r],r))||n!=n);)n=void 0;for(;i>++r;)null!=(a=t.call(e,e[r],r))&&a>n&&(n=a)}return n},Hi.extent=function(e,t){var n,a,r,i=-1,o=e.length;if(1===arguments.length){for(;o>++i&&(null==(n=r=e[i])||n!=n);)n=r=void 0;for(;o>++i;)null!=(a=e[i])&&(n>a&&(n=a),a>r&&(r=a))}else{for(;o>++i&&(null==(n=r=t.call(e,e[i],i))||n!=n);)n=void 0;for(;o>++i;)null!=(a=t.call(e,e[i],i))&&(n>a&&(n=a),a>r&&(r=a))}return[n,r]},Hi.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,a,r;do n=2*Math.random()-1,a=2*Math.random()-1,r=n*n+a*a;while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=Hi.random.normal.apply(Hi,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t/e}}},Hi.sum=function(e,t){var n,a=0,r=e.length,i=-1;if(1===arguments.length)for(;r>++i;)isNaN(n=+e[i])||(a+=n);else for(;r>++i;)isNaN(n=+t.call(e,e[i],i))||(a+=n);return a},Hi.quantile=function(e,t){var n=(e.length-1)*t+1,a=Math.floor(n),r=+e[a-1],i=n-a;return i?r+i*(e[a]-r):r},Hi.shuffle=function(e){for(var t,n,a=e.length;a;)n=0|Math.random()*a--,t=e[a],e[a]=e[n],e[n]=t;return e},Hi.transpose=function(e){return Hi.zip.apply(Hi,e)},Hi.zip=function(){if(!(a=arguments.length))return[];for(var e=-1,t=Hi.min(arguments,m),n=Array(t);t>++e;)for(var a,r=-1,i=n[e]=Array(a);a>++r;)i[r]=arguments[r][e];return n},Hi.bisector=function(e){return{left:function(t,n,a,r){for(3>arguments.length&&(a=0),4>arguments.length&&(r=t.length);r>a;){var i=a+r>>>1;n>e.call(t,t[i],i)?a=i+1:r=i}return a},right:function(t,n,a,r){for(3>arguments.length&&(a=0),4>arguments.length&&(r=t.length);r>a;){var i=a+r>>>1;e.call(t,t[i],i)>n?r=i:a=i+1}return a}}};var ro=Hi.bisector(function(e){return e});Hi.bisectLeft=ro.left,Hi.bisect=Hi.bisectRight=ro.right,Hi.nest=function(){function e(t,s,l){if(l>=i.length)return a?a.call(r,s):n?s.sort(n):s;for(var u,c,d,p,m=-1,h=s.length,g=i[l++],f=new o;h>++m;)(p=f.get(u=g(c=s[m])))?p.push(c):f.set(u,[c]);return t?(c=t(),d=function(n,a){c.set(n,e(t,a,l))}):(c={},d=function(n,a){c[n]=e(t,a,l)}),f.forEach(d),c}function t(e,n){if(n>=i.length)return e;var a=[],r=s[n++];return e.forEach(function(e,r){a.push({key:e,values:t(r,n)})}),r?a.sort(function(e,t){return r(e.key,t.key)}):a}var n,a,r={},i=[],s=[];return r.map=function(t,n){return e(n,t,0)},r.entries=function(n){return t(e(Hi.map,n,0),0)},r.key=function(e){return i.push(e),r},r.sortKeys=function(e){return s[i.length-1]=e,r},r.sortValues=function(e){return n=e,r},r.rollup=function(e){return a=e,r},r},Hi.keys=function(e){var t=[];for(var n in e)t.push(n);return t},Hi.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Hi.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Hi.permute=function(e,t){for(var n=[],a=-1,r=t.length;r>++a;)n[a]=e[t[a]];return n},Hi.merge=function(e){return Array.prototype.concat.apply([],e)},Hi.range=function(e,t,n){if(3>arguments.length&&(n=1,2>arguments.length&&(t=e,e=0)),1/0===(t-e)/n)throw Error("infinite range");var a,r=[],i=g(Math.abs(n)),o=-1;if(e*=i,t*=i,n*=i,0>n)for(;(a=e+n*++o)>t;)r.push(a/i);else for(;t>(a=e+n*++o);)r.push(a/i);return r},Hi.requote=function(e){return e.replace(io,"\\$&")};var io=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Hi.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},Hi.xhr=function(e,t,n){function a(){var e=u.status;!e&&u.responseText||e>=200&&300>e||304===e?i.load.call(r,s.call(r,u)):i.error.call(r,u)}var r={},i=Hi.dispatch("progress","load","error"),o={},s=l,u=new(Ki.XDomainRequest&&/^(http(s)?:)?\/\//.test(e)?XDomainRequest:XMLHttpRequest);return"onload"in u?u.onload=u.onerror=a:u.onreadystatechange=function(){u.readyState>3&&a()},u.onprogress=function(e){var t=Hi.event;Hi.event=e;try{i.progress.call(r,u)}finally{Hi.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),2>arguments.length?o[e]:(null==t?delete o[e]:o[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.response=function(e){return s=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat($i(arguments)))}}),r.send=function(n,a,i){if(2===arguments.length&&"function"==typeof a&&(i=a,a=null),u.open(n,e,!0),null==t||"accept"in o||(o.accept=t+",*/*"),u.setRequestHeader)for(var s in o)u.setRequestHeader(s,o[s]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=i&&r.on("error",i).on("load",function(e){i(null,e)}),u.send(null==a?null:a),r},r.abort=function(){return u.abort(),r},Hi.rebind(r,i,"on"),2===arguments.length&&"function"==typeof t&&(n=t,t=null),null==n?r:r.get(f(n))},Hi.text=function(){return Hi.xhr.apply(Hi,arguments).response(y)},Hi.json=function(e,t){return Hi.xhr(e,"application/json",t).response(v)},Hi.html=function(e,t){return Hi.xhr(e,"text/html",t).response(w)
},Hi.xml=function(){return Hi.xhr.apply(Hi,arguments).response(_)};var oo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Hi.ns={prefix:oo,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),oo.hasOwnProperty(n)?{space:oo[n],local:e}:e}},Hi.dispatch=function(){for(var e=new k,t=-1,n=arguments.length;n>++t;)e[arguments[t]]=x(e);return e},k.prototype.on=function(e,t){var n=e.indexOf("."),a="";return n>0&&(a=e.substring(n+1),e=e.substring(0,n)),2>arguments.length?this[e].on(a):this[e].on(a,t)},Hi.format=function(e){var t=so.exec(e),n=t[1]||" ",a=t[2]||">",r=t[3]||"",i=t[4]||"",o=t[5],s=+t[6],l=t[7],u=t[8],c=t[9],d=1,p="",m=!1;switch(u&&(u=+u.substring(1)),(o||"0"===n&&"="===a)&&(o=n="0",a="=",l&&(s-=Math.floor((s-1)/4))),c){case"n":l=!0,c="g";break;case"%":d=100,p="%",c="f";break;case"p":d=100,p="%",c="r";break;case"b":case"o":case"x":case"X":i&&(i="0"+c.toLowerCase());case"c":case"d":m=!0,u=0;break;case"s":d=-1,c="r"}"#"===i&&(i=""),"r"!=c||u||(c="g"),c=lo.get(c)||D;var h=o&&l;return function(e){if(m&&e%1)return"";var t=0>e||0===e&&0>1/e?(e=-e,"-"):r;if(0>d){var g=Hi.formatPrefix(e,u);e=g.scale(e),p=g.symbol}else e*=d;e=c(e,u),!o&&l&&(e=uo(e));var f=i.length+e.length+(h?0:t.length),y=s>f?Array(f=s-f+1).join(n):"";return h&&(e=uo(y+e)),Ui&&e.replace(".",Ui),t+=i,("<"===a?t+e+y:">"===a?y+t+e:"^"===a?y.substring(0,f>>=1)+t+e+y.substring(f):t+(h?e:y+e))+p}};var so=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,lo=Hi.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=Hi.round(e,M(e,t))).toFixed(Math.max(0,Math.min(20,M(e*(1+1e-15),t))))}}),uo=l;if(Yi){var co=Yi.length;uo=function(e){for(var t=e.lastIndexOf("."),n=t>=0?"."+e.substring(t+1):(t=e.length,""),a=[],r=0,i=Yi[0];t>0&&i>0;)a.push(e.substring(t-=i,t+i)),i=Yi[r=(r+1)%co];return a.reverse().join(Xi||"")+n}}var po=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(S);Hi.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=Hi.round(e,M(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),po[8+n/3]};var mo=function(){return l},ho=Hi.map({linear:mo,poly:O,quad:function(){return j},cubic:function(){return A},sin:function(){return N},exp:function(){return P},circle:function(){return R},elastic:L,back:B,bounce:function(){return q}}),go=Hi.map({"in":l,out:T,"in-out":C,"out-in":function(e){return C(T(e))}});Hi.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,a=t>=0?e.substring(t+1):"in";return n=ho.get(n)||mo,a=go.get(a)||l,z(a(n.apply(null,Array.prototype.slice.call(arguments,1))))},Hi.event=null,Hi.transform=function(e){var t=Gi.createElementNS(Hi.ns.prefix.svg,"g");return(Hi.transform=function(e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate();return new V(n?n.matrix:fo)})(e)},V.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fo={a:1,b:0,c:0,d:1,e:0,f:0};Hi.interpolate=function(e,t){for(var n,a=Hi.interpolators.length;--a>=0&&!(n=Hi.interpolators[a](e,t)););return n},Hi.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},Hi.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},Hi.interpolateString=function(e,t){var n,a,r,i,o,s=0,l=0,u=[],c=[];for(yo.lastIndex=0,a=0;n=yo.exec(t);++a)n.index&&u.push(t.substring(s,l=n.index)),c.push({i:u.length,x:n[0]}),u.push(null),s=yo.lastIndex;for(t.length>s&&u.push(t.substring(s)),a=0,i=c.length;(n=yo.exec(e))&&i>a;++a)if(o=c[a],o.x==n[0]){if(o.i)if(null==u[o.i+1])for(u[o.i-1]+=o.x,u.splice(o.i,1),r=a+1;i>r;++r)c[r].i--;else for(u[o.i-1]+=o.x+u[o.i+1],u.splice(o.i,2),r=a+1;i>r;++r)c[r].i-=2;else if(null==u[o.i+1])u[o.i]=o.x;else for(u[o.i]=o.x+u[o.i+1],u.splice(o.i+1,1),r=a+1;i>r;++r)c[r].i--;c.splice(a,1),i--,a--}else o.x=Hi.interpolateNumber(parseFloat(n[0]),parseFloat(o.x));for(;i>a;)o=c.pop(),null==u[o.i+1]?u[o.i]=o.x:(u[o.i]=o.x+u[o.i+1],u.splice(o.i+1,1)),i--;return 1===u.length?null==u[0]?c[0].x:function(){return t}:function(e){for(a=0;i>a;++a)u[(o=c[a]).i]=o.x(e);return u.join("")}},Hi.interpolateTransform=function(e,t){var n,a=[],r=[],i=Hi.transform(e),o=Hi.transform(t),s=i.translate,l=o.translate,u=i.rotate,c=o.rotate,d=i.skew,p=o.skew,m=i.scale,h=o.scale;return s[0]!=l[0]||s[1]!=l[1]?(a.push("translate(",null,",",null,")"),r.push({i:1,x:Hi.interpolateNumber(s[0],l[0])},{i:3,x:Hi.interpolateNumber(s[1],l[1])})):l[0]||l[1]?a.push("translate("+l+")"):a.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),r.push({i:a.push(a.pop()+"rotate(",null,")")-2,x:Hi.interpolateNumber(u,c)})):c&&a.push(a.pop()+"rotate("+c+")"),d!=p?r.push({i:a.push(a.pop()+"skewX(",null,")")-2,x:Hi.interpolateNumber(d,p)}):p&&a.push(a.pop()+"skewX("+p+")"),m[0]!=h[0]||m[1]!=h[1]?(n=a.push(a.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:Hi.interpolateNumber(m[0],h[0])},{i:n-2,x:Hi.interpolateNumber(m[1],h[1])})):(1!=h[0]||1!=h[1])&&a.push(a.pop()+"scale("+h+")"),n=r.length,function(e){for(var t,i=-1;n>++i;)a[(t=r[i]).i]=t.x(e);return a.join("")}},Hi.interpolateRgb=function(e,t){e=Hi.rgb(e),t=Hi.rgb(t);var n=e.r,a=e.g,r=e.b,i=t.r-n,o=t.g-a,s=t.b-r;return function(e){return"#"+$(Math.round(n+i*e))+$(Math.round(a+o*e))+$(Math.round(r+s*e))}},Hi.interpolateHsl=function(e,t){e=Hi.hsl(e),t=Hi.hsl(t);var n=e.h,a=e.s,r=e.l,i=t.h-n,o=t.s-a,s=t.l-r;return i>180?i-=360:-180>i&&(i+=360),function(e){return st(n+i*e,a+o*e,r+s*e)+""}},Hi.interpolateLab=function(e,t){e=Hi.lab(e),t=Hi.lab(t);var n=e.l,a=e.a,r=e.b,i=t.l-n,o=t.a-a,s=t.b-r;return function(e){return mt(n+i*e,a+o*e,r+s*e)+""}},Hi.interpolateHcl=function(e,t){e=Hi.hcl(e),t=Hi.hcl(t);var n=e.h,a=e.c,r=e.l,i=t.h-n,o=t.c-a,s=t.l-r;return i>180?i-=360:-180>i&&(i+=360),function(e){return ct(n+i*e,a+o*e,r+s*e)+""}},Hi.interpolateArray=function(e,t){var n,a=[],r=[],i=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)a.push(Hi.interpolate(e[n],t[n]));for(;i>n;++n)r[n]=e[n];for(;o>n;++n)r[n]=t[n];return function(e){for(n=0;s>n;++n)r[n]=a[n](e);return r}},Hi.interpolateObject=function(e,t){var n,a={},r={};for(n in e)n in t?a[n]=U(n)(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in a)r[n]=a[n](e);return r}};var yo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Hi.interpolators=[Hi.interpolateObject,function(e,t){return Array.isArray(t)&&Hi.interpolateArray(e,t)},function(e,t){return("string"==typeof e||"string"==typeof t)&&Hi.interpolateString(e+"",t+"")},function(e,t){return("string"==typeof t?bo.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof Z)&&Hi.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&Hi.interpolateNumber(e,t)}],Z.prototype.toString=function(){return this.rgb()+""},Hi.rgb=function(e,t,n){return 1===arguments.length?e instanceof Q?J(e.r,e.g,e.b):et(""+e,J,st):J(~~e,~~t,~~n)};var vo=Q.prototype=new Z;vo.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,a=this.b,r=30;return t||n||a?(t&&r>t&&(t=r),n&&r>n&&(n=r),a&&r>a&&(a=r),J(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(a/e)))):J(r,r,r)},vo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),J(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},vo.hsl=function(){return tt(this.r,this.g,this.b)},vo.toString=function(){return"#"+$(this.r)+$(this.g)+$(this.b)};var bo=Hi.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});bo.forEach(function(e,t){bo.set(e,et(t,J,st))}),Hi.hsl=function(e,t,n){return 1===arguments.length?e instanceof ot?it(e.h,e.s,e.l):et(""+e,tt,it):it(+e,+t,+n)};var wo=ot.prototype=new Z;wo.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),it(this.h,this.s,this.l/e)},wo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),it(this.h,this.s,e*this.l)},wo.rgb=function(){return st(this.h,this.s,this.l)},Hi.hcl=function(e,t,n){return 1===arguments.length?e instanceof ut?lt(e.h,e.c,e.l):e instanceof pt?ht(e.l,e.a,e.b):ht((e=nt((e=Hi.rgb(e)).r,e.g,e.b)).l,e.a,e.b):lt(+e,+t,+n)};var _o=ut.prototype=new Z;_o.brighter=function(e){return lt(this.h,this.c,Math.min(100,this.l+ko*(arguments.length?e:1)))},_o.darker=function(e){return lt(this.h,this.c,Math.max(0,this.l-ko*(arguments.length?e:1)))},_o.rgb=function(){return ct(this.h,this.c,this.l).rgb()},Hi.lab=function(e,t,n){return 1===arguments.length?e instanceof pt?dt(e.l,e.a,e.b):e instanceof ut?ct(e.l,e.c,e.h):nt((e=Hi.rgb(e)).r,e.g,e.b):dt(+e,+t,+n)};var ko=18,xo=.95047,Mo=1,Do=1.08883,So=pt.prototype=new Z;So.brighter=function(e){return dt(Math.min(100,this.l+ko*(arguments.length?e:1)),this.a,this.b)},So.darker=function(e){return dt(Math.max(0,this.l-ko*(arguments.length?e:1)),this.a,this.b)},So.rgb=function(){return mt(this.l,this.a,this.b)};var zo=function(e,t){return t.querySelector(e)},To=function(e,t){return t.querySelectorAll(e)},Co=Gi.documentElement,jo=Co.matchesSelector||Co.webkitMatchesSelector||Co.mozMatchesSelector||Co.msMatchesSelector||Co.oMatchesSelector,Ao=function(e,t){return jo.call(e,t)};"function"==typeof Sizzle&&(zo=function(e,t){return Sizzle(e,t)[0]||null},To=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},Ao=Sizzle.matchesSelector);var Eo=[];Hi.selection=function(){return No},Hi.selection.prototype=Eo,Eo.select=function(e){var t,n,a,r,i=[];"function"!=typeof e&&(e=bt(e));for(var o=-1,s=this.length;s>++o;){i.push(t=[]),t.parentNode=(a=this[o]).parentNode;for(var l=-1,u=a.length;u>++l;)(r=a[l])?(t.push(n=e.call(r,r.__data__,l)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return vt(i)},Eo.selectAll=function(e){var t,n,a=[];"function"!=typeof e&&(e=wt(e));for(var r=-1,i=this.length;i>++r;)for(var o=this[r],s=-1,l=o.length;l>++s;)(n=o[s])&&(a.push(t=$i(e.call(n,n.__data__,s))),t.parentNode=n);return vt(a)},Eo.attr=function(e,t){if(2>arguments.length){if("string"==typeof e){var n=this.node();return e=Hi.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(_t(t,e[t]));return this}return this.each(_t(e,t))},Eo.classed=function(e,t){if(2>arguments.length){if("string"==typeof e){var n=this.node(),a=(e=e.trim().split(/^|\s+/g)).length,r=-1;if(t=n.classList){for(;a>++r;)if(!t.contains(e[r]))return!1}else for(t=n.className,null!=t.baseVal&&(t=t.baseVal);a>++r;)if(!kt(e[r]).test(t))return!1;return!0}for(t in e)this.each(xt(t,e[t]));return this}return this.each(xt(e,t))},Eo.style=function(e,t,n){var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(t="");for(n in e)this.each(Dt(n,e[n],t));return this}if(2>a)return Ki.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(Dt(e,t,n))},Eo.property=function(e,t){if(2>arguments.length){if("string"==typeof e)return this.node()[e];for(t in e)this.each(St(t,e[t]));return this}return this.each(St(e,t))},Eo.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Eo.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Eo.append=function(e){function t(){return this.appendChild(Gi.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(Gi.createElementNS(e.space,e.local))}return e=Hi.ns.qualify(e),this.select(e.local?n:t)},Eo.insert=function(e,t){function n(n,a){return this.insertBefore(Gi.createElementNS(this.namespaceURI,e),t.call(this,n,a))}function a(n,a){return this.insertBefore(Gi.createElementNS(e.space,e.local),t.call(this,n,a))}return e=Hi.ns.qualify(e),"function"!=typeof t&&(t=bt(t)),this.select(e.local?a:n)},Eo.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},Eo.data=function(e,t){function n(e,n){var a,r,i,s=e.length,d=n.length,p=Math.min(s,d),m=Array(d),h=Array(d),g=Array(s);if(t){var f,y=new o,v=new o,b=[];for(a=-1;s>++a;)f=t.call(r=e[a],r.__data__,a),y.has(f)?g[a]=r:y.set(f,r),b.push(f);for(a=-1;d>++a;)f=t.call(n,i=n[a],a),(r=y.get(f))?(m[a]=r,r.__data__=i):v.has(f)||(h[a]=zt(i)),v.set(f,i),y.remove(f);for(a=-1;s>++a;)y.has(b[a])&&(g[a]=e[a])}else{for(a=-1;p>++a;)r=e[a],i=n[a],r?(r.__data__=i,m[a]=r):h[a]=zt(i);for(;d>a;++a)h[a]=zt(n[a]);for(;s>a;++a)g[a]=e[a]}h.update=m,h.parentNode=m.parentNode=g.parentNode=e.parentNode,l.push(h),u.push(m),c.push(g)}var a,r,i=-1,s=this.length;if(!arguments.length){for(e=Array(s=(a=this[0]).length);s>++i;)(r=a[i])&&(e[i]=r.__data__);return e}var l=Nt([]),u=vt([]),c=vt([]);if("function"==typeof e)for(;s>++i;)n(a=this[i],e.call(a,a.parentNode.__data__,i));else for(;s>++i;)n(a=this[i],e);return u.enter=function(){return l},u.exit=function(){return c},u},Eo.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Eo.filter=function(e){var t,n,a,r=[];"function"!=typeof e&&(e=Tt(e));for(var i=0,o=this.length;o>i;i++){r.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;l>s;s++)(a=n[s])&&e.call(a,a.__data__,s)&&t.push(a)}return vt(r)},Eo.order=function(){for(var e=-1,t=this.length;t>++e;)for(var n,a=this[e],r=a.length-1,i=a[r];--r>=0;)(n=a[r])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Eo.sort=function(e){e=Ct.apply(this,arguments);for(var t=-1,n=this.length;n>++t;)this[t].sort(e);return this.order()},Eo.on=function(e,t,n){var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(t=!1);for(n in e)this.each(jt(n,e[n],t));return this}if(2>a)return(a=this.node()["__on"+e])&&a._;n=!1}return this.each(jt(e,t,n))};var Oo=Hi.map({mouseenter:"mouseover",mouseleave:"mouseout"});Oo.forEach(function(e){"on"+e in document&&Oo.remove(e)}),Eo.each=function(e){return Ot(this,function(t,n,a){e.call(t,t.__data__,n,a)})},Eo.call=function(e){var t=$i(arguments);return e.apply(t[0]=this,t),this},Eo.empty=function(){return!this.node()},Eo.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],a=0,r=n.length;r>a;a++){var i=n[a];if(i)return i}return null},Eo.transition=function(){var e,t,n=Ro||++Bo,a=[],r=Object.create(qo);r.time=Date.now();for(var i=-1,o=this.length;o>++i;){a.push(e=[]);for(var s=this[i],l=-1,u=s.length;u>++l;)(t=s[l])&&Rt(t,l,n,r),e.push(t)}return Pt(a,n)};var No=vt([[Gi]]);No[0].parentNode=Co,Hi.select=function(e){return"string"==typeof e?No.select(e):vt([[e]])},Hi.selectAll=function(e){return"string"==typeof e?No.selectAll(e):vt([$i(e)])};var Po=[];Hi.selection.enter=Nt,Hi.selection.enter.prototype=Po,Po.append=Eo.append,Po.insert=Eo.insert,Po.empty=Eo.empty,Po.node=Eo.node,Po.select=function(e){for(var t,n,a,r,i,o=[],s=-1,l=this.length;l>++s;){a=(r=this[s]).update,o.push(t=[]),t.parentNode=r.parentNode;for(var u=-1,c=r.length;c>++u;)(i=r[u])?(t.push(a[u]=n=e.call(r.parentNode,i.__data__,u)),n.__data__=i.__data__):t.push(null)}return vt(o)};var Ro,Lo=[],Bo=0,qo={ease:E,delay:0,duration:250};Lo.call=Eo.call,Lo.empty=Eo.empty,Lo.node=Eo.node,Hi.transition=function(e){return arguments.length?Ro?e.transition():e:No.transition()},Hi.transition.prototype=Lo,Lo.select=function(e){var t,n,a,r=this.id,i=[];"function"!=typeof e&&(e=bt(e));for(var o=-1,s=this.length;s>++o;){i.push(t=[]);for(var l=this[o],u=-1,c=l.length;c>++u;)(a=l[u])&&(n=e.call(a,a.__data__,u))?("__data__"in a&&(n.__data__=a.__data__),Rt(n,u,r,a.__transition__[r]),t.push(n)):t.push(null)}return Pt(i,r)},Lo.selectAll=function(e){var t,n,a,r,i,o=this.id,s=[];"function"!=typeof e&&(e=wt(e));for(var l=-1,u=this.length;u>++l;)for(var c=this[l],d=-1,p=c.length;p>++d;)if(a=c[d]){i=a.__transition__[o],n=e.call(a,a.__data__,d),s.push(t=[]);for(var m=-1,h=n.length;h>++m;)Rt(r=n[m],m,o,i),t.push(r)}return Pt(s,o)},Lo.filter=function(e){var t,n,a,r=[];"function"!=typeof e&&(e=Tt(e));for(var i=0,o=this.length;o>i;i++){r.push(t=[]);for(var n=this[i],s=0,l=n.length;l>s;s++)(a=n[s])&&e.call(a,a.__data__,s)&&t.push(a)}return Pt(r,this.id,this.time).ease(this.ease())},Lo.attr=function(e,t){function n(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}if(2>arguments.length){for(t in e)this.attr(t,e[t]);return this}var r=U(e),i=Hi.ns.qualify(e);return Bt(this,"attr."+e,t,function(e){function t(){var t,n=this.getAttribute(i);return n!==e&&(t=r(n,e),function(e){this.setAttribute(i,t(e))})}function o(){var t,n=this.getAttributeNS(i.space,i.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})}return null==e?i.local?a:n:(e+="",i.local?o:t)})},Lo.attrTween=function(e,t){function n(e,n){var a=t.call(this,e,n,this.getAttribute(r));return a&&function(e){this.setAttribute(r,a(e))}}function a(e,n){var a=t.call(this,e,n,this.getAttributeNS(r.space,r.local));return a&&function(e){this.setAttributeNS(r.space,r.local,a(e))}}var r=Hi.ns.qualify(e);return this.tween("attr."+e,r.local?a:n)},Lo.style=function(e,t,n){function a(){this.style.removeProperty(e)}var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}var i=U(e);return Bt(this,"style."+e,t,function(t){function r(){var a,r=Ki.getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(a=i(r,t),function(t){this.style.setProperty(e,a(t),n)})}return null==t?a:(t+="",r)})},Lo.styleTween=function(e,t,n){return 3>arguments.length&&(n=""),this.tween("style."+e,function(a,r){var i=t.call(this,a,r,Ki.getComputedStyle(this,null).getPropertyValue(e));return i&&function(t){this.style.setProperty(e,i(t),n)}})},Lo.text=function(e){return Bt(this,"text",e,Lt)},Lo.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},Lo.ease=function(e){var t=this.id;return 1>arguments.length?this.node().__transition__[t].ease:("function"!=typeof e&&(e=Hi.ease.apply(Hi,arguments)),Ot(this,function(n){n.__transition__[t].ease=e}))},Lo.delay=function(e){var t=this.id;return Ot(this,"function"==typeof e?function(n,a,r){n.__transition__[t].delay=0|e.call(n,n.__data__,a,r)}:(e|=0,function(n){n.__transition__[t].delay=e}))},Lo.duration=function(e){var t=this.id;return Ot(this,"function"==typeof e?function(n,a,r){n.__transition__[t].duration=Math.max(1,0|e.call(n,n.__data__,a,r))}:(e=Math.max(1,0|e),function(n){n.__transition__[t].duration=e}))},Lo.each=function(e,t){var n=this.id;if(2>arguments.length){var a=qo,r=Ro;Ro=n,Ot(this,function(t,a,r){qo=t.__transition__[n],e.call(t,t.__data__,a,r)}),qo=a,Ro=r}else Ot(this,function(a){a.__transition__[n].event.on(e,t)});return this},Lo.transition=function(){for(var e,t,n,a,r=this.id,i=++Bo,o=[],s=0,l=this.length;l>s;s++){o.push(e=[]);for(var t=this[s],u=0,c=t.length;c>u;u++)(n=t[u])&&(a=Object.create(n.__transition__[r]),a.delay+=a.duration,Rt(n,u,i,a)),e.push(n)}return Pt(o,i)},Lo.tween=function(e,t){var n=this.id;return 2>arguments.length?this.node().__transition__[n].tween.get(e):Ot(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(a){a.__transition__[n].tween.set(e,t)})};var Fo,Io,Ho=0,Vo={},Wo=null;Hi.timer=function(e,t,n){if(3>arguments.length){if(2>arguments.length)t=0;else if(!isFinite(t))return;n=Date.now()}var a=Vo[e.id];a&&a.callback===e?(a.then=n,a.delay=t):Vo[e.id=++Ho]=Wo={callback:e,then:n,delay:t,next:Wo},Fo||(Io=clearTimeout(Io),Fo=1,Go(qt))},Hi.timer.flush=function(){for(var e,t=Date.now(),n=Wo;n;)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;Ft()};var Go=Ki.requestAnimationFrame||Ki.webkitRequestAnimationFrame||Ki.mozRequestAnimationFrame||Ki.oRequestAnimationFrame||Ki.msRequestAnimationFrame||function(e){setTimeout(e,17)};Hi.mouse=function(e){return It(e,I())};var Ko=/WebKit/.test(Ki.navigator.userAgent)?-1:0;Hi.touches=function(e,t){return 2>arguments.length&&(t=I().touches),t?$i(t).map(function(t){var n=It(e,t);return n.identifier=t.identifier,n}):[]},Hi.scale={},Hi.scale.linear=function(){return Kt([0,1],[0,1],Hi.interpolate,!1)},Hi.scale.log=function(){return en(Hi.scale.linear().domain([0,Math.LN10]),10,tn,nn)};var Uo=Hi.format(".0e");Hi.scale.pow=function(){return sn(Hi.scale.linear(),1)},Hi.scale.sqrt=function(){return Hi.scale.pow().exponent(.5)},Hi.scale.ordinal=function(){return un([],{t:"range",a:[[]]})},Hi.scale.category10=function(){return Hi.scale.ordinal().range(Xo)},Hi.scale.category20=function(){return Hi.scale.ordinal().range(Yo)},Hi.scale.category20b=function(){return Hi.scale.ordinal().range(Zo)},Hi.scale.category20c=function(){return Hi.scale.ordinal().range(Jo)};var Xo=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Yo=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Zo=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Jo=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];Hi.scale.quantile=function(){return cn([],[])},Hi.scale.quantize=function(){return dn(0,1,[0,1])},Hi.scale.threshold=function(){return pn([.5],[0,1])},Hi.scale.identity=function(){return mn([0,1])},Hi.svg={},Hi.svg.arc=function(){function e(){var e=t.apply(this,arguments),i=n.apply(this,arguments),o=a.apply(this,arguments)+Qo,s=r.apply(this,arguments)+Qo,l=(o>s&&(l=o,o=s,s=l),s-o),u=Fi>l?"0":"1",c=Math.cos(o),d=Math.sin(o),p=Math.cos(s),m=Math.sin(s);return l>=$o?e?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":e?"M"+i*c+","+i*d+"A"+i+","+i+" 0 "+u+",1 "+i*p+","+i*m+"L"+e*p+","+e*m+"A"+e+","+e+" 0 "+u+",0 "+e*c+","+e*d+"Z":"M"+i*c+","+i*d+"A"+i+","+i+" 0 "+u+",1 "+i*p+","+i*m+"L0,0"+"Z"}var t=hn,n=gn,a=fn,r=yn;return e.innerRadius=function(n){return arguments.length?(t=c(n),e):t},e.outerRadius=function(t){return arguments.length?(n=c(t),e):n},e.startAngle=function(t){return arguments.length?(a=c(t),e):a},e.endAngle=function(t){return arguments.length?(r=c(t),e):r},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,i=(a.apply(this,arguments)+r.apply(this,arguments))/2+Qo;return[Math.cos(i)*e,Math.sin(i)*e]},e};var Qo=-Fi/2,$o=2*Fi-1e-6;Hi.svg.line=function(){return vn(l)};var es=Hi.map({linear:_n,"linear-closed":kn,"step-before":xn,"step-after":Mn,basis:jn,"basis-open":An,"basis-closed":En,bundle:On,cardinal:zn,"cardinal-open":Dn,"cardinal-closed":Sn,monotone:qn});es.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var ts=[0,2/3,1/3,0],ns=[0,1/3,2/3,0],as=[0,1/6,2/3,1/6];Hi.svg.line.radial=function(){var e=vn(Fn);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},xn.reverse=Mn,Mn.reverse=xn,Hi.svg.area=function(){return In(l)},Hi.svg.area.radial=function(){var e=In(Fn);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Hi.svg.chord=function(){function n(e,t){var n=a(this,s,e,t),u=a(this,l,e,t);return"M"+n.p0+i(n.r,n.p1,n.a1-n.a0)+(r(n,u)?o(n.r,n.p1,n.r,n.p0):o(n.r,n.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+o(u.r,u.p1,n.r,n.p0))+"Z"}function a(e,t,n,a){var r=t.call(e,n,a),i=u.call(e,r,a),o=d.call(e,r,a)+Qo,s=p.call(e,r,a)+Qo;return{r:i,a0:o,a1:s,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function r(e,t){return e.a0==t.a0&&e.a1==t.a1}function i(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Fi)+",1 "+t}function o(e,t,n,a){return"Q 0,0 "+a}var s=t,l=e,u=Hn,d=fn,p=yn;return n.radius=function(e){return arguments.length?(u=c(e),n):u},n.source=function(e){return arguments.length?(s=c(e),n):s},n.target=function(e){return arguments.length?(l=c(e),n):l},n.startAngle=function(e){return arguments.length?(d=c(e),n):d},n.endAngle=function(e){return arguments.length?(p=c(e),n):p},n},Hi.svg.diagonal=function(){function n(e,t){var n=a.call(this,e,t),o=r.call(this,e,t),s=(n.y+o.y)/2,l=[n,{x:n.x,y:s},{x:o.x,y:s},o];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var a=t,r=e,i=Vn;return n.source=function(e){return arguments.length?(a=c(e),n):a},n.target=function(e){return arguments.length?(r=c(e),n):r},n.projection=function(e){return arguments.length?(i=e,n):i},n},Hi.svg.diagonal.radial=function(){var e=Hi.svg.diagonal(),t=Vn,n=e.projection;return e.projection=function(e){return arguments.length?n(Wn(t=e)):t},e},Hi.svg.symbol=function(){function e(e,a){return(rs.get(t.call(this,e,a))||Un)(n.call(this,e,a))}var t=Kn,n=Gn;return e.type=function(n){return arguments.length?(t=c(n),e):t},e.size=function(t){return arguments.length?(n=c(t),e):n},e};var rs=Hi.map({circle:Un,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*os)),n=t*os;return"M0,"+-t+"L"+n+",0"+" 0,"+t+" "+-n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/is),n=t*is/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/is),n=t*is/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});Hi.svg.symbolTypes=rs.keys();var is=Math.sqrt(3),os=Math.tan(30*Vi);Hi.svg.axis=function(){function e(e){e.each(function(){var e,d=Hi.select(this),p=null==u?n.ticks?n.ticks.apply(n,l):n.domain():u,m=null==t?n.tickFormat?n.tickFormat.apply(n,l):String:t,h=Zn(n,p,c),g=d.selectAll(".tick.minor").data(h,String),f=g.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),y=Hi.transition(g.exit()).style("opacity",1e-6).remove(),v=Hi.transition(g).style("opacity",1),b=d.selectAll(".tick.major").data(p,String),w=b.enter().insert("g","path").attr("class","tick major").style("opacity",1e-6),_=Hi.transition(b.exit()).style("opacity",1e-6).remove(),k=Hi.transition(b).style("opacity",1),x=Wt(n),M=d.selectAll(".domain").data([0]),D=(M.enter().append("path").attr("class","domain"),Hi.transition(M)),S=n.copy(),z=this.__chart__||S;this.__chart__=S,w.append("line"),w.append("text");var T=w.select("line"),C=k.select("line"),j=b.select("text").text(m),A=w.select("text"),E=k.select("text");switch(a){case"bottom":e=Xn,f.attr("y2",i),v.attr("x2",0).attr("y2",i),T.attr("y2",r),A.attr("y",Math.max(r,0)+s),C.attr("x2",0).attr("y2",r),E.attr("x",0).attr("y",Math.max(r,0)+s),j.attr("dy",".71em").style("text-anchor","middle"),D.attr("d","M"+x[0]+","+o+"V0H"+x[1]+"V"+o);break;case"top":e=Xn,f.attr("y2",-i),v.attr("x2",0).attr("y2",-i),T.attr("y2",-r),A.attr("y",-(Math.max(r,0)+s)),C.attr("x2",0).attr("y2",-r),E.attr("x",0).attr("y",-(Math.max(r,0)+s)),j.attr("dy","0em").style("text-anchor","middle"),D.attr("d","M"+x[0]+","+-o+"V0H"+x[1]+"V"+-o);break;case"left":e=Yn,f.attr("x2",-i),v.attr("x2",-i).attr("y2",0),T.attr("x2",-r),A.attr("x",-(Math.max(r,0)+s)),C.attr("x2",-r).attr("y2",0),E.attr("x",-(Math.max(r,0)+s)).attr("y",0),j.attr("dy",".32em").style("text-anchor","end"),D.attr("d","M"+-o+","+x[0]+"H0V"+x[1]+"H"+-o);break;case"right":e=Yn,f.attr("x2",i),v.attr("x2",i).attr("y2",0),T.attr("x2",r),A.attr("x",Math.max(r,0)+s),C.attr("x2",r).attr("y2",0),E.attr("x",Math.max(r,0)+s).attr("y",0),j.attr("dy",".32em").style("text-anchor","start"),D.attr("d","M"+o+","+x[0]+"H0V"+x[1]+"H"+o)}if(n.ticks)w.call(e,z),k.call(e,S),_.call(e,S),f.call(e,z),v.call(e,S),y.call(e,S);else{var O=S.rangeBand()/2,N=function(e){return S(e)+O};w.call(e,N),k.call(e,N)}})}var t,n=Hi.scale.linear(),a=ss,r=6,i=6,o=6,s=3,l=[10],u=null,c=0;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(a=t in ls?t+"":ss,e):a},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t,n){if(!arguments.length)return r;var a=arguments.length-1;return r=+t,i=a>1?+n:r,o=a>0?+arguments[a]:r,e},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(t){return arguments.length?(c=+t,e):c},e};var ss="bottom",ls={top:1,right:1,bottom:1,left:1};Hi.svg.brush=function(){function e(i){i.each(function(){var i,o=Hi.select(this),c=o.selectAll(".background").data([0]),d=o.selectAll(".extent").data([0]),p=o.selectAll(".resize").data(u,String);
o.style("pointer-events","all").on("mousedown.brush",r).on("touchstart.brush",r),c.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),d.enter().append("rect").attr("class","extent").style("cursor","move"),p.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return us[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),p.style("display",e.empty()?"none":null),p.exit().remove(),s&&(i=Wt(s),c.attr("x",i[0]).attr("width",i[1]-i[0]),n(o)),l&&(i=Wt(l),c.attr("y",i[0]).attr("height",i[1]-i[0]),a(o)),t(o)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)][0]+","+c[+/^s/.test(e)][1]+")"})}function n(e){e.select(".extent").attr("x",c[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1][0]-c[0][0])}function a(e){e.select(".extent").attr("y",c[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1][1]-c[0][1])}function r(){function r(){var e=Hi.event.changedTouches;return e?Hi.touches(y,e)[0]:Hi.mouse(y)}function u(){32==Hi.event.keyCode&&(M||(g=null,D[0]-=c[1][0],D[1]-=c[1][1],M=2),F())}function d(){32==Hi.event.keyCode&&2==M&&(D[0]+=c[1][0],D[1]+=c[1][1],M=0,F())}function p(){var e=r(),i=!1;f&&(e[0]+=f[0],e[1]+=f[1]),M||(Hi.event.altKey?(g||(g=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]),D[0]=c[+(e[0]<g[0])][0],D[1]=c[+(e[1]<g[1])][1]):g=null),k&&m(e,s,0)&&(n(w),i=!0),x&&m(e,l,1)&&(a(w),i=!0),i&&(t(w),b({type:"brush",mode:M?"move":"resize"}))}function m(e,t,n){var a,r,o=Wt(t),s=o[0],l=o[1],u=D[n],d=c[1][n]-c[0][n];return M&&(s-=u,l-=d+u),a=Math.max(s,Math.min(l,e[n])),M?r=(a+=u)+d:(g&&(u=Math.max(s,Math.min(l,2*g[n]-a))),a>u?(r=a,a=u):r=u),c[0][n]!==a||c[1][n]!==r?(i=null,c[0][n]=a,c[1][n]=r,!0):void 0}function h(){p(),w.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Hi.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),b({type:"brushend"}),F()}var g,f,y=this,v=Hi.select(Hi.event.target),b=o.of(y,arguments),w=Hi.select(y),_=v.datum(),k=!/^(n|s)$/.test(_)&&s,x=!/^(e|w)$/.test(_)&&l,M=v.classed("extent"),D=r(),S=Hi.select(Ki).on("mousemove.brush",p).on("mouseup.brush",h).on("touchmove.brush",p).on("touchend.brush",h).on("keydown.brush",u).on("keyup.brush",d);if(M)D[0]=c[0][0]-D[0],D[1]=c[0][1]-D[1];else if(_){var z=+/w$/.test(_),T=+/^n/.test(_);f=[c[1-z][0]-D[0],c[1-T][1]-D[1]],D[0]=c[z][0],D[1]=c[T][1]}else Hi.event.altKey&&(g=D.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),Hi.select("body").style("cursor",v.style("cursor")),b({type:"brushstart"}),p(),F()}var i,o=H(e,"brushstart","brush","brushend"),s=null,l=null,u=cs[0],c=[[0,0],[0,0]];return e.x=function(t){return arguments.length?(s=t,u=cs[!s<<1|!l],e):s},e.y=function(t){return arguments.length?(l=t,u=cs[!s<<1|!l],e):l},e.extent=function(t){var n,a,r,o,u;return arguments.length?(i=[[0,0],[0,0]],s&&(n=t[0],a=t[1],l&&(n=n[0],a=a[0]),i[0][0]=n,i[1][0]=a,s.invert&&(n=s(n),a=s(a)),n>a&&(u=n,n=a,a=u),c[0][0]=0|n,c[1][0]=0|a),l&&(r=t[0],o=t[1],s&&(r=r[1],o=o[1]),i[0][1]=r,i[1][1]=o,l.invert&&(r=l(r),o=l(o)),r>o&&(u=r,r=o,o=u),c[0][1]=0|r,c[1][1]=0|o),e):(t=i||c,s&&(n=t[0][0],a=t[1][0],i||(n=c[0][0],a=c[1][0],s.invert&&(n=s.invert(n),a=s.invert(a)),n>a&&(u=n,n=a,a=u))),l&&(r=t[0][1],o=t[1][1],i||(r=c[0][1],o=c[1][1],l.invert&&(r=l.invert(r),o=l.invert(o)),r>o&&(u=r,r=o,o=u))),s&&l?[[n,r],[a,o]]:s?[n,a]:l&&[r,o])},e.clear=function(){return i=null,c[0][0]=c[0][1]=c[1][0]=c[1][1]=0,e},e.empty=function(){return s&&c[0][0]===c[1][0]||l&&c[0][1]===c[1][1]},Hi.rebind(e,o,"on")};var us={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},cs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];Hi.behavior={},Hi.behavior.drag=function(){function e(){this.on("mousedown.drag",t).on("touchstart.drag",t)}function t(){function e(){var e=s.parentNode;return null!=c?Hi.touches(e).filter(function(e){return e.identifier===c})[0]:Hi.mouse(e)}function t(){if(!s.parentNode)return r();var t=e(),n=t[0]-d[0],a=t[1]-d[1];p|=n|a,d=t,F(),l({type:"drag",x:t[0]+o[0],y:t[1]+o[1],dx:n,dy:a})}function r(){l({type:"dragend"}),p&&(F(),Hi.event.target===u&&m.on("click.drag",i,!0)),m.on(null!=c?"touchmove.drag-"+c:"mousemove.drag",null).on(null!=c?"touchend.drag-"+c:"mouseup.drag",null)}function i(){F(),m.on("click.drag",null)}var o,s=this,l=n.of(s,arguments),u=Hi.event.target,c=Hi.event.touches?Hi.event.changedTouches[0].identifier:null,d=e(),p=0,m=Hi.select(Ki).on(null!=c?"touchmove.drag-"+c:"mousemove.drag",t).on(null!=c?"touchend.drag-"+c:"mouseup.drag",r,!0);a?(o=a.apply(s,arguments),o=[o.x-d[0],o.y-d[1]]):o=[0,0],null==c&&F(),l({type:"dragstart"})}var n=H(e,"drag","dragstart","dragend"),a=null;return e.origin=function(t){return arguments.length?(a=t,e):a},Hi.rebind(e,n,"on")},Hi.behavior.zoom=function(){function e(){this.on("mousedown.zoom",s).on("mousemove.zoom",u).on(ms+".zoom",l).on("dblclick.zoom",c).on("touchstart.zoom",d).on("touchmove.zoom",p).on("touchend.zoom",d)}function t(e){return[(e[0]-w[0])/_,(e[1]-w[1])/_]}function n(e){return[e[0]*_+w[0],e[1]*_+w[1]]}function a(e){_=Math.max(k[0],Math.min(k[1],e))}function r(e,t){t=n(t),w[0]+=e[0]-t[0],w[1]+=e[1]-t[1]}function i(){f&&f.domain(g.range().map(function(e){return(e-w[0])/_}).map(g.invert)),v&&v.domain(y.range().map(function(e){return(e-w[1])/_}).map(y.invert))}function o(e){i(),Hi.event.preventDefault(),e({type:"zoom",scale:_,translate:w})}function s(){function e(){u=1,r(Hi.mouse(i),d),o(s)}function n(){u&&F(),c.on("mousemove.zoom",null).on("mouseup.zoom",null),u&&Hi.event.target===l&&c.on("click.zoom",a,!0)}function a(){F(),c.on("click.zoom",null)}var i=this,s=x.of(i,arguments),l=Hi.event.target,u=0,c=Hi.select(Ki).on("mousemove.zoom",e).on("mouseup.zoom",n),d=t(Hi.mouse(i));Ki.focus(),F()}function l(){m||(m=t(Hi.mouse(this))),a(Math.pow(2,.002*ds())*_),r(Hi.mouse(this),m),o(x.of(this,arguments))}function u(){m=null}function c(){var e=Hi.mouse(this),n=t(e),i=Math.log(_)/Math.LN2;a(Math.pow(2,Hi.event.shiftKey?Math.ceil(i)-1:Math.floor(i)+1)),r(e,n),o(x.of(this,arguments))}function d(){var e=Hi.touches(this),n=Date.now();if(h=_,m={},e.forEach(function(e){m[e.identifier]=t(e)}),F(),1===e.length){if(500>n-b){var i=e[0],s=t(e[0]);a(2*_),r(i,s),o(x.of(this,arguments))}b=n}}function p(){var e=Hi.touches(this),t=e[0],n=m[t.identifier];if(i=e[1]){var i,s=m[i.identifier];t=[(t[0]+i[0])/2,(t[1]+i[1])/2],n=[(n[0]+s[0])/2,(n[1]+s[1])/2],a(Hi.event.scale*h)}r(t,n),b=null,o(x.of(this,arguments))}var m,h,g,f,y,v,b,w=[0,0],_=1,k=ps,x=H(e,"zoom");return e.translate=function(t){return arguments.length?(w=t.map(Number),i(),e):w},e.scale=function(t){return arguments.length?(_=+t,i(),e):_},e.scaleExtent=function(t){return arguments.length?(k=null==t?ps:t.map(Number),e):k},e.x=function(t){return arguments.length?(f=t,g=t.copy(),w=[0,0],_=1,e):f},e.y=function(t){return arguments.length?(v=t,y=t.copy(),w=[0,0],_=1,e):v},Hi.rebind(e,x,"on")};var ds,ps=[0,1/0],ms="onwheel"in document?(ds=function(){return-Hi.event.deltaY*(Hi.event.deltaMode?120:1)},"wheel"):"onmousewheel"in document?(ds=function(){return Hi.event.wheelDelta},"mousewheel"):(ds=function(){return-Hi.event.detail},"MozMousePixelScroll");Hi.layout={},Hi.layout.bundle=function(){return function(e){for(var t=[],n=-1,a=e.length;a>++n;)t.push(Jn(e[n]));return t}},Hi.layout.chord=function(){function e(){var e,u,d,p,m,h={},g=[],f=Hi.range(i),y=[];for(n=[],a=[],e=0,p=-1;i>++p;){for(u=0,m=-1;i>++m;)u+=r[p][m];g.push(u),y.push(Hi.range(i)),e+=u}for(o&&f.sort(function(e,t){return o(g[e],g[t])}),s&&y.forEach(function(e,t){e.sort(function(e,n){return s(r[t][e],r[t][n])})}),e=(2*Fi-c*i)/e,u=0,p=-1;i>++p;){for(d=u,m=-1;i>++m;){var v=f[p],b=y[v][m],w=r[v][b],_=u,k=u+=w*e;h[v+"-"+b]={index:v,subindex:b,startAngle:_,endAngle:k,value:w}}a[v]={index:v,startAngle:d,endAngle:u,value:(u-d)/e},u+=c}for(p=-1;i>++p;)for(m=p-1;i>++m;){var x=h[p+"-"+m],M=h[m+"-"+p];(x.value||M.value)&&n.push(x.value<M.value?{source:M,target:x}:{source:x,target:M})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,a,r,i,o,s,l,u={},c=0;return u.matrix=function(e){return arguments.length?(i=(r=e)&&r.length,n=a=null,u):r},u.padding=function(e){return arguments.length?(c=e,n=a=null,u):c},u.sortGroups=function(e){return arguments.length?(o=e,n=a=null,u):o},u.sortSubgroups=function(e){return arguments.length?(s=e,n=null,u):s},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return a||e(),a},u},Hi.layout.force=function(){function e(e){return function(t,n,a,r){if(t.point!==e){var i=t.cx-e.x,o=t.cy-e.y,s=1/Math.sqrt(i*i+o*o);if(f>(r-n)*s){var l=t.charge*s*s;return e.px-=i*l,e.py-=o*l,!0}if(t.point&&isFinite(s)){var l=t.pointCharge*s*s;e.px-=i*l,e.py-=o*l}}return!t.charge}}function t(e){e.px=Hi.event.x,e.py=Hi.event.y,s.resume()}var n,a,r,i,o,s={},u=Hi.dispatch("start","tick","end"),c=[1,1],d=.9,p=hs,m=gs,h=-30,g=.1,f=.8,y=[],v=[];return s.tick=function(){if(.005>(a*=.99))return u.end({type:"end",alpha:a=0}),!0;var t,n,s,l,p,m,f,b,w,_=y.length,k=v.length;for(n=0;k>n;++n)s=v[n],l=s.source,p=s.target,b=p.x-l.x,w=p.y-l.y,(m=b*b+w*w)&&(m=a*i[n]*((m=Math.sqrt(m))-r[n])/m,b*=m,w*=m,p.x-=b*(f=l.weight/(p.weight+l.weight)),p.y-=w*f,l.x+=b*(f=1-f),l.y+=w*f);if((f=a*g)&&(b=c[0]/2,w=c[1]/2,n=-1,f))for(;_>++n;)s=y[n],s.x+=(b-s.x)*f,s.y+=(w-s.y)*f;if(h)for(ra(t=Hi.geom.quadtree(y),a,o),n=-1;_>++n;)(s=y[n]).fixed||t.visit(e(s));for(n=-1;_>++n;)s=y[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*d,s.y-=(s.py-(s.py=s.y))*d);u.tick({type:"tick",alpha:a})},s.nodes=function(e){return arguments.length?(y=e,s):y},s.links=function(e){return arguments.length?(v=e,s):v},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(m="function"==typeof e?e:+e,s):m},s.friction=function(e){return arguments.length?(d=+e,s):d},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.gravity=function(e){return arguments.length?(g=+e,s):g},s.theta=function(e){return arguments.length?(f=+e,s):f},s.alpha=function(e){return arguments.length?(e=+e,a?a=e>0?e:0:e>0&&(u.start({type:"start",alpha:a=e}),Hi.timer(s.tick)),s):a},s.start=function(){function e(e,a){for(var r,i=t(n),o=-1,s=i.length;s>++o;)if(!isNaN(r=i[o][e]))return r;return Math.random()*a}function t(){if(!l){for(l=[],a=0;d>a;++a)l[a]=[];for(a=0;g>a;++a){var e=v[a];l[e.source.index].push(e.target),l[e.target.index].push(e.source)}}return l[n]}var n,a,l,u,d=y.length,g=v.length,f=c[0],b=c[1];for(n=0;d>n;++n)(u=y[n]).index=n,u.weight=0;for(n=0;g>n;++n)u=v[n],"number"==typeof u.source&&(u.source=y[u.source]),"number"==typeof u.target&&(u.target=y[u.target]),++u.source.weight,++u.target.weight;for(n=0;d>n;++n)u=y[n],isNaN(u.x)&&(u.x=e("x",f)),isNaN(u.y)&&(u.y=e("y",b)),isNaN(u.px)&&(u.px=u.x),isNaN(u.py)&&(u.py=u.y);if(r=[],"function"==typeof p)for(n=0;g>n;++n)r[n]=+p.call(this,v[n],n);else for(n=0;g>n;++n)r[n]=p;if(i=[],"function"==typeof m)for(n=0;g>n;++n)i[n]=+m.call(this,v[n],n);else for(n=0;g>n;++n)i[n]=m;if(o=[],"function"==typeof h)for(n=0;d>n;++n)o[n]=+h.call(this,y[n],n);else for(n=0;d>n;++n)o[n]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Hi.behavior.drag().origin(l).on("dragstart.force",ea).on("drag.force",t).on("dragend.force",ta)),arguments.length?(this.on("mouseover.force",na).on("mouseout.force",aa).call(n),void 0):n},Hi.rebind(s,u,"on")};var hs=20,gs=1;Hi.layout.partition=function(){function e(t,n,a,r){var i=t.children;if(t.x=n,t.y=t.depth*r,t.dx=a,t.dy=r,i&&(o=i.length)){var o,s,l,u=-1;for(a=t.value?a/t.value:0;o>++u;)e(s=i[u],n,l=s.value*a,r),n+=l}}function t(e){var n=e.children,a=0;if(n&&(r=n.length))for(var r,i=-1;r>++i;)a=Math.max(a,t(n[i]));return 1+a}function n(n,i){var o=a.call(this,n,i);return e(o[0],0,r[0],r[1]/t(o[0])),o}var a=Hi.layout.hierarchy(),r=[1,1];return n.size=function(e){return arguments.length?(r=e,n):r},fa(n,a)},Hi.layout.pie=function(){function e(i){var o=i.map(function(n,a){return+t.call(e,n,a)}),s=+("function"==typeof a?a.apply(this,arguments):a),l=(("function"==typeof r?r.apply(this,arguments):r)-a)/Hi.sum(o),u=Hi.range(i.length);null!=n&&u.sort(n===fs?function(e,t){return o[t]-o[e]}:function(e,t){return n(i[e],i[t])});var c=[];return u.forEach(function(e){var t;c[e]={data:i[e],value:t=o[e],startAngle:s,endAngle:s+=t*l}}),c}var t=Number,n=fs,a=0,r=2*Fi;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(a=t,e):a},e.endAngle=function(t){return arguments.length?(r=t,e):r},e};var fs={};Hi.layout.stack=function(){function e(s,l){var u=s.map(function(n,a){return t.call(e,n,a)}),c=u.map(function(t){return t.map(function(t,n){return[i.call(e,t,n),o.call(e,t,n)]})}),d=n.call(e,c,l);u=Hi.permute(u,d),c=Hi.permute(c,d);var p,m,h,g=a.call(e,c,l),f=u.length,y=u[0].length;for(m=0;y>m;++m)for(r.call(e,u[0][m],h=g[m],c[0][m][1]),p=1;f>p;++p)r.call(e,u[p][m],h+=c[p-1][m][1],c[p][m][1]);return s}var t=l,n=la,a=ua,r=sa,i=ia,o=oa;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:ys.get(t)||la,e):n},e.offset=function(t){return arguments.length?(a="function"==typeof t?t:vs.get(t)||ua,e):a},e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(r=t,e):r},e};var ys=Hi.map({"inside-out":function(e){var t,n,a=e.length,r=e.map(ca),i=e.map(da),o=Hi.range(a).sort(function(e,t){return r[e]-r[t]}),s=0,l=0,u=[],c=[];for(t=0;a>t;++t)n=o[t],l>s?(s+=i[n],u.push(n)):(l+=i[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return Hi.range(e.length).reverse()},"default":la}),vs=Hi.map({silhouette:function(e){var t,n,a,r=e.length,i=e[0].length,o=[],s=0,l=[];for(n=0;i>n;++n){for(t=0,a=0;r>t;t++)a+=e[t][n][1];a>s&&(s=a),o.push(a)}for(n=0;i>n;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,a,r,i,o,s,l,u,c=e.length,d=e[0],p=d.length,m=[];for(m[0]=l=u=0,n=1;p>n;++n){for(t=0,r=0;c>t;++t)r+=e[t][n][1];for(t=0,i=0,s=d[n][0]-d[n-1][0];c>t;++t){for(a=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);t>a;++a)o+=(e[a][n][1]-e[a][n-1][1])/s;i+=o*e[t][n][1]}m[n]=l-=r?i/r*s:0,u>l&&(u=l)}for(n=0;p>n;++n)m[n]-=u;return m},expand:function(e){var t,n,a,r=e.length,i=e[0].length,o=1/r,s=[];for(n=0;i>n;++n){for(t=0,a=0;r>t;t++)a+=e[t][n][1];if(a)for(t=0;r>t;t++)e[t][n][1]/=a;else for(t=0;r>t;t++)e[t][n][1]=o}for(n=0;i>n;++n)s[n]=0;return s},zero:ua});Hi.layout.histogram=function(){function e(e,i){for(var o,s,l=[],u=e.map(n,this),c=a.call(this,u,i),d=r.call(this,c,u,i),i=-1,p=u.length,m=d.length-1,h=t?1:1/p;m>++i;)o=l[i]=[],o.dx=d[i+1]-(o.x=d[i]),o.y=0;if(m>0)for(i=-1;p>++i;)s=u[i],s>=c[0]&&c[1]>=s&&(o=l[Hi.bisect(d,s,1,m)-1],o.y+=h,o.push(e[i]));return l}var t=!0,n=Number,a=ga,r=ma;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(a=c(t),e):a},e.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return ha(e,t)}:c(t),e):r},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},Hi.layout.hierarchy=function(){function e(t,o,s){var l=r.call(n,t,o);if(t.depth=o,s.push(t),l&&(u=l.length)){for(var u,c,d=-1,p=t.children=[],m=0,h=o+1;u>++d;)c=e(l[d],h,s),c.parent=t,p.push(c),m+=c.value;a&&p.sort(a),i&&(t.value=m)}else i&&(t.value=+i.call(n,t,o)||0);return t}function t(e,a){var r=e.children,o=0;if(r&&(s=r.length))for(var s,l=-1,u=a+1;s>++l;)o+=t(r[l],u);else i&&(o=+i.call(n,e,a)||0);return i&&(e.value=o),o}function n(t){var n=[];return e(t,0,n),n}var a=ba,r=ya,i=va;return n.sort=function(e){return arguments.length?(a=e,n):a},n.children=function(e){return arguments.length?(r=e,n):r},n.value=function(e){return arguments.length?(i=e,n):i},n.revalue=function(e){return t(e,0),e},n},Hi.layout.pack=function(){function e(e,r){var i=t.call(this,e,r),o=i[0];o.x=0,o.y=0,Ia(o,function(e){e.r=Math.sqrt(e.value)}),Ia(o,Da);var s=a[0],l=a[1],u=Math.max(2*o.r/s,2*o.r/l);if(n>0){var c=n*u/2;Ia(o,function(e){e.r+=c}),Ia(o,Da),Ia(o,function(e){e.r-=c}),u=Math.max(2*o.r/s,2*o.r/l)}return Ta(o,s/2,l/2,1/u),i}var t=Hi.layout.hierarchy().sort(_a),n=0,a=[1,1];return e.size=function(t){return arguments.length?(a=t,e):a},e.padding=function(t){return arguments.length?(n=+t,e):n},fa(e,t)},Hi.layout.cluster=function(){function e(e,r){var i,o=t.call(this,e,r),s=o[0],l=0;Ia(s,function(e){var t=e.children;t&&t.length?(e.x=Aa(t),e.y=ja(t)):(e.x=i?l+=n(e,i):0,e.y=0,i=e)});var u=Ea(s),c=Oa(s),d=u.x-n(u,c)/2,p=c.x+n(c,u)/2;return Ia(s,function(e){e.x=(e.x-d)/(p-d)*a[0],e.y=(1-(s.y?e.y/s.y:1))*a[1]}),o}var t=Hi.layout.hierarchy().sort(null).value(null),n=Na,a=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(a=t,e):a},fa(e,t)},Hi.layout.tree=function(){function e(e,r){function i(e,t){var a=e.children,r=e._tree;if(a&&(o=a.length)){for(var o,l,u,c=a[0],d=c,p=-1;o>++p;)u=a[p],i(u,l),d=s(u,l,d),l=u;Ha(e);var m=.5*(c._tree.prelim+u._tree.prelim);t?(r.prelim=t._tree.prelim+n(e,t),r.mod=r.prelim-m):r.prelim=m}else t&&(r.prelim=t._tree.prelim+n(e,t))}function o(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(a=n.length)){var a,r=-1;for(t+=e._tree.mod;a>++r;)o(n[r],t)}}function s(e,t,a){if(t){for(var r,i=e,o=e,s=t,l=e.parent.children[0],u=i._tree.mod,c=o._tree.mod,d=s._tree.mod,p=l._tree.mod;s=Ra(s),i=Pa(i),s&&i;)l=Pa(l),o=Ra(o),o._tree.ancestor=e,r=s._tree.prelim+d-i._tree.prelim-u+n(s,i),r>0&&(Va(Wa(s,e,a),e,r),u+=r,c+=r),d+=s._tree.mod,u+=i._tree.mod,p+=l._tree.mod,c+=o._tree.mod;s&&!Ra(o)&&(o._tree.thread=s,o._tree.mod+=d-c),i&&!Pa(l)&&(l._tree.thread=i,l._tree.mod+=u-p,a=e)}return a}var l=t.call(this,e,r),u=l[0];Ia(u,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),i(u),o(u,-u._tree.prelim);var c=La(u,qa),d=La(u,Ba),p=La(u,Fa),m=c.x-n(c,d)/2,h=d.x+n(d,c)/2,g=p.depth||1;return Ia(u,function(e){e.x=(e.x-m)/(h-m)*a[0],e.y=e.depth/g*a[1],delete e._tree}),l}var t=Hi.layout.hierarchy().sort(null).value(null),n=Na,a=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(a=t,e):a},fa(e,t)},Hi.layout.treemap=function(){function e(e,t){for(var n,a,r=-1,i=e.length;i>++r;)a=(n=e[r]).value*(0>t?0:t),n.area=isNaN(a)||0>=a?0:a}function t(n){var i=n.children;if(i&&i.length){var o,s,l,u=d(n),c=[],p=i.slice(),h=1/0,g="slice"===m?u.dx:"dice"===m?u.dy:"slice-dice"===m?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(p,u.dx*u.dy/n.value),c.area=0;(l=p.length)>0;)c.push(o=p[l-1]),c.area+=o.area,"squarify"!==m||h>=(s=a(c,g))?(p.pop(),h=s):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,h=1/0);c.length&&(r(c,g,u,!0),c.length=c.area=0),i.forEach(t)}}function n(t){var a=t.children;if(a&&a.length){var i,o=d(t),s=a.slice(),l=[];for(e(s,o.dx*o.dy/t.value),l.area=0;i=s.pop();)l.push(i),l.area+=i.area,null!=i.z&&(r(l,i.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);a.forEach(n)}}function a(e,t){for(var n,a=e.area,r=0,i=1/0,o=-1,s=e.length;s>++o;)(n=e[o].area)&&(i>n&&(i=n),n>r&&(r=n));return a*=a,t*=t,a?Math.max(t*r*h/a,a/(t*i*h)):1/0}function r(e,t,n,a){var r,i=-1,o=e.length,s=n.x,u=n.y,c=t?l(e.area/t):0;if(t==n.dx){for((a||c>n.dy)&&(c=n.dy);o>++i;)r=e[i],r.x=s,r.y=u,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((a||c>n.dx)&&(c=n.dx);o>++i;)r=e[i],r.x=s,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function i(a){var r=o||s(a),i=r[0];return i.x=0,i.y=0,i.dx=u[0],i.dy=u[1],o&&s.revalue(i),e([i],i.dx*i.dy/i.value),(o?n:t)(i),p&&(o=r),r}var o,s=Hi.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Ga,p=!1,m="squarify",h=.5*(1+Math.sqrt(5));return i.size=function(e){return arguments.length?(u=e,i):u},i.padding=function(e){function t(t){var n=e.call(i,t,t.depth);return null==n?Ga(t):Ka(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ka(t,e)}if(!arguments.length)return c;var a;return d=null==(c=e)?Ga:"function"==(a=typeof e)?t:"number"===a?(e=[e,e,e,e],n):n,i},i.round=function(e){return arguments.length?(l=e?Math.round:Number,i):l!=Number},i.sticky=function(e){return arguments.length?(p=e,o=null,i):p},i.ratio=function(e){return arguments.length?(h=e,i):h},i.mode=function(e){return arguments.length?(m=e+"",i):m},fa(i,s)},Hi.layout.voronoi=function(){function e(e){var n,i,o,s=[],l=c(a),u=c(r),d=e.length;for(o=0;d>o;++o)s.push([+l.call(this,i=e[o],o),+u.call(this,i,o)]);for(n=Hi.geom.voronoi(s),o=0;d>o;++o)n[o].data=e[o];if(t)for(o=0;d>o;++o)t(n[o]);return n}var t,n=null,a=bn,r=wn;return e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(r=t,e):r},e.size=function(a){if(!arguments.length)return n;if(null==a)t=null;else{var r=+a[0],i=+a[1];t=Hi.geom.polygon([[0,0],[0,i],[r,i],[r,0]]).clip}return e},e},Hi.csv=Ua(",","text/csv"),Hi.tsv=Ua("	","text/tab-separated-values"),Hi.geo={},Hi.geo.stream=function(e,t){bs.hasOwnProperty(e.type)?bs[e.type](e,t):Xa(e,t)};var bs={Feature:function(e,t){Xa(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,a=-1,r=n.length;r>++a;)Xa(n[a].geometry,t)}},ws={Sphere:function(e,t){t.sphere()},Point:function(e,t){var n=e.coordinates;t.point(n[0],n[1])},MultiPoint:function(e,t){for(var n,a=e.coordinates,r=-1,i=a.length;i>++r;)n=a[r],t.point(n[0],n[1])},LineString:function(e,t){Ya(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;r>++a;)Ya(n[a],t,0)},Polygon:function(e,t){Za(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;r>++a;)Za(n[a],t)},GeometryCollection:function(e,t){for(var n=e.geometries,a=-1,r=n.length;r>++a;)Xa(n[a],t)}};Hi.geo.distance=function(e,t){var n,a=(t[0]-e[0])*Vi,r=e[1]*Vi,i=t[1]*Vi,o=Math.sin(a),s=Math.cos(a),l=Math.sin(r),u=Math.cos(r),c=Math.sin(i),d=Math.cos(i);return Math.atan2(Math.sqrt((n=d*o)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},Hi.geo.albersUsa=function(){function e(e){return t(e)(e)}function t(e){var t=e[0],n=e[1];return n>50?o:-140>t?s:21>n?l:i}var n,a,r,i=Hi.geo.albers(),o=Hi.geo.albers().rotate([160,0]).center([0,60]).parallels([55,65]),s=Hi.geo.albers().rotate([160,0]).center([0,20]).parallels([8,18]),l=Hi.geo.albers().rotate([60,0]).center([0,10]).parallels([8,18]);return e.invert=function(e){return n(e)||a(e)||r(e)||i.invert(e)},e.scale=function(t){return arguments.length?(i.scale(t),o.scale(.6*t),s.scale(t),l.scale(1.5*t),e.translate(i.translate())):i.scale()},e.translate=function(t){if(!arguments.length)return i.translate();var u=i.scale(),c=t[0],d=t[1];return i.translate(t),o.translate([c-.4*u,d+.17*u]),s.translate([c-.19*u,d+.2*u]),l.translate([c+.58*u,d+.43*u]),n=or(o,[[-180,50],[-130,72]]),a=or(s,[[-164,18],[-154,24]]),r=or(l,[[-67.5,17.5],[-65,19]]),e},e.scale(i.scale())},(Hi.geo.albers=function(){var e=29.5*Vi,t=45.5*Vi,n=Ur(sr),a=n(e,t);return a.parallels=function(a){return arguments.length?n(e=a[0]*Vi,t=a[1]*Vi):[e*Wi,t*Wi]},a.rotate([98,0]).center([0,38]).scale(1e3)}).raw=sr;var _s=$r(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Hi.geo.azimuthalEqualArea=function(){return Kr(_s)}).raw=_s;var ks=$r(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},l);(Hi.geo.azimuthalEquidistant=function(){return Kr(ks)}).raw=ks,Hi.geo.bounds=lr(l),Hi.geo.centroid=function(e){xs=Ms=Ds=Ss=zs=0,Hi.geo.stream(e,Ts);var t;return Ms&&Math.abs(t=Math.sqrt(Ds*Ds+Ss*Ss+zs*zs))>Ii?[Math.atan2(Ss,Ds)*Wi,Math.asin(Math.max(-1,Math.min(1,zs/t)))*Wi]:void 0};var xs,Ms,Ds,Ss,zs,Ts={sphere:function(){2>xs&&(xs=2,Ms=Ds=Ss=zs=0)},point:ur,lineStart:dr,lineEnd:pr,polygonStart:function(){2>xs&&(xs=2,Ms=Ds=Ss=zs=0),Ts.lineStart=cr},polygonEnd:function(){Ts.lineStart=dr}};Hi.geo.circle=function(){function e(){var e="function"==typeof a?a.apply(this,arguments):a,t=Yr(-e[0]*Vi,-e[1]*Vi,0).invert,r=[];return n(null,null,1,{point:function(e,n){r.push(e=t(e,n)),e[0]*=Wi,e[1]*=Wi}}),{type:"Polygon",coordinates:[r]}}var t,n,a=[0,0],r=6;return e.origin=function(t){return arguments.length?(a=t,e):a},e.angle=function(a){return arguments.length?(n=mr((t=+a)*Vi,r*Vi),e):t},e.precision=function(a){return arguments.length?(n=mr(t*Vi,(r=+a)*Vi),e):r},e.angle(90)};var Cs=gr(u,wr,kr);(Hi.geo.equirectangular=function(){return Kr(Cr).scale(250/Fi)}).raw=Cr.invert=Cr;var js=$r(function(e){return 1/e},Math.atan);(Hi.geo.gnomonic=function(){return Kr(js)}).raw=js,Hi.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Hi.range(Math.ceil(i/f)*f,r,f).map(p).concat(Hi.range(Math.ceil(u/y)*y,l,y).map(m)).concat(Hi.range(Math.ceil(a/h)*h,n,h).filter(function(e){return Math.abs(e%f)>Ii}).map(c)).concat(Hi.range(Math.ceil(s/g)*g,o,g).filter(function(e){return Math.abs(e%y)>Ii}).map(d))}var n,a,r,i,o,s,l,u,c,d,p,m,h=10,g=h,f=90,y=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(m(l).slice(1),p(r).reverse().slice(1),m(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],l=+t[1][1],i>r&&(t=i,i=r,r=t),u>l&&(t=u,u=l,l=t),e.precision(v)):[[i,u],[r,l]]},e.minorExtent=function(t){return arguments.length?(a=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],a>n&&(t=a,a=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(v)):[[a,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(f=+t[0],y=+t[1],e):[f,y]},e.minorStep=function(t){return arguments.length?(h=+t[0],g=+t[1],e):[h,g]},e.precision=function(t){return arguments.length?(v=+t,c=jr(s,o,90),d=Ar(a,n,v),p=jr(u,l,90),m=Ar(i,r,v),e):v},e.majorExtent([[-180,-90+Ii],[180,90-Ii]]).minorExtent([[-180,-80-Ii],[180,80+Ii]])},Hi.geo.interpolate=function(e,t){return Or(e[0]*Vi,e[1]*Vi,t[0]*Vi,t[1]*Vi)},Hi.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[a||i.apply(this,arguments),r||o.apply(this,arguments)]}}var a,r,i=t,o=e;return n.distance=function(){return Hi.geo.distance(a||i.apply(this,arguments),r||o.apply(this,arguments))},n.source=function(e){return arguments.length?(i=e,a="function"==typeof e?null:e,n):i},n.target=function(e){return arguments.length?(o=e,r="function"==typeof e?null:e,n):o},n.precision=function(){return arguments.length?n:0},n},Nr.invert=function(e,t){return[2*Fi*e,2*Math.atan(Math.exp(2*Fi*t))-Fi/2]},(Hi.geo.mercator=function(){return Kr(Nr).scale(500)}).raw=Nr;var As=$r(function(){return 1},Math.asin);(Hi.geo.orthographic=function(){return Kr(As)}).raw=As,Hi.geo.path=function(){function e(e){return e&&Hi.geo.stream(e,a(r.pointRadius("function"==typeof i?+i.apply(this,arguments):i))),r.result()}var t,n,a,r,i=4.5;return e.area=function(e){return Es=0,Hi.geo.stream(e,a(Ns)),Es},e.centroid=function(e){return xs=Ds=Ss=zs=0,Hi.geo.stream(e,a(Ps)),zs?[Ds/zs,Ss/zs]:void 0},e.bounds=function(e){return lr(a)(e)},e.projection=function(n){return arguments.length?(a=(t=n)?n.stream||Rr(n):l,e):t},e.context=function(t){return arguments.length?(r=null==(n=t)?new Lr:new Br(t),e):n},e.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:+t,e):i},e.projection(Hi.geo.albersUsa()).context(null)};var Es,Os,Ns={point:Ht,lineStart:Ht,lineEnd:Ht,polygonStart:function(){Os=0,Ns.lineStart=qr},polygonEnd:function(){Ns.lineStart=Ns.lineEnd=Ns.point=Ht,Es+=Math.abs(Os/2)}},Ps={point:Fr,lineStart:Ir,lineEnd:Hr,polygonStart:function(){Ps.lineStart=Vr},polygonEnd:function(){Ps.point=Fr,Ps.lineStart=Ir,Ps.lineEnd=Hr}};Hi.geo.area=function(e){return Rs=0,Hi.geo.stream(e,qs),Rs};var Rs,Ls,Bs,qs={sphere:function(){Rs+=4*Fi},point:Ht,lineStart:Ht,lineEnd:Ht,polygonStart:function(){Ls=1,Bs=0,qs.lineStart=Wr},polygonEnd:function(){var e=2*Math.atan2(Bs,Ls);Rs+=0>e?4*Fi+e:e,qs.lineStart=qs.lineEnd=qs.point=Ht}};Hi.geo.length=function(e){return Fs=0,Hi.geo.stream(e,Is),Fs};var Fs,Is={sphere:Ht,point:Ht,lineStart:Gr,lineEnd:Ht,polygonStart:Ht,polygonEnd:Ht};Hi.geo.projection=Kr,Hi.geo.projectionMutator=Ur,Hi.geo.rotation=function(e){return e=Yr(e[0]%360*Vi,e[1]*Vi,e.length>2?e[2]*Vi:0),function(t){return t=e(t[0]*Vi,t[1]*Vi),t[0]*=Wi,t[1]*=Wi,t}};var Hs=$r(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(Hi.geo.stereographic=function(){return Kr(Hs)}).raw=Hs,Hi.geom={},Hi.geom.hull=function(e){if(3>e.length)return[];var t,n,a,r,i,o,s,l,u,c,d=e.length,p=d-1,m=[],h=[],g=0;for(t=1;d>t;++t)e[t][1]<e[g][1]?g=t:e[t][1]==e[g][1]&&(g=e[t][0]<e[g][0]?t:g);for(t=0;d>t;++t)t!==g&&(r=e[t][1]-e[g][1],a=e[t][0]-e[g][0],m.push({angle:Math.atan2(r,a),index:t}));for(m.sort(function(e,t){return e.angle-t.angle}),u=m[0].angle,l=m[0].index,s=0,t=1;p>t;++t)n=m[t].index,u==m[t].angle?(a=e[l][0]-e[g][0],r=e[l][1]-e[g][1],i=e[n][0]-e[g][0],o=e[n][1]-e[g][1],a*a+r*r>=i*i+o*o?m[t].index=-1:(m[s].index=-1,u=m[t].angle,s=t,l=n)):(u=m[t].angle,s=t,l=n);for(h.push(g),t=0,n=0;2>t;++n)-1!==m[n].index&&(h.push(m[n].index),t++);for(c=h.length;p>n;++n)if(-1!==m[n].index){for(;!ei(h[c-2],h[c-1],m[n].index,e);)--c;h[c++]=m[n].index}var f=[];for(t=0;c>t;++t)f.push(e[h[t]]);return f},Hi.geom.polygon=function(e){return e.area=function(){for(var t=0,n=e.length,a=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];n>++t;)a+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return.5*a},e.centroid=function(t){var n,a,r=-1,i=e.length,o=0,s=0,l=e[i-1];for(arguments.length||(t=-1/(6*e.area()));i>++r;)n=l,l=e[r],a=n[0]*l[1]-l[0]*n[1],o+=(n[0]+l[0])*a,s+=(n[1]+l[1])*a;return[o*t,s*t]},e.clip=function(t){for(var n,a,r,i,o,s,l=-1,u=e.length,c=e[u-1];u>++l;){for(n=t.slice(),t.length=0,i=e[l],o=n[(r=n.length)-1],a=-1;r>++a;)s=n[a],ti(s,c,i)?(ti(o,c,i)||t.push(ni(o,s,c,i)),t.push(s)):ti(o,c,i)&&t.push(ni(o,s,c,i)),o=s;c=i}return t},e},Hi.geom.voronoi=function(e){var t=e.map(function(){return[]}),n=1e6;return ai(e,function(e){var a,r,i,o,s,l;1===e.a&&e.b>=0?(a=e.ep.r,r=e.ep.l):(a=e.ep.l,r=e.ep.r),1===e.a?(s=a?a.y:-n,i=e.c-e.b*s,l=r?r.y:n,o=e.c-e.b*l):(i=a?a.x:-n,s=e.c-e.a*i,o=r?r.x:n,l=e.c-e.a*o);var u=[i,s],c=[o,l];t[e.region.l.index].push(u,c),t[e.region.r.index].push(u,c)}),t=t.map(function(t,n){var a=e[n][0],r=e[n][1],i=t.map(function(e){return Math.atan2(e[0]-a,e[1]-r)}),o=Hi.range(t.length).sort(function(e,t){return i[e]-i[t]});return o.filter(function(e,t){return!t||i[e]-i[o[t-1]]>Ii}).map(function(e){return t[e]})}),t.forEach(function(t,a){var r=t.length;if(!r)return t.push([-n,-n],[-n,n],[n,n],[n,-n]);if(!(r>2)){var i=e[a],o=t[0],s=t[1],l=i[0],u=i[1],c=o[0],d=o[1],p=s[0],m=s[1],h=Math.abs(p-c),g=m-d;if(Ii>Math.abs(g)){var f=d>u?-n:n;t.push([-n,f],[n,f])}else if(Ii>h){var y=c>l?-n:n;t.push([y,-n],[y,n])}else{var f=(c-l)*(m-d)>(p-c)*(d-u)?n:-n,v=Math.abs(g)-h;Ii>Math.abs(v)?t.push([0>g?f:-f,f]):(v>0&&(f*=-1),t.push([-n,f],[n,f]))}}}),t};var Vs={l:"r",r:"l"};Hi.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return ai(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,a){var r=e[a],i=r[0],o=r[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-i,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var s=0,l=t.length-1;l>s;s++)n.push([r,t[s],t[s+1]])
}),n},Hi.geom.quadtree=function(e,t,n,a,r){function i(e,t,n,a,r,i){if(!isNaN(t.x)&&!isNaN(t.y))if(e.leaf){var s=e.point;s?.01>Math.abs(s.x-t.x)+Math.abs(s.y-t.y)?o(e,t,n,a,r,i):(e.point=null,o(e,s,n,a,r,i),o(e,t,n,a,r,i)):e.point=t}else o(e,t,n,a,r,i)}function o(e,t,n,a,r,o){var s=.5*(n+r),l=.5*(a+o),u=t.x>=s,c=t.y>=l,d=(c<<1)+u;e.leaf=!1,e=e.nodes[d]||(e.nodes[d]=ri()),u?n=s:r=s,c?a=l:o=l,i(e,t,n,a,r,o)}var s,l=-1,u=e.length;if(5>arguments.length)if(3===arguments.length)r=n,a=t,n=t=0;else for(t=n=1/0,a=r=-1/0;u>++l;)s=e[l],t>s.x&&(t=s.x),n>s.y&&(n=s.y),s.x>a&&(a=s.x),s.y>r&&(r=s.y);var c=a-t,d=r-n;c>d?r=n+c:a=t+d;var p=ri();return p.add=function(e){i(p,e,t,n,a,r)},p.visit=function(e){ii(e,p,t,n,a,r)},e.forEach(p.add),p},Hi.time={};var Ws=Date,Gs=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];oi.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ks.setUTCDate.apply(this._,arguments)},setDay:function(){Ks.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ks.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ks.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ks.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ks.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ks.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ks.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ks.setTime.apply(this._,arguments)}};var Ks=Date.prototype,Us="%a %b %e %X %Y",Xs="%m/%d/%Y",Ys="%H:%M:%S",Zs=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Js=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qs=["January","February","March","April","May","June","July","August","September","October","November","December"],$s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Hi.time.format=function(e){function t(t){for(var a,r,i,o=[],s=-1,l=0;n>++s;)37===e.charCodeAt(s)&&(o.push(e.substring(l,s)),null!=(r=ol[a=e.charAt(++s)])&&(a=e.charAt(++s)),(i=sl[a])&&(a=i(t,null==r?"e"===a?" ":"0":r)),o.push(a),l=s+1);return o.push(e.substring(l,s)),o.join("")}var n=e.length;return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},a=si(n,e,t,0);if(a!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=new Ws;return r.setFullYear(n.y,n.m,n.d),r.setHours(n.H,n.M,n.S,n.L),r},t.toString=function(){return e},t};var el=li(Zs),tl=li(Js),nl=li(Qs),al=ui(Qs),rl=li($s),il=ui($s),ol={"-":"",_:" ",0:"0"},sl={a:function(e){return Js[e.getDay()]},A:function(e){return Zs[e.getDay()]},b:function(e){return $s[e.getMonth()]},B:function(e){return Qs[e.getMonth()]},c:Hi.time.format(Us),d:function(e,t){return ci(e.getDate(),t,2)},e:function(e,t){return ci(e.getDate(),t,2)},H:function(e,t){return ci(e.getHours(),t,2)},I:function(e,t){return ci(e.getHours()%12||12,t,2)},j:function(e,t){return ci(1+Hi.time.dayOfYear(e),t,3)},L:function(e,t){return ci(e.getMilliseconds(),t,3)},m:function(e,t){return ci(e.getMonth()+1,t,2)},M:function(e,t){return ci(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return ci(e.getSeconds(),t,2)},U:function(e,t){return ci(Hi.time.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return ci(Hi.time.mondayOfYear(e),t,2)},x:Hi.time.format(Xs),X:Hi.time.format(Ys),y:function(e,t){return ci(e.getFullYear()%100,t,2)},Y:function(e,t){return ci(e.getFullYear()%1e4,t,4)},Z:Ti,"%":function(){return"%"}},ll={a:di,A:pi,b:mi,B:hi,c:gi,d:ki,e:ki,H:xi,I:xi,L:Si,m:_i,M:Mi,p:zi,S:Di,x:fi,X:yi,y:bi,Y:vi},ul=/^\s*\d+/,cl=Hi.map({am:0,pm:1});Hi.time.format.utc=function(e){function t(e){try{Ws=oi;var t=new Ws;return t._=e,n(t)}finally{Ws=Date}}var n=Hi.time.format(e);return t.parse=function(e){try{Ws=oi;var t=n.parse(e);return t&&t._}finally{Ws=Date}},t.toString=n.toString,t};var dl=Hi.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");Hi.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ci:dl,Ci.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Ci.toString=dl.toString,Hi.time.second=ji(function(e){return new Ws(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Hi.time.seconds=Hi.time.second.range,Hi.time.seconds.utc=Hi.time.second.utc.range,Hi.time.minute=ji(function(e){return new Ws(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Hi.time.minutes=Hi.time.minute.range,Hi.time.minutes.utc=Hi.time.minute.utc.range,Hi.time.hour=ji(function(e){var t=e.getTimezoneOffset()/60;return new Ws(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Hi.time.hours=Hi.time.hour.range,Hi.time.hours.utc=Hi.time.hour.utc.range,Hi.time.day=ji(function(e){var t=new Ws(1970,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Hi.time.days=Hi.time.day.range,Hi.time.days.utc=Hi.time.day.utc.range,Hi.time.dayOfYear=function(e){var t=Hi.time.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},Gs.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=Hi.time[e]=ji(function(e){return(e=Hi.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=Hi.time.year(e).getDay();return Math.floor((Hi.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Hi.time[e+"s"]=n.range,Hi.time[e+"s"].utc=n.utc.range,Hi.time[e+"OfYear"]=function(e){var n=Hi.time.year(e).getDay();return Math.floor((Hi.time.dayOfYear(e)+(n+t)%7)/7)}}),Hi.time.week=Hi.time.sunday,Hi.time.weeks=Hi.time.sunday.range,Hi.time.weeks.utc=Hi.time.sunday.utc.range,Hi.time.weekOfYear=Hi.time.sundayOfYear,Hi.time.month=ji(function(e){return e=Hi.time.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Hi.time.months=Hi.time.month.range,Hi.time.months.utc=Hi.time.month.utc.range,Hi.time.year=ji(function(e){return e=Hi.time.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Hi.time.years=Hi.time.year.range,Hi.time.years.utc=Hi.time.year.utc.range;var pl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ml=[[Hi.time.second,1],[Hi.time.second,5],[Hi.time.second,15],[Hi.time.second,30],[Hi.time.minute,1],[Hi.time.minute,5],[Hi.time.minute,15],[Hi.time.minute,30],[Hi.time.hour,1],[Hi.time.hour,3],[Hi.time.hour,6],[Hi.time.hour,12],[Hi.time.day,1],[Hi.time.day,2],[Hi.time.week,1],[Hi.time.month,1],[Hi.time.month,3],[Hi.time.year,1]],hl=[[Hi.time.format("%Y"),u],[Hi.time.format("%B"),function(e){return e.getMonth()}],[Hi.time.format("%b %d"),function(e){return 1!=e.getDate()}],[Hi.time.format("%a %d"),function(e){return e.getDay()&&1!=e.getDate()}],[Hi.time.format("%I %p"),function(e){return e.getHours()}],[Hi.time.format("%I:%M"),function(e){return e.getMinutes()}],[Hi.time.format(":%S"),function(e){return e.getSeconds()}],[Hi.time.format(".%L"),function(e){return e.getMilliseconds()}]],gl=Hi.scale.linear(),fl=Pi(hl);ml.year=function(e,t){return gl.domain(e.map(Li)).ticks(t).map(Ri)},Hi.time.scale=function(){return Ei(Hi.scale.linear(),ml,fl)};var yl=ml.map(function(e){return[e[0].utc,e[1]]}),vl=[[Hi.time.format.utc("%Y"),u],[Hi.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[Hi.time.format.utc("%b %d"),function(e){return 1!=e.getUTCDate()}],[Hi.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],[Hi.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[Hi.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[Hi.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[Hi.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],bl=Pi(vl);return yl.year=function(e,t){return gl.domain(e.map(qi)).ticks(t).map(Bi)},Hi.time.scale.utc=function(){return Ei(Hi.scale.linear(),yl,bl)},Hi}(),d3.combobox=function(){var e=d3.dispatch("accept"),t=d3.combobox.id++,n=[],a=function(e,t,n){n(t.filter(function(t){return-1!==(""+t.title).toLowerCase().indexOf(e.toLowerCase())}))},r=function(r){function i(){var e=r.node().getBoundingClientRect();w.style({left:e.left+"px",width:e.width+"px",top:e.height+e.top+"px"})}function o(){u()}function s(){k||(w=d3.select(document.body).insert("div",":first-child").attr("class","combobox").style({position:"absolute",display:"block",left:"0px"}),k=!0)}function l(){k&&(_=-1,w.remove(),k=!1)}function u(){window.setTimeout(l,150)}function c(){if(k){switch(d3.event.keyCode){case 40:m(),d3.event.preventDefault();break;case 38:h(),d3.event.preventDefault();break;case 13:d3.event.preventDefault()}d3.event.stopPropagation()}}function d(){switch(d3.event.keyCode){case 27:l();break;case 9:case 13:if(!k)return;p();break;default:y(),d3.event.preventDefault()}d3.event.stopPropagation()}function p(){w.select("a.selected").node()&&v(w.select("a.selected").datum()),l()}function m(){var e=w.selectAll("a").data().length;_=Math.min(_+1,e-1),f()}function h(){_=Math.max(_-1,0),f()}function g(e,t){for(var n,a=r.property("value"),i=0;t.length>i;i++)if(0===t[i].value.indexOf(a)){n=t[i].value;break}8===e.keyCode?(x=a,M=""):a&&n&&a!==x+M&&(x=a,M=n.substr(a.length),r.property("value",x+M),r.node().setSelectionRange(a.length,a.length+M.length))}function f(){w.selectAll("a").classed("selected",function(e,t){return t==_});var e=w.node().offsetHeight,t=w.select("a.selected").node().offsetTop,n=w.select("a.selected").node().offsetHeight;w.node().scrollTop=e>t+n?0:t}function y(e){function t(e){if(!e.length||document.activeElement!==r.node())return l();s(),g(o,e),i();var t=w.selectAll("a.combobox-option").data(e,function(e){return e.value});t.enter().append("a").text(function(e){return e.value}).attr("class","combobox-option").attr("title",function(e){return e.title}).on("click",v),t.exit().remove(),t.classed("selected",function(e,t){return t==_}).order()}e===void 0&&(e=r.property("value"));var o=d3.event;a.apply(r,[e,n,t])}function v(t){r.property("value",t.value).trigger("change"),e.accept(t),l()}function b(){function e(e){return Math.floor((e[1]+w.node().scrollTop)/a)}function t(e){var t=w.node();return e[0]>=0&&e[0]<t.offsetWidth&&e[1]>=0&&e[1]<t.offsetHeight}if(k)return l();if(r.node().focus(),y(""),w){var n=w.selectAll("a"),a=w.node().scrollHeight/n[0].length,i=d3.select(window);i.on("mousemove.typeahead",function(){var a=d3.mouse(w.node()),r=t(a),i=e(a);n.classed("selected",function(e,t){return r&&t===i})}),i.on("mouseup.typeahead",function(){var a=d3.mouse(w.node());t(a)&&v(d3.select(n[0][e(a)]).datum()),n.classed("selected",!1),i.on("mouseup.typeahead",null),i.on("mousemove.typeahead",null)})}}var w,_=-1,k=!1;r.classed("combobox-input",!0).each(function(){var e=this.parentNode,t=this.nextSibling;d3.select(e).insert("div",function(){return t}).attr("class","combobox-carat").on("mousedown",function(){d3.event.stopPropagation(),d3.event.preventDefault(),b()})});var x,M;r.on("blur.typeahead",o).on("keydown.typeahead",c).on("keyup.typeahead",d).on("mousedown.typeahead",b),d3.select(document.body).on("scroll.combo"+t,function(){k&&i()},!0)};return r.fetcher=function(e){return arguments.length?(a=e,r):a},r.data=function(e){return arguments.length?(n=e,r):n},d3.rebind(r,e,"on")},d3.combobox.id=0,d3.geo.tile=function(){function e(e){return Math.min(r[1],Math.max(r[0],e))}function t(){var t=Math.max(Math.log(a)/Math.LN2-8,0),r=e(Math.round(t+o)),s=Math.pow(2,t-r+8),l=[(i[0]-a/2)/s,(i[1]-a/2)/s],u=[],c=d3.range(Math.max(0,Math.floor(-l[0])),Math.max(0,Math.ceil(n[0]/s-l[0]))),d=d3.range(Math.max(0,Math.floor(-l[1])),Math.max(0,Math.ceil(n[1]/s-l[1])));return d.forEach(function(e){c.forEach(function(t){u.push([t,e,r])})}),u.translate=l,u.scale=s,u}var n=[960,500],a=256,r=[0,20],i=[n[0]/2,n[1]/2],o=0;return t.scaleExtent=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(n=e,t):n},t.scale=function(e){return arguments.length?(a=e,t):a},t.translate=function(e){return arguments.length?(i=e,t):i},t.zoomDelta=function(e){return arguments.length?(o=+e,t):o},t},d3.jsonp=function(e,t){function n(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t="",n=-1;15>++n;)t+=e.charAt(Math.floor(52*Math.random()));return t}function a(e){var a=e.match(/callback=d3.jsonp.(\w+)/),r=a?a[1]:n();return d3.jsonp[r]=function(e){t(e),delete d3.jsonp[r],i.remove()},"d3.jsonp."+r}var r=a(e),i=d3.select("head").append("script").attr("type","text/javascript").attr("src",e.replace(/(\{|%7B)callback(\}|%7D)/,r))},d3.keybinding=function(e){function t(e,t){for(var n in e.event)if(t[n]!=e.event[n])return!1;return!e.capture==(t.eventPhase!==Event.CAPTURING_PHASE)}function n(){for(var e=0;i.length>e;e++){var n=i[e];t(n,d3.event)&&n.callback()}}function a(){var e=d3.select(d3.event.target).node().tagName;"INPUT"!=e&&"SELECT"!=e&&"TEXTAREA"!=e&&n()}function r(t){return t=t||d3.select(document),t.on("keydown.capture"+e,n,!0),t.on("keydown.bubble"+e,a,!1),r}var i=[];return r.off=function(t){return t=t||d3.select(document),t.on("keydown.capture"+e,null),t.on("keydown.bubble"+e,null),r},r.on=function(e,t,n){var a={event:{keyCode:0,shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1},capture:n,callback:t};e=e.toLowerCase().match(/(?:(?:[^+])+|[]|\+\+|^\+$)/g);for(var o=0;e.length>o;o++)"++"===e[o]&&(e[o]="+"),e[o]in d3.keybinding.modifierCodes?a.event[d3.keybinding.modifierProperties[d3.keybinding.modifierCodes[e[o]]]]=!0:e[o]in d3.keybinding.keyCodes&&(a.event.keyCode=d3.keybinding.keyCodes[e[o]]);return i.push(a),r},r},function(){d3.keybinding.modifierCodes={"":16,shift:16,"":17,ctrl:17,"":18,alt:18,option:18,"":91,meta:91,cmd:91,"super":91,win:91},d3.keybinding.modifierProperties={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},d3.keybinding.keyCodes={"":8,backspace:8,"":9,"":9,tab:9,"":13,"return":13,enter:13,"":13,pause:19,"pause-break":19,"":20,caps:20,"caps-lock":20,"":27,escape:27,esc:27,space:32,"":33,pgup:33,"page-up":33,"":34,pgdown:34,"page-down":34,"":35,end:35,"":36,home:36,ins:45,insert:45,"":46,del:46,"delete":46,"":37,left:37,"arrow-left":37,"":38,up:38,"arrow-up":38,"":39,right:39,"arrow-right":39,"":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,dash:189,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostrophe:222};for(var e=95,t=0;106>++e;)d3.keybinding.keyCodes["num-"+t]=e,++t;for(e=47,t=0;58>++e;)d3.keybinding.keyCodes[t]=e,++t;for(e=111,t=1;136>++e;)d3.keybinding.keyCodes["f"+t]=e,++t;for(e=64;91>++e;)d3.keybinding.keyCodes[String.fromCharCode(e).toLowerCase()]=e}(),d3.selection.prototype.one=function(e,t,n){function a(){r.on(i,null),t.apply(this,arguments)}var r=this,i=e+".once";return r.on(i,a,n),this},d3.selection.prototype.size=function(e){if(!arguments.length){var t=this.node();return[t.offsetWidth,t.offsetHeight]}return this.attr({width:e[0],height:e[1]})},d3.selection.prototype.trigger=function(e){this.each(function(){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),this.dispatchEvent(t)})},d3.typeahead=function(){var e,t=d3.dispatch("accept"),n=!1,a=function(a){function r(){var e=a.node().getBoundingClientRect();d=d3.select(document.body).append("div").attr("class","typeahead").style({position:"absolute",left:e.left+"px",top:e.bottom+"px"}),a.on("keyup.typeahead",s),p=!1}function i(){d.remove(),m=n?0:-1,p=!0}function o(){n&&d.select("a.selected").node()&&(c(d.select("a.selected").datum()),t.accept()),window.setTimeout(i,150)}function s(){var e=d.selectAll("a").data().length;return 40===d3.event.keyCode?(m=Math.min(m+1,e-1),l()):38===d3.event.keyCode?(m=Math.max(m-1,0),l()):(13===d3.event.keyCode?(d.select("a.selected").node()&&c(d.select("a.selected").datum()),t.accept(),i()):u(),void 0)}function l(){d.selectAll("a").classed("selected",function(e,t){return t==m})}function u(){p&&r(),e(a,function(e){d.style("display",function(){return e.length?"block":"none"});var t=d.selectAll("a").data(e,function(e){return e.value});t.enter().append("a").text(function(e){return e.value}).attr("title",function(e){return e.title}).on("click",c),t.exit().remove(),t.classed("selected",function(e,t){return t==m})})}function c(e){a.property("value",e.value).trigger("change")}var d,p,m=n?0:-1;a.on("focus.typeahead",r).on("blur.typeahead",o)};return a.data=function(t){return arguments.length?(e=t,a):e},a.autohighlight=function(e){return arguments.length?(n=e,a):n},d3.rebind(a,t,"on")};const JXON=new function(){function e(e){return u.test(e)?null:c.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):isFinite(Date.parse(e))?new Date(e):e}function t(){}function n(e){return null===e?new t:e instanceof Object?e:new e.constructor(e)}function a(t,r,u,c){const d=l.length,p=t.hasChildNodes(),m=t.hasAttributes(),h=Boolean(2&r);var g,f,y=0,v="",b=h?{}:!0;if(p)for(var w,_=0;t.childNodes.length>_;_++)w=t.childNodes.item(_),4===w.nodeType?v+=w.nodeValue:3===w.nodeType?v+=w.nodeValue.trim():1!==w.nodeType||w.prefix||l.push(w);const k=l.length,x=e(v);h||!p&&!m||(b=0===r?n(x):{});for(var M=d;k>M;M++)g=l[M].nodeName.toLowerCase(),f=a(l[M],r,u,c),b.hasOwnProperty(g)?(b[g].constructor!==Array&&(b[g]=[b[g]]),b[g].push(f)):(b[g]=f,y++);if(m){const D=t.attributes.length,S=c?"":s,z=c?{}:b;for(var T,C=0;D>C;y++,C++)T=t.attributes.item(C),z[S+T.name.toLowerCase()]=e(T.value.trim());c&&(u&&Object.freeze(z),b[o]=z,y-=D-1)}return 3===r||(2===r||1===r&&y>0)&&v?b[i]=x:!h&&0===y&&v&&(b=x),u&&(h||y>0)&&Object.freeze(b),l.length=d,b}function r(e,t,n){var a,l;n instanceof String||n instanceof Number||n instanceof Boolean?t.appendChild(e.createTextNode(""+n)):n.constructor===Date&&t.appendChild(e.createTextNode(n.toGMTString()));for(var u in n)if(a=n[u],!(isFinite(u)||a instanceof Function))if(u===i)null!==a&&a!==!0&&t.appendChild(e.createTextNode(a.constructor===Date?a.toGMTString():a+""));else if(u===o)for(var c in a)t.setAttribute(c,a[c]);else if(u.charAt(0)===s)t.setAttribute(u.slice(1),a);else if(a.constructor===Array)for(var d=0;a.length>d;d++)l=e.createElement(u),r(e,l,a[d]),t.appendChild(l);else l=e.createElement(u),a instanceof Object?r(e,l,a):null!==a&&a!==!0&&l.appendChild(e.createTextNode(""+a)),t.appendChild(l)}const i="keyValue",o="keyAttributes",s="@",l=[],u=/^\s*$/,c=/^(?:true|false)$/i;t.prototype.toString=function(){return"null"},t.prototype.valueOf=function(){return null},this.build=function(e,t,n,r){const i=arguments.length>1&&"number"==typeof t?3&t:1;return a(e,i,n||!1,arguments.length>3?r:3===i)},this.unbuild=function(e){const t=document.implementation.createDocument("","",null);return r(t,t,e),t},this.stringify=function(e){return(new XMLSerializer).serializeToString(JXON.unbuild(e))}};(function(e,t){function n(e){return e&&"object"==typeof e&&e.__wrapped__?e:this instanceof n?(this.__wrapped__=e,t):new n(e)}function a(e,t,n){t||(t=0);var a=e.length,r=a-t>=(n||sn);if(r)for(var i={},o=t-1;a>++o;){var s=e[o]+"";(Tn.call(i,s)?i[s]:i[s]=[]).push(e[o])}return function(n){if(r){var a=n+"";return Tn.call(i,a)&&mt(i[a],n)>-1}return mt(e,n,t)>-1}}function r(e){return e.charCodeAt(0)}function i(e,n){var a=e.index,r=n.index;if(e=e.criteria,n=n.criteria,e!==n){if(e>n||e===t)return 1;if(n>e||n===t)return-1}return r>a?-1:1}function o(e,t,n){function a(){var s=arguments,l=i?this:t;if(r||(e=t[o]),n.length&&(s=s.length?n.concat(m(s)):n),this instanceof a){p.prototype=e.prototype,l=new p,p.prototype=null;var u=e.apply(l,s);return j(u)?u:l}return e.apply(l,s)}var r=C(e),i=!n,o=t;return i&&(n=t),r||(t=e),a}function s(e,n,a){return e?"function"!=typeof e?function(t){return t[e]}:n!==t?a?function(t,a,r,i){return e.call(n,t,a,r,i)}:function(t,a,r){return e.call(n,t,a,r)}:e:Ft}function l(){for(var e,t={arrayLoop:"",bottom:"",hasDontEnumBug:en,isKeysFast:Qn,objectLoop:"",nonEnumArgs:ea,noCharByIndex:aa,shadowed:kn,top:"",useHas:!0},n=0;e=arguments[n];n++)for(var a in e)t[a]=e[a];var r=t.args;t.firstArg=/^[^,]+/.exec(r)[0];var i=Function("createCallback, hasOwnProperty, isArguments, isString, objectTypes, nativeKeys, propertyIsEnumerable","return function("+r+") {\n"+da(t)+"\n}");return i(s,Tn,g,P,ua,Rn,jn)}function u(e){return"\\"+ca[e]}function c(e){return ba[e]}function d(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function p(){}function m(e,n,a){n||(n=0),a===t&&(a=e?e.length:0);for(var r=-1,i=a-n||0,o=Array(0>i?0:i);i>++r;)o[r]=e[n+r];return o}function h(e){return wa[e]}function g(e){return An.call(e)==Fn}function f(e){var t=!1;if(!e||"object"!=typeof e||g(e))return t;var n=e.constructor;return!C(n)&&(!ra||!d(e))||n instanceof n?tn?(ya(e,function(e,n,a){return t=!Tn.call(a,n),!1}),t===!1):(ya(e,function(e,n){t=n}),t===!1||Tn.call(e,t)):t}function y(e){var t=[];return va(e,function(e,n){t.push(n)}),t}function v(e,t,n,a,r){if(null==e)return e;n&&(t=!1);var i=j(e);if(i){var o=An.call(e);if(!sa[o]||ra&&d(e))return e;var s=ka(e)}if(!i||!t)return i?s?m(e):fa({},e):e;var l=la[o];switch(o){case Hn:case Vn:return new l(+e);case Gn:case Xn:return new l(e);case Un:return l(e.source,hn.exec(e))}a||(a=[]),r||(r=[]);for(var u=a.length;u--;)if(a[u]==e)return r[u];var c=s?l(e.length):{};return a.push(e),r.push(c),(s?U:va)(e,function(e,n){c[n]=v(e,t,null,a,r)}),s&&(Tn.call(e,"index")&&(c.index=e.index),Tn.call(e,"input")&&(c.input=e.input)),c}function b(e){return v(e,!0)}function w(e){var t=[];return ya(e,function(e,n){C(e)&&t.push(n)}),t.sort()}function _(e,t){return e?Tn.call(e,t):!1}function k(e){var t={};return va(e,function(e,n){t[e]=n}),t}function x(e){return e===!0||e===!1||An.call(e)==Hn}function M(e){return e instanceof Date||An.call(e)==Vn}function D(e){return e?1===e.nodeType:!1}function S(e){var t=!0;if(!e)return t;var n=An.call(e),a=e.length;return n==In||n==Xn||n==Fn||na&&g(e)||n==Kn&&"number"==typeof a&&C(e.splice)?!a:(va(e,function(){return t=!1}),t)}function z(e,n,a,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;var i=An.call(e),o=An.call(n);if(i==Fn&&(i=Kn),o==Fn&&(o=Kn),i!=o)return!1;switch(i){case Hn:case Vn:return+e==+n;case Gn:return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case Un:case Xn:return e==n+""}var s=i==In;if(!s){if(e.__wrapped__||n.__wrapped__)return z(e.__wrapped__||e,n.__wrapped__||n);if(i!=Kn||ra&&(d(e)||d(n)))return!1;var l=!ta&&g(e)?Object:e.constructor,u=!ta&&g(n)?Object:n.constructor;if(l!=u&&!(C(l)&&l instanceof l&&C(u)&&u instanceof u))return!1}a||(a=[]),r||(r=[]);for(var c=a.length;c--;)if(a[c]==e)return r[c]==n;var p=!0,m=0;if(a.push(e),r.push(n),s){if(m=e.length,p=m==n.length)for(;m--&&(p=z(e[m],n[m],a,r)););return p}return ya(e,function(e,i,o){return Tn.call(o,i)?(m++,p=Tn.call(n,i)&&z(e,n[i],a,r)):t}),p&&ya(n,function(e,n,a){return Tn.call(a,n)?p=--m>-1:t}),p}function T(e){return Nn(e)&&!Pn(parseFloat(e))}function C(e){return"function"==typeof e}function j(e){return e?ua[typeof e]:!1}function A(e){return O(e)&&e!=+e}function E(e){return null===e}function O(e){return"number"==typeof e||An.call(e)==Gn}function N(e){return e instanceof RegExp||An.call(e)==Un}function P(e){return"string"==typeof e||An.call(e)==Xn}function R(e){return e===t}function L(e,t,n){var a=arguments,r=0,i=2,o=a[3],s=a[4];for(n!==on&&(o=[],s=[],"number"!=typeof n&&(i=a.length));i>++r;)va(a[r],function(t,n){var a,r,i;if(t&&((r=ka(t))||xa(t))){for(var l=o.length;l--&&!(a=o[l]==t););a?e[n]=s[l]:(o.push(t),s.push((i=e[n],i=r?ka(i)?i:[]:xa(i)?i:{})),e[n]=L(i,t,on,o,s))}else null!=t&&(e[n]=t)});return e}function B(e,t,n){var a="function"==typeof t,r={};if(a)t=s(t,n);else var i=Dn.apply(nn,arguments);return ya(e,function(e,n,o){(a?!t(e,n,o):0>mt(i,n,1))&&(r[n]=e)}),r}function q(e){var t=[];return va(e,function(e,n){t.push([n,e])}),t}function F(e,t,n){var a={};if("function"!=typeof t)for(var r=0,i=Dn.apply(nn,arguments),o=i.length;o>++r;){var l=i[r];l in e&&(a[l]=e[l])}else t=s(t,n),ya(e,function(e,n,r){t(e,n,r)&&(a[n]=e)});return a}function I(e){var t=[];return va(e,function(e){t.push(e)}),t}function H(e,n,a){var r=-1,i=e?e.length:0,o=!1;return a=(0>a?Ln(0,i+a):a)||0,"number"==typeof i?o=(P(e)?e.indexOf(n,a):mt(e,n,a))>-1:ga(e,function(e){return++r>=a?!(o=e===n):t}),o}function V(e,t,n){var a={};return t=s(t,n),U(e,function(e,n,r){n=t(e,n,r),Tn.call(a,n)?a[n]++:a[n]=1}),a}function W(e,t,n){var a=!0;if(t=s(t,n),ka(e))for(var r=-1,i=e.length;i>++r&&(a=!!t(e[r],r,e)););else ga(e,function(e,n,r){return a=!!t(e,n,r)});return a}function G(e,t,n){var a=[];if(t=s(t,n),ka(e))for(var r=-1,i=e.length;i>++r;){var o=e[r];t(o,r,e)&&a.push(o)}else ga(e,function(e,n,r){t(e,n,r)&&a.push(e)});return a}function K(e,n,a){var r;return n=s(n,a),U(e,function(e,a,i){return n(e,a,i)?(r=e,!1):t}),r}function U(e,n,a){if(n&&a===t&&ka(e))for(var r=-1,i=e.length;i>++r&&n(e[r],r,e)!==!1;);else ga(e,n,a);return e}function X(e,t,n){var a={};return t=s(t,n),U(e,function(e,n,r){n=t(e,n,r),(Tn.call(a,n)?a[n]:a[n]=[]).push(e)}),a}function Y(e,t){var n=m(arguments,2),a="function"==typeof t,r=[];return U(e,function(e){r.push((a?t:e[t]).apply(e,n))}),r}function Z(e,t,n){var a=-1,r=e?e.length:0,i=Array("number"==typeof r?r:0);if(t=s(t,n),ka(e))for(;r>++a;)i[a]=t(e[a],a,e);else ga(e,function(e,n,r){i[++a]=t(e,n,r)});return i}function J(e,t,n){var a=-1/0,i=-1,o=e?e.length:0,l=a;if(t||!ka(e))t=!t&&P(e)?r:s(t,n),ga(e,function(e,n,r){var i=t(e,n,r);i>a&&(a=i,l=e)});else for(;o>++i;)e[i]>l&&(l=e[i]);return l}function Q(e,t,n){var a=1/0,i=-1,o=e?e.length:0,l=a;if(t||!ka(e))t=!t&&P(e)?r:s(t,n),ga(e,function(e,n,r){var i=t(e,n,r);a>i&&(a=i,l=e)});else for(;o>++i;)l>e[i]&&(l=e[i]);return l}function $(e,t){return Z(e,t+"")}function et(e,t,n,a){var r=3>arguments.length;if(t=s(t,a,on),ka(e)){var i=-1,o=e.length;for(r&&(n=e[++i]);o>++i;)n=t(n,e[i],i,e)}else ga(e,function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)});return n}function tt(e,t,n,a){var r=e,i=e?e.length:0,o=3>arguments.length;if("number"!=typeof i){var l=Ma(e);i=l.length}else aa&&P(e)&&(r=e.split(""));return t=s(t,a,on),U(e,function(e,a,s){a=l?l[--i]:--i,n=o?(o=!1,r[a]):t(n,r[a],a,s)}),n}function nt(e,t,n){return t=s(t,n),G(e,function(e,n,a){return!t(e,n,a)})}function at(e){var t=-1,n=Array(e?e.length:0);return U(e,function(e){var a=Sn(qn()*(++t+1));n[t]=n[a],n[a]=e}),n}function rt(e){var t=e?e.length:0;return"number"==typeof t?t:Ma(e).length}function it(e,t,n){var a;if(t=s(t,n),ka(e))for(var r=-1,i=e.length;i>++r&&!(a=t(e[r],r,e)););else ga(e,function(e,n,r){return!(a=t(e,n,r))});return!!a}function ot(e,t,n){var a=[];t=s(t,n),U(e,function(e,n,r){a.push({criteria:t(e,n,r),index:n,value:e})});var r=a.length;for(a.sort(i);r--;)a[r]=a[r].value;return a}function st(e){var t=e?e.length:0;return"number"==typeof t?aa&&P(e)?e.split(""):m(e):I(e)}function lt(e,t){var n=Ma(t);return G(e,function(e){for(var a=n.length;a--;){var r=e[n[a]]===t[n[a]];if(!r)break}return!!r})}function ut(e){for(var t=-1,n=e?e.length:0,a=[];n>++t;){var r=e[t];r&&a.push(r)}return a}function ct(e){for(var t=-1,n=e?e.length:0,r=Dn.apply(nn,arguments),i=a(r,n),o=[];n>++t;){var s=e[t];i(s)||o.push(s)}return o}function dt(e,t,n){if(e){var a=e.length;return null==t||n?e[0]:m(e,0,Bn(Ln(0,t),a))}}function pt(e,t){for(var n=-1,a=e?e.length:0,r=[];a>++n;){var i=e[n];ka(i)?Cn.apply(r,t?i:pt(i)):r.push(i)}return r}function mt(e,t,n){var a=-1,r=e?e.length:0;if("number"==typeof n)a=(0>n?Ln(0,r+n):n||0)-1;else if(n)return a=_t(e,t),e[a]===t?a:-1;for(;r>++a;)if(e[a]===t)return a;return-1}function ht(e,t,n){if(!e)return[];var a=e.length;return t=null==t||n?1:t||0,m(e,0,Bn(Ln(0,a-t),a))}function gt(e){var t=arguments,n=t.length,r={0:{}},i=-1,o=e?e.length:0,s=o>=100,l=[],u=l;e:for(;o>++i;){var c=e[i];if(s)var d=c+"",p=Tn.call(r[0],d)?!(u=r[0][d]):u=r[0][d]=[];if(p||0>mt(u,c)){s&&u.push(c);for(var m=n;--m;)if(!(r[m]||(r[m]=a(t[m],0,100)))(c))continue e;l.push(c)}}return l}function ft(e,t,n){if(e){var a=e.length;return null==t||n?e[a-1]:m(e,Ln(0,a-t))}}function yt(e,t,n){var a=e?e.length:0;for("number"==typeof n&&(a=(0>n?Ln(0,a+n):Bn(n,a-1))+1);a--;)if(e[a]===t)return a;return-1}function vt(e,t){for(var n=-1,a=e?e.length:0,r={};a>++n;){var i=e[n];t?r[i]=t[n]:r[i[0]]=i[1]}return r}function bt(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);for(var a=-1,r=Ln(0,Mn((t-e)/n)),i=Array(r);r>++a;)i[a]=e,e+=n;return i}function wt(e,t,n){return m(e,null==t||n?1:Ln(0,t))}function _t(e,t,n,a){var r=0,i=e?e.length:r;for(n=n?s(n,a):Ft,t=n(t);i>r;){var o=r+i>>>1;t>n(e[o])?r=o+1:i=o}return r}function kt(){return xt(Dn.apply(nn,arguments))}function xt(e,t,n,a){var r=-1,i=e?e.length:0,o=[],l=o;"function"==typeof t&&(a=n,n=t,t=!1);var u=!t&&i>=75;if(u)var c={};for(n&&(l=[],n=s(n,a));i>++r;){var d=e[r],p=n?n(d,r,e):d;if(u)var m=p+"",h=Tn.call(c,m)?!(l=c[m]):l=c[m]=[];(t?!r||l[l.length-1]!==p:h||0>mt(l,p))&&((n||u)&&l.push(p),o.push(d))}return o}function Mt(e){for(var t=-1,n=e?e.length:0,r=a(arguments,1,20),i=[];n>++t;){var o=e[t];r(o)||i.push(o)}return i}function Dt(e){for(var t=-1,n=e?J($(arguments,"length")):0,a=Array(n);n>++t;)a[t]=$(arguments,t);return a}function St(e,n){return 1>e?n():function(){return 1>--e?n.apply(this,arguments):t}}function zt(e,t){return Jn||En&&arguments.length>2?En.call.apply(En,arguments):o(e,t,m(arguments,2))}function Tt(e){for(var t=arguments,n=t.length>1?0:(t=w(e),-1),a=t.length;a>++n;){var r=t[n];e[r]=zt(e[r],e)}return e}function Ct(e,t){return o(e,t,m(arguments,2))}function jt(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function At(e,t,n){function a(){s=null,n||(i=e.apply(o,r))}var r,i,o,s;return function(){var l=n&&!s;return r=arguments,o=this,clearTimeout(s),s=setTimeout(a,t),l&&(i=e.apply(o,r)),i}}function Et(e,n){var a=m(arguments,2);return setTimeout(function(){e.apply(t,a)},n)}function Ot(e){var n=m(arguments,1);return setTimeout(function(){e.apply(t,n)},1)}function Nt(e,t){var n={};return function(){var a=t?t.apply(this,arguments):arguments[0];return Tn.call(n,a)?n[a]:n[a]=e.apply(this,arguments)}}function Pt(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function Rt(e){return o(e,m(arguments,1))}function Lt(e,t){function n(){s=new Date,o=null,r=e.apply(i,a)}var a,r,i,o,s=0;return function(){var l=new Date,u=t-(l-s);return a=arguments,i=this,0>=u?(clearTimeout(o),o=null,s=l,r=e.apply(i,a)):o||(o=setTimeout(n,u)),r}}function Bt(e,t){return function(){var n=[e];return Cn.apply(n,arguments),t.apply(this,n)}}function qt(e){return null==e?"":(e+"").replace(wn,c)}function Ft(e){return e}function It(e){U(w(e),function(t){var a=n[t]=e[t];n.prototype[t]=function(){var e=[this.__wrapped__];Cn.apply(e,arguments);var t=a.apply(n,e);return new n(t)}})}function Ht(){return e._=ln,this}function Vt(e,t){return null==e&&null==t&&(t=1),e=+e||0,null==t&&(t=e,e=0),e+Sn(qn()*((+t||0)-e+1))}function Wt(e,t){var n=e?e[t]:null;return C(n)?e[t]():n}function Gt(e,t,a){e||(e=""),a||(a={});var r,i,o=n.templateSettings,s=0,l=a.interpolate||o.interpolate||bn,c="__p += '",d=a.variable||o.variable,p=d,m=RegExp((a.escape||o.escape||bn).source+"|"+l.source+"|"+(l===vn?yn:bn).source+"|"+(a.evaluate||o.evaluate||bn).source+"|$","g");if(e.replace(m,function(t,n,a,i,o,l){return a||(a=i),c+=e.slice(s,l).replace(_n,u),n&&(c+="' +\n__e("+n+") +\n'"),o&&(c+="';\n"+o+";\n__p += '"),a&&(c+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),r||(r=o||un.test(n||a)),s=l+t.length,t
}),c+="';\n",!p)if(d="obj",r)c="with ("+d+") {\n"+c+"\n}\n";else{var h=RegExp("(\\(\\s*)"+d+"\\."+d+"\\b","g");c=c.replace(gn,"$&"+d+".").replace(h,"$1__d")}c=(r?c.replace(dn,""):c).replace(pn,"$1").replace(mn,"$1;"),c="function("+d+") {\n"+(p?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":(p?"":", __d = "+d+"."+d+" || "+d)+";\n")+c+"return __p\n}";var g=oa?"\n//@ sourceURL="+(a.sourceURL||"/lodash/template/source["+xn++ +"]"):"";try{i=Function("_","return "+c+g)(n)}catch(f){throw f.source=c,f}return t?i(t):(i.source=c,i)}function Kt(e,t,n){e=+e||0;for(var a=-1,r=Array(e);e>++a;)r[a]=t.call(n,a);return r}function Ut(e){return null==e?"":(e+"").replace(cn,h)}function Xt(e){return(null==e?"":e+"")+ ++rn}function Yt(e,t){return t(e),e}function Zt(){return this.__wrapped__+""}function Jt(){return this.__wrapped__}var Qt="object"==typeof exports&&exports,$t="object"==typeof global&&global;$t.global===$t&&(e=$t);var en,tn,nn=[],an=new function(){},rn=0,on=an,sn=30,ln=e._,un=/[-?+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,cn=/&(?:amp|lt|gt|quot|#x27);/g,dn=/\b__p \+= '';/g,pn=/\b(__p \+=) '' \+/g,mn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hn=/\w*$/,gn=/(?:__e|__t = )\(\s*(?![\d\s"']|this\.)/g,fn=RegExp("^"+(an.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),yn=/\$\{((?:(?=\\?)\\?[\s\S])*?)}/g,vn=/<%=([\s\S]+?)%>/g,bn=/($^)/,wn=/[&<>"']/g,_n=/['\n\r\t\u2028\u2029\\]/g,kn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xn=0,Mn=Math.ceil,Dn=nn.concat,Sn=Math.floor,zn=fn.test(zn=Object.getPrototypeOf)&&zn,Tn=an.hasOwnProperty,Cn=nn.push,jn=an.propertyIsEnumerable,An=an.toString,En=fn.test(En=m.bind)&&En,On=fn.test(On=Array.isArray)&&On,Nn=e.isFinite,Pn=e.isNaN,Rn=fn.test(Rn=Object.keys)&&Rn,Ln=Math.max,Bn=Math.min,qn=Math.random,Fn="[object Arguments]",In="[object Array]",Hn="[object Boolean]",Vn="[object Date]",Wn="[object Function]",Gn="[object Number]",Kn="[object Object]",Un="[object RegExp]",Xn="[object String]",Yn=!!e.attachEvent,Zn=En&&!/\n|true/.test(En+Yn),Jn=En&&!Zn,Qn=Rn&&(Yn||Zn),$n=($n={0:1,length:1},nn.splice.call($n,0,1),$n[0]),ea=!0;(function(){function e(){this.x=1}var t=[];e.prototype={valueOf:1,y:1};for(var n in new e)t.push(n);for(n in arguments)ea=!n;en=!/valueOf/.test(t),tn="x"!=t[0]})(1);var ta=arguments.constructor==Object,na=!g(arguments),aa="xx"!="x"[0]+Object("x")[0];try{var ra=An.call(document)==Kn}catch(ia){}try{var oa=(Function("//@")(),!Yn)}catch(ia){}var sa={};sa[Wn]=!1,sa[Fn]=sa[In]=sa[Hn]=sa[Vn]=sa[Gn]=sa[Kn]=sa[Un]=sa[Xn]=!0;var la={};la[In]=Array,la[Hn]=Boolean,la[Vn]=Date,la[Kn]=Object,la[Gn]=Number,la[Un]=RegExp,la[Xn]=String;var ua={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ca={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:vn,variable:""};var da=Gt("<% if (obj.useStrict) { %>'use strict';\n<% } %>var index, iteratee = <%= firstArg %>, result = <%= firstArg %>;\nif (!<%= firstArg %>) return result;\n<%= top %>;\n<% if (arrayLoop) { %>var length = iteratee.length; index = -1;\nif (typeof length == 'number') {  <% if (noCharByIndex) { %>\n  if (isString(iteratee)) {\n    iteratee = iteratee.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= arrayLoop %>\n  }\n}\nelse {  <%  } else if (nonEnumArgs) { %>\n  var length = iteratee.length; index = -1;\n  if (length && isArguments(iteratee)) {\n    while (++index < length) {\n      index += '';\n      <%= objectLoop %>\n    }\n  } else {  <% } %>  <% if (!hasDontEnumBug) { %>\n  var skipProto = typeof iteratee == 'function' && \n    propertyIsEnumerable.call(iteratee, 'prototype');\n  <% } %>  <% if (isKeysFast && useHas) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iteratee] ? nativeKeys(iteratee) : [],\n      length = ownProps.length;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n    <% if (!hasDontEnumBug) { %>if (!(skipProto && index == 'prototype')) {\n  <% } %>    <%= objectLoop %>\n    <% if (!hasDontEnumBug) { %>}\n<% } %>  }  <% } else { %>\n  for (index in iteratee) {<%    if (!hasDontEnumBug || useHas) { %>\n    if (<%      if (!hasDontEnumBug) { %>!(skipProto && index == 'prototype')<% }      if (!hasDontEnumBug && useHas) { %> && <% }      if (useHas) { %>hasOwnProperty.call(iteratee, index)<% }    %>) {    <% } %>\n    <%= objectLoop %>;    <% if (!hasDontEnumBug || useHas) { %>\n    }<% } %>\n  }  <% } %>  <% if (hasDontEnumBug) { %>\n\n  var ctor = iteratee.constructor;\n    <% for (var k = 0; k < 7; k++) { %>\n  index = '<%= shadowed[k] %>';\n  if (<%      if (shadowed[k] == 'constructor') {        %>!(ctor && ctor.prototype === iteratee) && <%      } %>hasOwnProperty.call(iteratee, index)) {\n    <%= objectLoop %>\n  }    <% } %>  <% } %>  <% if (arrayLoop || nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result"),pa={args:"object, source, guard",top:"for (var argsIndex = 1, argsLength = typeof guard == 'number' ? 2 : arguments.length; argsIndex < argsLength; argsIndex++) {\n  if ((iteratee = arguments[argsIndex])) {",objectLoop:"result[index] = iteratee[index]",bottom:"  }\n}"},ma={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : createCallback(callback, thisArg)",arrayLoop:"if (callback(iteratee[index], index, collection) === false) return result",objectLoop:"if (callback(iteratee[index], index, collection) === false) return result"},ha={arrayLoop:null},ga=l(ma),fa=l(pa);na&&(g=function(e){return e?Tn.call(e,"callee"):!1});var ya=l(ma,ha,{useHas:!1}),va=l(ma,ha),ba={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},wa=k(ba),_a=l(pa,{objectLoop:"if (result[index] == null) "+pa.objectLoop}),ka=On||function(e){return ta&&e instanceof Array||An.call(e)==In};C(/x/)&&(C=function(e){return e instanceof Function||An.call(e)==Wn});var xa=zn?function(e){if(!e||"object"!=typeof e)return!1;var t=e.valueOf,n="function"==typeof t&&(n=zn(t))&&zn(n);return n?e==n||zn(e)==n&&!g(e):f(e)}:f,Ma=Rn?function(e){return"function"==typeof e&&jn.call(e,"prototype")?y(e):j(e)?Rn(e):[]}:y;n.after=St,n.assign=fa,n.bind=zt,n.bindAll=Tt,n.bindKey=Ct,n.compact=ut,n.compose=jt,n.countBy=V,n.debounce=At,n.defaults=_a,n.defer=Ot,n.delay=Et,n.difference=ct,n.filter=G,n.flatten=pt,n.forEach=U,n.forIn=ya,n.forOwn=va,n.functions=w,n.groupBy=X,n.initial=ht,n.intersection=gt,n.invert=k,n.invoke=Y,n.keys=Ma,n.map=Z,n.max=J,n.memoize=Nt,n.merge=L,n.min=Q,n.object=vt,n.omit=B,n.once=Pt,n.pairs=q,n.partial=Rt,n.pick=F,n.pluck=$,n.range=bt,n.reject=nt,n.rest=wt,n.shuffle=at,n.sortBy=ot,n.tap=Yt,n.throttle=Lt,n.times=Kt,n.toArray=st,n.union=kt,n.uniq=xt,n.values=I,n.where=lt,n.without=Mt,n.wrap=Bt,n.zip=Dt,n.collect=Z,n.drop=wt,n.each=U,n.extend=fa,n.methods=w,n.select=G,n.tail=wt,n.unique=xt,It(n),n.clone=v,n.cloneDeep=b,n.contains=H,n.escape=qt,n.every=W,n.find=K,n.has=_,n.identity=Ft,n.indexOf=mt,n.isArguments=g,n.isArray=ka,n.isBoolean=x,n.isDate=M,n.isElement=D,n.isEmpty=S,n.isEqual=z,n.isFinite=T,n.isFunction=C,n.isNaN=A,n.isNull=E,n.isNumber=O,n.isObject=j,n.isPlainObject=xa,n.isRegExp=N,n.isString=P,n.isUndefined=R,n.lastIndexOf=yt,n.mixin=It,n.noConflict=Ht,n.random=Vt,n.reduce=et,n.reduceRight=tt,n.result=Wt,n.size=rt,n.some=it,n.sortedIndex=_t,n.template=Gt,n.unescape=Ut,n.uniqueId=Xt,n.all=W,n.any=it,n.detect=K,n.foldl=et,n.foldr=tt,n.include=H,n.inject=et,va(n,function(e,t){n.prototype[t]||(n.prototype[t]=function(){var t=[this.__wrapped__];return Cn.apply(t,arguments),e.apply(n,t)})}),n.first=dt,n.last=ft,n.take=dt,n.head=dt,va(n,function(e,t){n.prototype[t]||(n.prototype[t]=function(t,a){var r=e(this.__wrapped__,t,a);return null==t||a?r:new n(r)})}),n.VERSION="1.0.0-rc.3",n.prototype.toString=Zt,n.prototype.value=Jt,n.prototype.valueOf=Jt,ga(["join","pop","shift"],function(e){var t=nn[e];n.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),ga(["push","reverse","sort","unshift"],function(e){var t=nn[e];n.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),ga(["concat","slice","splice"],function(e){var t=nn[e];n.prototype[e]=function(){var e=t.apply(this.__wrapped__,arguments);return new n(e)}}),$n&&ga(["pop","shift","splice"],function(e){var t=nn[e],a="splice"==e;n.prototype[e]=function(){var e=this.__wrapped__,r=t.apply(e,arguments);return 0===e.length&&delete e[0],a?new n(r):r}}),n._each=ga,n._iteratorTemplate=da,"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e._=n,define(function(){return n})):Qt?"object"==typeof module&&module&&module.exports==Qt?(module.exports=n)._=n:Qt._=n:e._=n})(this),function(e){var t={};t.qsString=function(e){return Object.keys(e).sort().map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},t.sha=sha1(),t.stringQs=function(e){return e.split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=null===n[1]?"":decodeURIComponent(n[1]),e},{})},t.xhr=function(e,n,a,r,i,o){var s=new XMLHttpRequest,l=/^20\d$/;s.onreadystatechange=function(){4==s.readyState&&0!==s.status&&(l.test(s.status)?o(null,s):o(s,null))},s.onerror=function(e){return o(e,null)};var u=i&&i.header||{"Content-Type":"application/x-www-form-urlencoded"};s.open(e,n,!0),s.setRequestHeader("Authorization","OAuth "+t.authHeader(a));for(var c in u)s.setRequestHeader(c,u[c]);s.send(r)},t.nonce=function(){for(var e="";6>e.length;)e+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(61*Math.random())];return e},t.authHeader=function(e){return Object.keys(e).sort().map(function(t){return encodeURIComponent(t)+'="'+encodeURIComponent(e[t])+'"'}).join(", ")},t.timestamp=function(){return~~(+new Date/1e3)},t.percentEncode=function(e){return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29")},t.baseString=function(e,n,a){return a.oauth_signature&&delete a.oauth_signature,[e,t.percentEncode(n),t.percentEncode(t.qsString(a))].join("&")},t.signature=function(e,n,a){return t.sha.b64_hmac_sha1(t.percentEncode(e)+"&"+t.percentEncode(n),a)},e.ohauth=t}(this);var RTree=function(e){var t=3,n=6;isNaN(e)||(t=Math.floor(e/2),n=e);var a={x:0,y:0,w:0,h:0,id:"root",nodes:[]},r=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(){var e={};return function(t){var n=0;return t in e?n=e[t]++:e[t]=0,t+"_"+n}}();RTree.Rectangle.squarified_ratio=function(e,t,n){var a=(e+t)/2,r=e*t,i=r/(a*a);return r*n/i};var o=function(e,n,a){var r=[],i=[],o=[],s=1;if(!e||!RTree.Rectangle.overlap_rectangle(e,a))return o;var l={x:e.x,y:e.y,w:e.w,h:e.h,target:n};i.push(a.nodes.length),r.push(a);do{var u=r.pop(),c=i.pop()-1;if("target"in l)for(;c>=0;){var d=u.nodes[c];if(RTree.Rectangle.overlap_rectangle(l,d)){if(l.target&&"leaf"in d&&d.leaf===l.target||!l.target&&("leaf"in d||RTree.Rectangle.contains_rectangle(d,l))){"nodes"in d?(o=p(d,!0,[],d),u.nodes.splice(c,1)):o=u.nodes.splice(c,1),RTree.Rectangle.make_MBR(u.nodes,u),delete l.target,t>u.nodes.length&&(l.nodes=p(u,!0,[],u));break}"nodes"in d&&(s+=1,i.push(c),r.push(u),u=d,c=d.nodes.length)}c-=1}else if("nodes"in l){u.nodes.splice(c+1,1),u.nodes.length>0&&RTree.Rectangle.make_MBR(u.nodes,u);for(var h=0;l.nodes.length>h;h++)m(l.nodes[h],u);l.nodes.length=0,0==r.length&&1>=u.nodes.length?(l.nodes=p(u,!0,l.nodes,u),u.nodes.length=0,r.push(u),i.push(1)):r.length>0&&t>u.nodes.length?(l.nodes=p(u,!0,l.nodes,u),u.nodes.length=0):delete l.nodes}else RTree.Rectangle.make_MBR(u.nodes,u);s-=1}while(r.length>0);return o},s=function(e,t){var n,a=-1,r=[];r.push(t);var i=t.nodes;do{-1!=a&&(r.push(i[a]),i=i[a].nodes,a=-1);for(var o=i.length-1;o>=0;o--){var s=i[o];if("leaf"in s){a=-1;break}var l=RTree.Rectangle.squarified_ratio(s.w,s.h,s.nodes.length+1),u=Math.max(s.x+s.w,e.x+e.w)-Math.min(s.x,e.x),c=Math.max(s.y+s.h,e.y+e.h)-Math.min(s.y,e.y),d=RTree.Rectangle.squarified_ratio(u,c,s.nodes.length+2);(0>a||n>Math.abs(d-l))&&(n=Math.abs(d-l),a=o)}}while(-1!=a);return r},l=function(e){for(var t=c(e);e.length>0;)u(e,t[0],t[1]);return t},u=function(e,n,a){for(var r,i,o,s=RTree.Rectangle.squarified_ratio(n.w,n.h,n.nodes.length+1),l=RTree.Rectangle.squarified_ratio(a.w,a.h,a.nodes.length+1),u=e.length-1;u>=0;u--){var c=e[u],d={};d.x=Math.min(n.x,c.x),d.y=Math.min(n.y,c.y),d.w=Math.max(n.x+n.w,c.x+c.w)-d.x,d.h=Math.max(n.y+n.h,c.y+c.h)-d.y;var p=Math.abs(RTree.Rectangle.squarified_ratio(d.w,d.h,n.nodes.length+2)-s),m={};m.x=Math.min(a.x,c.x),m.y=Math.min(a.y,c.y),m.w=Math.max(a.x+a.w,c.x+c.w)-m.x,m.h=Math.max(a.y+a.h,c.y+c.h)-m.y;var h=Math.abs(RTree.Rectangle.squarified_ratio(m.w,m.h,a.nodes.length+2)-l);(!i||!r||r>Math.abs(h-p))&&(i=u,r=Math.abs(h-p),o=p>h?a:n)}var g=e.splice(i,1)[0];t>=n.nodes.length+e.length+1?(n.nodes.push(g),RTree.Rectangle.expand_rectangle(n,g)):t>=a.nodes.length+e.length+1?(a.nodes.push(g),RTree.Rectangle.expand_rectangle(a,g)):(o.nodes.push(g),RTree.Rectangle.expand_rectangle(o,g))},c=function(e){for(var t,n,a=e.length-1,r=0,i=e.length-1,o=0,s=e.length-2;s>=0;s--){var l=e[s];l.x>e[r].x?r=s:l.x+l.w<e[a].x+e[a].w&&(a=s),l.y>e[o].y?o=s:l.y+l.h<e[i].y+e[i].h&&(i=s)}var u=Math.abs(e[a].x+e[a].w-e[r].x),c=Math.abs(e[i].y+e[i].h-e[o].y);return u>c?a>r?(t=e.splice(a,1)[0],n=e.splice(r,1)[0]):(n=e.splice(r,1)[0],t=e.splice(a,1)[0]):i>o?(t=e.splice(i,1)[0],n=e.splice(o,1)[0]):(n=e.splice(o,1)[0],t=e.splice(i,1)[0]),[{x:t.x,y:t.y,w:t.w,h:t.h,nodes:[t]},{x:n.x,y:n.y,w:n.w,h:n.h,nodes:[n]}]},d=function(e,t){return e.nodes=t.nodes,e.x=t.x,e.y=t.y,e.w=t.w,e.h=t.h,e},p=function(e,t,n,a){var r=[];if(!RTree.Rectangle.overlap_rectangle(e,a))return n;r.push(a.nodes);do for(var i=r.pop(),o=i.length-1;o>=0;o--){var s=i[o];RTree.Rectangle.overlap_rectangle(e,s)&&("nodes"in s?r.push(s.nodes):"leaf"in s&&(t?n.push(s):n.push(s.leaf)))}while(r.length>0);return n},m=function(e,t){var a;if(0==t.nodes.length)return t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h,t.nodes.push(e),void 0;var i=s(e,t),o=e;do{if(a&&"nodes"in a&&0==a.nodes.length){var u=a;a=i.pop();for(var c=0;a.nodes.length>c;c++)if(a.nodes[c]===u||0==a.nodes[c].nodes.length){a.nodes.splice(c,1);break}}else a=i.pop();if("leaf"in o||"nodes"in o||r(o)){if(r(o)){for(var d=0;o.length>d;d++)RTree.Rectangle.expand_rectangle(a,o[d]);a.nodes=a.nodes.concat(o)}else RTree.Rectangle.expand_rectangle(a,o),a.nodes.push(o);if(n>=a.nodes.length)o={x:a.x,y:a.y,w:a.w,h:a.h};else{var p=l(a.nodes);o=p,1>i.length&&(a.nodes.push(p[0]),i.push(a),o=p[1])}}else RTree.Rectangle.expand_rectangle(a,o),o={x:a.x,y:a.y,w:a.w,h:a.h}}while(i.length>0)};this.get_tree=function(){return a},this.set_tree=function(e,t){return t||(t=a),d(t,e)},this.search=function(){if(1>arguments.length)throw"Wrong number of arguments. RT.Search requires at least a bounding rectangle.";switch(arguments.length){case 1:arguments[1]=!1;case 2:arguments[2]=[];case 3:arguments[3]=a;default:arguments.length=4}return p.apply(this,arguments)},this.toJSON=function(e,t){var n=[],r=[],o={},s=3,l=1,u="";if(e&&!RTree.Rectangle.overlap_rectangle(e,a))return"";t?(s+=4,r.push(t.nodes.length),n.push(t.nodes),u+="var main_tree = {x:"+t.x.toFixed()+",y:"+t.y.toFixed()+",w:"+t.w.toFixed()+",h:"+t.h.toFixed()+",nodes:["):(r.push(a.nodes.length),n.push(a.nodes),u+="var main_tree = {x:"+a.x.toFixed()+",y:"+a.y.toFixed()+",w:"+a.w.toFixed()+",h:"+a.h.toFixed()+",nodes:[");do{var c=n.pop(),d=r.pop()-1;for(d>=0&&c.length-1>d&&(u+=",");d>=0;){var p=c[d];if(!e||RTree.Rectangle.overlap_rectangle(e,p))if(p.nodes)if(l>=s){o.length;var m=i("saved_subtree");u+="{x:"+p.x.toFixed()+",y:"+p.y.toFixed()+",w:"+p.w.toFixed()+",h:"+p.h.toFixed()+",load:'"+m+".js'}",o[m]=this.toJSON(e,p),d>0&&(u+=",")}else u+="{x:"+p.x.toFixed()+",y:"+p.y.toFixed()+",w:"+p.w.toFixed()+",h:"+p.h.toFixed()+",nodes:[",l+=1,r.push(d),n.push(c),c=p.nodes,d=p.nodes.length;else if(p.leaf){var h=p.leaf.toJSON?p.leaf.toJSON():JSON.stringify(p.leaf);u+="{x:"+p.x.toFixed()+",y:"+p.y.toFixed()+",w:"+p.w.toFixed()+",h:"+p.h.toFixed()+",leaf:"+h+"}",d>0&&(u+=",")}else p.load&&(u+="{x:"+p.x.toFixed()+",y:"+p.y.toFixed()+",w:"+p.w.toFixed()+",h:"+p.h.toFixed()+",load:'"+p.load+"'}",d>0&&(u+=","));d-=1}0>d&&(u+="]}",l-=1)}while(n.length>0);u+=";";for(var g in o)u+="\nvar "+g+" = function(){"+o[g]+" return(main_tree);};";return u},this.remove=function(){if(1>arguments.length)throw"Wrong number of arguments. RT.remove requires at least a bounding rectangle.";switch(arguments.length){case 1:arguments[1]=!1;case 2:arguments[2]=a;default:arguments.length=3}if(arguments[1]===!1){var e=0,t=[];do e=t.length,t=t.concat(o.apply(this,arguments));while(e!=t.length);return t}return o.apply(this,arguments)},this.insert=function(e,t){return m({x:e.x,y:e.y,w:e.w,h:e.h,leaf:t},a)}};RTree.Rectangle=function(e,t,n,a){var r,i,o,s,l,u;e.x?(r=e.x,o=e.y,0!==e.w&&!e.w&&e.x2?(l=e.x2-e.x,u=e.y2-e.y):(l=e.w,u=e.h),i=r+l,s=o+u):(r=e,o=t,l=n,u=a,i=r+l,s=o+u),this.x1=this.x=r,this.y1=this.y=o,this.x2=i,this.y2=s,this.w=l,this.h=u,this.toJSON=function(){return'{"x":'+(""+r)+', "y":'+(""+o)+', "w":'+(""+l)+', "h":'+(""+u)+"}"},this.overlap=function(e){return this.x()<e.x2()&&this.x2()>e.x()&&this.y()<e.y2()&&this.y2()>e.y()},this.expand=function(e){var t=Math.min(this.x(),e.x()),n=Math.min(this.y(),e.y());return l=Math.max(this.x2(),e.x2())-t,u=Math.max(this.y2(),e.y2())-n,r=t,o=n,this},this.setRect=function(e,t,n,a){var r,i,o,s,l,u;e.x?(r=e.x,o=e.y,0!==e.w&&!e.w&&e.x2?(l=e.x2-e.x,u=e.y2-e.y):(l=e.w,u=e.h),i=r+l,s=o+u):(r=e,o=t,l=n,u=a,i=r+l,s=o+u)}},RTree.Rectangle.overlap_rectangle=function(e,t){return e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.y+e.h>t.y},RTree.Rectangle.contains_rectangle=function(e,t){return e.x+e.w<=t.x+t.w&&e.x>=t.x&&e.y+e.h<=t.y+t.h&&e.y>=t.y},RTree.Rectangle.expand_rectangle=function(e,t){var n=Math.min(e.x,t.x),a=Math.min(e.y,t.y);return e.w=Math.max(e.x+e.w,t.x+t.w)-n,e.h=Math.max(e.y+e.h,t.y+t.h)-a,e.x=n,e.y=a,e},RTree.Rectangle.make_MBR=function(e,t){if(1>e.length)return{x:0,y:0,w:0,h:0};t?t.x=e[0].x:t={x:e[0].x,y:e[0].y,w:e[0].w,h:e[0].h},t.y=e[0].y,t.w=e[0].w,t.h=e[0].h;for(var n=e.length-1;n>0;n--)RTree.Rectangle.expand_rectangle(t,e[n]);return t},function(){"use strict";window.iD=function(){locale.current("en").current(iD.detect().locale);var e,t={};try{e=localStorage}catch(n){}e=e||{},t.storage=function(t,n){return 1===arguments.length?e[t]:(null===n?delete e[t]:e[t]=n,void 0)};var a,r,i=iD.History(t),o=d3.dispatch("enter","exit"),s=iD.ui(t),l=iD.Map(t),u=iD.Connection(t).keys(iD.data.keys);u.on("load.context",function(e,t){i.merge(t)}),t.ui=function(){return s},t.connection=function(){return u},t.history=function(){return i},t.map=function(){return l},t.graph=i.graph,t.perform=i.perform,t.replace=i.replace,t.pop=i.pop,t.undo=i.undo,t.redo=i.redo,t.changes=i.changes,t.intersects=i.intersects,t.entity=function(e){return i.graph().entity(e)},t.geometry=function(e){return t.entity(e).geometry(i.graph())},t.enter=function(e){a&&(a.exit(),o.exit(a)),a=e,a.enter(),o.enter(a)},t.mode=function(){return a},t.selection=function(){return"select"===a.id?a.selection():[]},t.install=function(e){t.surface().call(e)},t.uninstall=function(e){t.surface().call(e.off)},t.layers=function(){return l.layers},t.background=function(){return l.layers[0]},t.surface=function(){return l.surface},t.projection=l.projection,t.tail=l.tail,t.redraw=l.redraw,t.pan=l.pan,t.zoomIn=l.zoomIn,t.zoomOut=l.zoomOut;var c=iD.data.imagery.map(function(e){return"Bing"===e.sourcetag?iD.BackgroundSource.Bing(e,t.background().dispatch):iD.BackgroundSource.template(e)});c.push(iD.BackgroundSource.Custom),t.backgroundSources=function(){return c};var d=iD.presets(t).load(iD.data.presets);t.presets=function(){return d},t.container=function(e){return arguments.length?(r=e,t):r};var p=iD.util.stringQs(location.hash.substring(1)),m=!1;return p.layer&&t.layers()[0].source(_.find(c,function(e){return e.data.sourcetag===p.layer?(m=!0,!0):void 0})),m||t.background().source(_.find(c,function(e){return"Bing aerial imagery"===e.data.name})),d3.rebind(t,o,"on")},iD.version="0.0.0-alpha3",iD.detect=function(){function e(e){return-1!==navigator.userAgent.indexOf(e)}var t={},n=navigator.userAgent,a=RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");if(null!==a.exec(n)){var r=parseFloat(RegExp.$1);t.support=!(r&&9>r)}else t.support=!0;return t.opera=n.indexOf("Opera")>=0,t.locale=navigator.language,t.filedrop=window.FileReader&&"ondrop"in window,t.os=e("Win")?"win":e("Mac")?"mac":e("X11")?"linux":e("Linux")?"linux":"win",t},iD.Connection=function(e){function t(e){for(var t=e.getElementsByTagName(h),n=Array(t.length),a=0,r=t.length;r>a;a++)n[a]="n"+t[a].attributes.ref.nodeValue;return n}function n(e){for(var t=e.getElementsByTagName(g),n={},a=0,r=t.length;r>a;a++){var i=t[a].attributes;n[i.k.nodeValue]=i.v.nodeValue}return n}function a(e){for(var t=e.getElementsByTagName(f),n=Array(t.length),a=0,r=t.length;r>a;a++){var i=t[a].attributes;n[a]={id:i.type.nodeValue[0]+i.ref.nodeValue,type:i.type.nodeValue,role:i.role.nodeValue}}return n}function r(e){if(!e||!e.childNodes)return Error("Bad request");var t,n,a,r=e.childNodes[0],i=r.childNodes,o={};for(t=0,a=i.length;a>t;t++){var s=i[t],l=w[s.nodeName];l&&(n=l(s),o[n.id]=n)}return o}function i(e){e.abort()}var o,s=d3.dispatch("auth","loading","load","loaded"),l="http://localhost:3000",u={},c={},d={},p={},m=iD.OAuth(e).url(l),h="nd",g="tag",f="member",y="node",v="way",b="relation";u.changesetUrl=function(e){return l+"/browse/changeset/"+e},u.loadFromURL=function(e,t){function n(e){return t(null,r(e))}return d3.xml(e).get().on("load",n)};var w={node:function(e){var t=e.attributes;return new iD.Node({id:iD.Entity.id.fromOSM(y,t.id.nodeValue),loc:[parseFloat(t.lon.nodeValue),parseFloat(t.lat.nodeValue)],version:t.version.nodeValue,changeset:t.changeset.nodeValue,user:t.user&&t.user.nodeValue,uid:t.uid&&t.uid.nodeValue,visible:t.visible.nodeValue,timestamp:t.timestamp.nodeValue,tags:n(e)})},way:function(e){var a=e.attributes;return new iD.Way({id:iD.Entity.id.fromOSM(v,a.id.nodeValue),version:a.version.nodeValue,changeset:a.changeset.nodeValue,user:a.user&&a.user.nodeValue,uid:a.uid&&a.uid.nodeValue,visible:a.visible.nodeValue,timestamp:a.timestamp.nodeValue,tags:n(e),nodes:t(e)})},relation:function(e){var t=e.attributes;return new iD.Relation({id:iD.Entity.id.fromOSM(b,t.id.nodeValue),version:t.version.nodeValue,changeset:t.changeset.nodeValue,user:t.user&&t.user.nodeValue,uid:t.uid&&t.uid.nodeValue,visible:t.visible.nodeValue,timestamp:t.timestamp.nodeValue,tags:n(e),members:a(e)})}};return u.authenticated=function(){return m.authenticated()},u.changesetJXON=function(e){return{osm:{changeset:{tag:_.map(e,function(e,t){return{"@k":t,"@v":e}}),"@version":.3,"@generator":"iD"}}}},u.osmChangeJXON=function(e,t,n){function a(e,t){for(var n={},a=0;e.length>a;a++){var r=Object.keys(e[a])[0];n[r]||(n[r]=[]),n[r].push(e[a][r])}var i={};return t.forEach(function(e){n[e]&&(i[e]=n[e])}),i}function r(e){return e.asJXON(t)}return{osmChange:{"@version":.3,"@generator":"iD",create:a(n.created.map(r),["node","way","relation"]),modify:a(n.modified.map(r),["node","way","relation"]),"delete":_.extend(a(n.deleted.map(r),["relation","way","node"]),{"@if-unused":!0})}}},u.putChangeset=function(e,t,n,a){m.xhr({method:"PUT",path:"/api/0.6/changeset/create",options:{header:{"Content-Type":"text/xml"}},content:JXON.stringify(u.changesetJXON({imagery_used:n.join(";"),comment:t,created_by:"iD "+iD.version}))},function(t,n){return t?a(t):(m.xhr({method:"POST",path:"/api/0.6/changeset/"+n+"/upload",options:{header:{"Content-Type":"text/xml"}},content:JXON.stringify(u.osmChangeJXON(c.id,n,e))},function(e){return e?a(e):(m.xhr({method:"PUT",path:"/api/0.6/changeset/"+n+"/close"},function(e){a(e,n)}),void 0)}),void 0)})},u.userDetails=function(e){function t(t,n){if(t)return e(t);var a=n.getElementsByTagName("user")[0],r=a.getElementsByTagName("img"),i="";r&&r[0].getAttribute("href")&&(i=r[0].getAttribute("href")),e(void 0,u.user({display_name:a.attributes.display_name.nodeValue,image_url:i,id:a.attributes.id.nodeValue}).user())}m.xhr({method:"GET",path:"/api/0.6/user/details"},t)},u.loadTiles=function(e,t){function n(t){var n=t[0]*h-g[0],a=t[1]*h-g[1],r=[e.invert([n,a]),e.invert([n+h,a+h])];return l+"/api/0.6/map?bbox="+[r[0][0],r[1][1],r[1][0],r[0][1]]}var a=[16,16],r=e.scale(),o=d3.geo.tile().scaleExtent(a).scale(r).size(t).translate(e.translate())(),c=Math.max(Math.log(r)/Math.log(2)-8,0),m=Math.max(a[0],Math.min(a[1],Math.floor(c))),h=256*Math.pow(2,c-m),g=[r/2-e.translate()[0],r/2-e.translate()[1]];_.filter(d,function(e,t){var n=_.find(o,function(e){return t===""+e});return n||delete d[t],!n}).map(i),o.forEach(function(e){var t=""+e;p[t]||d[t]||(_.isEmpty(d)&&s.loading(),d[t]=u.loadFromURL(n(e),function(e,n){p[t]=!0,delete d[t],s.load(e,n),_.isEmpty(d)&&s.loaded()}))})},u.userUrl=function(e){return l+"/user/"+e},u.url=function(e){return arguments.length?(l=e,m.url(e),s.auth(),u.flush(),u):l},u.user=function(e){return arguments.length?(c=e,u):c},u.flush=function(){return _.forEach(d,i),p={},d={},u},u.logout=function(){return m.logout(),s.auth(),u},u.keys=function(e){return arguments.length?(o=e,m.keys(o),u):o},u.authenticate=function(e){function t(t,n){s.auth(),e&&e(t,n)}return m.authenticate(t)},d3.rebind(u,s,"on")},iD.OAuth=function(e){function t(e){return e.oauth_timestamp=ohauth.timestamp(),e.oauth_nonce=ohauth.nonce(),e}function n(){return e.storage.apply(e,arguments)}function a(){o&&r&&r[o]&&(s=_.assign({},_.omit(r[o],"oauth_secret")),i=r[o].oauth_secret)}var r,i,o="http://localhost:3000",s={},l={};return n("oauth_token")&&(s.oauth_token=n("oauth_token")),l.authenticated=function(){return n("oauth_token")&&n("oauth_token_secret")},l.logout=function(){return n("oauth_token",""),n("oauth_token_secret",""),n("oauth_request_token_secret",""),l},l.xhr=function(e,a){function r(e,t){return e?a(e):t.responseXML?a(e,t.responseXML):a(e,t.response)}n("oauth_token")&&(s.oauth_token=n("oauth_token")),s=t(s);var l=o+e.path,u=n("oauth_token_secret");s.oauth_signature=ohauth.signature(i,u,ohauth.baseString(e.method,l,s)),ohauth.xhr(e.method,l,s,e.content,e.options,r)},l.authenticate=function(r){function u(e,t){e&&r(e),p.remove();var a=ohauth.stringQs(t.response);n("oauth_request_token_secret",a.oauth_token_secret),f.location=o+"/oauth/authorize?"+ohauth.qsString({oauth_token:a.oauth_token,oauth_callback:location.href.replace("index.html","").replace(/#.+/,"")+"land.html"})}function c(a){function l(e,t){e&&r(e),d.remove();var a=ohauth.stringQs(t.response);n("oauth_token",a.oauth_token),n("oauth_token_secret",a.oauth_token_secret),r()}var u=o+"/oauth/access_token";s=t(s),s.oauth_token=a.oauth_token;var c=n("oauth_request_token_secret");s.oauth_signature=ohauth.signature(i,c,ohauth.baseString("POST",u,s));var d=iD.ui.loading(e.container(),"contacting openstreetmap...");ohauth.xhr("POST",u,s,null,{},l)}if(l.authenticated())return r();l.logout(),a(),s=t(s);var d=o+"/oauth/request_token";s.oauth_signature=ohauth.signature(i,"",ohauth.baseString("POST",d,s));var p=iD.ui.loading(e.container(),"contacting openstreetmap..."),m=600,h=550,g=[["width",m],["height",h],["left",screen.width/2-m/2],["top",screen.height/2-h/2]].map(function(e){return e.join("=")}).join(","),f=window.open("about:blank","oauth_window",g);window.authComplete=function(e){var t=ohauth.stringQs(e);c(t),delete window.authComplete},ohauth.xhr("POST",d,s,null,{},u)},l.url=function(e){return arguments.length?(o=e,a(),l):o},l.keys=function(e){return arguments.length?(r=e,a(),l):r},l},iD.taginfo=function(){function e(e,t,n){return e.geometry&&n[e.geometry]&&(e[t]=n[e.geometry]),e}function t(t){return e(t,"filter",m)}function n(t){return e(t,"sortname",p)}function a(e){return _.omit(e,"geometry","debounce")}function r(e){return e.query?e.query=e.query.slice(0,3):delete e.query,e}function i(e){var t="count_all";return e.filter&&(t="count_"+e.filter),function(e){return parseFloat(e[t])>1e4}}function o(){return function(e){return parseFloat(e.fraction)>.01}}function s(e){return{value:e.key}}function l(e){return{value:e.value,title:e.description}}function u(e,t,n){function a(t,a){t||(h[e]=a),n(t,a)}h[e]?n(null,h[e]):t?g(e,a):d3.json(e,a)}var c={},d="http://localhost:3000/api/4/",p={point:"count_nodes",vertex:"count_nodes",area:"count_ways",line:"count_ways"},m={point:"nodes",vertex:"nodes",area:"ways",line:"ways"},h=this.cache={},g=_.debounce(d3.json,100,!0);return c.keys=function(e,o){var l=e.debounce;e=a(r(n(t(e)))),u(d+"keys/all?"+iD.util.qsString(_.extend({rp:10,sortname:"count_all",sortorder:"desc",page:1},e)),l,function(t,n){return t?o(t):(o(null,n.data.filter(i(e)).map(s)),void 0)})},c.values=function(e,i){var s=e.debounce;e=a(r(n(t(e)))),u(d+"key/values?"+iD.util.qsString(_.extend({rp:20,sortname:"count_all",sortorder:"desc",page:1},e)),s,function(t,n){return t?i(t):(i(null,n.data.filter(o()).map(l),e),void 0)})},c.docs=function(e,t){var r=e.debounce;e=a(n(e)),u(d+(e.value?"tag/wiki_pages?":"key/wiki_pages?")+iD.util.qsString(e),r,t)},c.endpoint=function(e){return arguments.length?(d=e,c):d},c},iD.data={deprecated:[{old:{barrier:"wire_fence"},replace:{barrier:"fence",fence_type:"chain"}},{old:{barrier:"wood_fence"},replace:{barrier:"fence",fence_type:"wood"}},{old:{highway:"ford"},replace:{ford:"yes"}},{old:{highway:"stile"},replace:{barrier:"stile"}},{old:{highway:"incline"},replace:{highway:"road",incline:"up"}},{old:{highway:"incline_steep"},replace:{highway:"road",incline:"up"}},{old:{highway:"unsurfaced"},replace:{highway:"road",incline:"unpaved"}},{old:{landuse:"wood"},replace:{landuse:"forest",natural:"wood"}},{old:{natural:"marsh"},replace:{natural:"wetland",wetland:"marsh"}},{old:{shop:"organic"},replace:{shop:"supermarket",organic:"only"}},{old:{power_source:"*"},replace:{"generator:source":"$1"}},{old:{power_rating:"*"},replace:{"generator:output":"$1"}}],discarded:["created_by","tiger:upload_uuid","tiger:tlid","tiger:source","tiger:separated","geobase:datasetName","geobase:uuid","sub_sea:type","odbl","odbl:note","yh:LINE_NAME","yh:LINE_NUM","yh:STRUCTURE","yh:TOTYUMONO","yh:TYPE","yh:WIDTH_RANK"],keys:{"http://api.openfloorplan.org":{oauth_consumer_key:"zwQZFivccHkLs3a8Rq5CoS412fE5aPCXDw9DZj7R",oauth_secret:"aMnOOCwExO2XYtRVWJ1bI9QOdqh1cay2UgpbhA6p",oauth_signature_method:"HMAC-SHA1"},"http://www.openfloorplan.org":{oauth_consumer_key:"5A043yRSEugj4DJ5TljuapfnrflWDte8jTOcWLlT",oauth_secret:"aB3jKq1TRsCOUrfOIZ6oQMEDmv2ptV76PA54NGLL",oauth_signature_method:"HMAC-SHA1"}},imagery:[{name:"Bing aerial imagery",template:"http://ecn.t{t}.tiles.virtualearth.net/tiles/a{u}.jpeg?g=587&mkt=en-gb&n=z",description:"Satellite imagery.",scaleExtent:[0,20],subdomains:["0","1","2","3"],"default":"yes",sourcetag:"Bing",logo:"bing_maps.png",logo_url:"http://www.bing.com/maps",terms_url:"http://opengeodata.org/microsoft-imagery-details"},{name:"MapBox Satellite",template:"http://{t}.tiles.mapbox.com/v3/openstreetmap.map-4wvf9l0l/{z}/{x}/{y}.png",description:"Satellite and aerial imagery.",scaleExtent:[0,16],subdomains:["a","b","c"],terms_url:"http://mapbox.com/tos/"},{name:"OpenStreetMap",template:"http://{t}.tile.openstreetmap.org/{z}/{x}/{y}.png",description:"The default OpenStreetMap layer.",scaleExtent:[0,18],subdomains:["a","b","c"]},{name:" TIGER 2012 Roads Overlay",template:"http://{t}.tile.openstreetmap.us/tiger2012_roads_expanded/{z}/{x}/{y}.png",subdomains:["a","b","c"],extent:[[-124.81,24.055],[-66.865,49.386]]},{name:" TIGER 2012 Roads Overlay",template:"http://{t}.tile.openstreetmap.us/tiger2012_roads_expanded/{z}/{x}/{y}.png",subdomains:["a","b","c"],extent:[[-179.754,50.858],[-129.899,71.463]]},{name:" TIGER 2012 Roads Overlay",template:"http://{t}.tile.openstreetmap.us/tiger2012_roads_expanded/{z}/{x}/{y}.png",subdomains:["a","b","c"],extent:[[-174.46,18.702],[-154.516,26.501]]},{name:" USGS Topographic Maps",template:"http://{t}.tile.openstreetmap.us/usgs_scanned_topos/{z}/{x}/{y}.png",subdomains:["a","b","c"],extent:[[-125.991,24.005],[-65.988,50.009]]},{name:" USGS Topographic Maps",template:"http://{t}.tile.openstreetmap.us/usgs_scanned_topos/{z}/{x}/{y}.png",subdomains:["a","b","c"],extent:[[-160.579,18.902],[-154.793,22.508]]},{name:" USGS Topographic Maps",template:"http://{t}.tile.openstreetmap.us/usgs_scanned_topos/{z}/{x}/{y}.png",subdomains:["a","b","c"],extent:[[-178.001,51.255],[-130.004,71.999]]},{name:" USGS Large Scale Aerial Imagery",template:"http://{t}.tile.openstreetmap.us/usgs_large_scale/{z}/{x}/{y}.jpg",subdomains:["a","b","c"],extent:[[-124.819,24.496],[-66.931,49.443]]},{name:"British Columbia bc_mosaic",template:"http://{t}.imagery.paulnorman.ca/tiles/bc_mosaic/{z}/{x}/{y}.png",subdomains:["a","b","c","d"],extent:[[-123.441,48.995],[-121.346,50.426]],sourcetag:"bc_mosaic",terms_url:"http://imagery.paulnorman.ca/tiles/about.html"},{name:"OS OpenData Streetview",template:"http://os.openstreetmap.org/sv/{z}/{x}/{y}.png",extent:[[-8.72,49.86],[1.84,60.92]],sourcetag:"OS_OpenData_StreetView"},{name:"OS OpenData Locator",template:"http://tiles.itoworld.com/os_locator/{z}/{x}/{y}.png",extent:[[-9,49.8],[1.9,61.1]],sourcetag:"OS_OpenData_Locator"},{name:"OS 1:25k historic (OSM)",template:"http://ooc.openstreetmap.org/os1/{z}/{x}/{y}.jpg",extent:[[-9,49.8],[1.9,61.1]],sourcetag:"OS 1:25k"},{name:"OS 1:25k historic (NLS)",template:"http://geo.nls.uk/mapdata2/os/25000/{z}/{x}/{y}.png",extent:[[-9,49.8],[1.9,61.1]],sourcetag:"OS 1:25k",logo:"icons/logo_nls70-nq8.png",logo_url:"http://geo.nls.uk/maps/"},{name:"OS 7th Series historic (OSM)",template:"http://ooc.openstreetmap.org/os7/{z}/{x}/{y}.jpg",extent:[[-9,49.8],[1.9,61.1]],sourcetag:"OS7"},{name:"OS 7th Series historic (NLS)",template:"http://geo.nls.uk/mapdata2/os/seventh/{z}/{x}/{y}.png",extent:[[-9,49.8],[1.9,61.1]],sourcetag:"OS7",logo:"icons/logo_nls70-nq8.png",logo_url:"http://geo.nls.uk/maps/"},{name:"OS New Popular Edition historic",template:"http://ooc.openstreetmap.org/npe/{z}/{x}/{y}.png",extent:[[-5.8,49.8],[1.9,55.8]],sourcetag:"NPE"},{name:"OS Scottish Popular historic",template:"http://ooc.openstreetmap.org/npescotland/tiles/{z}/{x}/{y}.jpg",extent:[[-7.8,54.5],[-1.1,61.1]],sourcetag:"NPE"},{name:"Surrey aerial",template:"http://gravitystorm.dev.openstreetmap.org/surrey/{z}/{x}/{y}.png",extent:[[-.856,51.071],[.062,51.473]],sourcetag:"Surrey aerial"},{name:"Haiti - GeoEye Jan 13",template:"http://gravitystorm.dev.openstreetmap.org/imagery/haiti/{z}/{x}/{y}.jpg",extent:[[-74.5,17.95],[-71.58,20.12]],sourcetag:"Haiti GeoEye"},{name:"Haiti - GeoEye Jan 13+",template:"http://maps.nypl.org/tilecache/1/geoeye/{z}/{x}/{y}.jpg",extent:[[-74.5,17.95],[-71.58,20.12]],sourcetag:"Haiti GeoEye"},{name:"Haiti - DigitalGlobe",template:"http://maps.nypl.org/tilecache/1/dg_crisis/{z}/{x}/{y}.jpg",extent:[[-74.5,17.95],[-71.58,20.12]],sourcetag:"Haiti DigitalGlobe"},{name:"Haiti - Street names",template:"http://hypercube.telascience.org/tiles/1.0.0/haiti-city/{z}/{x}/{y}.jpg",extent:[[-74.5,17.95],[-71.58,20.12]],sourcetag:"Haiti streetnames"},{name:"NAIP",template:"http://cube.telascience.org/tilecache/tilecache.py/NAIP_ALL/{z}/{x}/{y}.png",description:"National Agriculture Imagery Program",extent:[[-125.8,24.2],[-62.3,49.5]],sourcetag:"NAIP"},{name:"NAIP",template:"http://cube.telascience.org/tilecache/tilecache.py/NAIP_ALL/{z}/{x}/{y}.png",description:"National Agriculture Imagery Program",extent:[[-168.5,55.3],[-140,71.5]],sourcetag:"NAIP"},{name:"Ireland - NLS Historic Maps",template:"http://geo.nls.uk/maps/ireland/gsgs4136/{z}/{x}/{y}.png",extent:[[-10.71,51.32],[-5.37,55.46]],sourcetag:"NLS Historic Maps",logo:"icons/logo_nls70-nq8.png",logo_url:"http://geo.nls.uk/maps/"},{name:"Denmark - Fugro Aerial Imagery",template:"http://tile.openstreetmap.dk/fugro2005/{z}/{x}/{y}.jpg",extent:[[7.81,54.44],[15.49,57.86]],sourcetag:"Fugro (2005)"},{name:"Denmark - Stevns Kommune",template:"http://tile.openstreetmap.dk/stevns/2009/{z}/{x}/{y}.jpg",extent:[[12.09144,55.23403],[12.47712,55.43647]],sourcetag:"Stevns Kommune (2009)"},{name:"Austria - geoimage.at",template:"http://geoimage.openstreetmap.at/4d80de696cd562a63ce463a58a61488d/{z}/{x}/{y}.jpg",extent:[[9.36,46.33],[17.28,49.09]],sourcetag:"geoimage.at"},{name:"Russia - Kosmosnimki.ru IRS Satellite",template:"http://irs.gis-lab.info/?layers=irs&request=GetTile&z={z}&x={x}&y={y}",extent:[[19.02,40.96],[77.34,70.48]],sourcetag:"Kosmosnimki.ru IRS"},{name:"Belarus - Kosmosnimki.ru SPOT4 Satellite",template:"http://irs.gis-lab.info/?layers=spot&request=GetTile&z={z}&x={x}&y={y}",extent:[[23.16,51.25],[32.83,56.19]],sourcetag:"Kosmosnimki.ru SPOT4"},{name:"Australia - Geographic Reference Image",template:"http://agri.openstreetmap.org/{z}/{x}/{y}.png",extent:[[96,-44],[168,-9]],sourcetag:"AGRI"},{name:"Switzerland - Canton Aargau - AGIS 25cm 2011",template:"http://tiles.poole.ch/AGIS/OF2011/{z}/{x}/{y}.png",extent:[[7.69,47.13],[8.48,47.63]],sourcetag:"AGIS OF2011"},{name:"Switzerland - Canton Solothurn - SOGIS 2007",template:"http://mapproxy.sosm.ch:8080/tiles/sogis2007/EPSG900913/{z}/{x}/{y}.png?origin=nw",extent:[[7.33,47.06],[8.04,47.5]],sourcetag:"Orthofoto 2007 WMS Solothurn"},{name:"Poland - Media-Lab fleet GPS masstracks",template:"http://masstracks.media-lab.com.pl/{z}/{x}/{y}.png",extent:[[14,48.9],[24.2,55]],sourcetag:"masstracks"},{name:"South Africa - CD:NGI Aerial",template:"http://{t}.aerial.openstreetmap.org.za/ngi-aerial/{z}/{x}/{y}.jpg",subdomains:["a","b","c"],extent:[[17.64,-34.95],[32.87,-22.05]],sourcetag:"ngi-aerial"}],docs:[{html:'<p>This is an editor for <a href="http://www.openstreetmap.org/">OpenStreetMap</a>, the\nfree and editable map of the world. You can use it to fix and update\ndata in your area, making an open-source and open-data map of the world\nbetter for everyone.</p>\n<p>Edits that you make on this map will be visible to everyone who uses\nOpenStreetMap. In order to make an edit, you&#39;ll need a\n<a href="https://www.openstreetmap.org/user/new">free OpenStreetMap account</a>.</p>\n<p><a href="http://ideditor.com/">iD Editor</a> is a collaborative project with <a href="https://github.com/systemed/iD">source\ncode available on GitHub</a>.</p>\n',title:"Help"},{html:'<p>This editor is designed to work primarily online, and you&#39;re accessing\nit through a website right now.</p>\n<h2>Selecting Features</h2>\n<p>To select a map feature, like a road or point of interest, simply single-click\non it on the map. This will highlight the selected feature, show a panel of\ndetails, and also show a menu of things you can do with the feature.</p>\n<p>Multiple features can be selected by holding the &#39;Shift&#39; key, clicking,\nand dragging on the map. This will select all features within the box\nthat&#39;s drawn, and you can do certain &#39;batch operations&#39; on all features.</p>\n<h2>Saving Edits</h2>\n<p>When you create changes, like editing roads, buildings, and places, these are\nstored locally until you save them to the server. Don&#39;t worry if you make\na mistake - you can undo changes by clicking the undo button, and redo\nchanges by clicking the redo button.</p>\n<p>Click &#39;Save&#39; to finish a group of edits - for instance, if you&#39;ve completed\nan area of town and would like to start on a new area. You&#39;ll have a chance\nto review what you&#39;ve done, and the editor supplies helpful suggestions\nand warnings if something doesn&#39;t seem right about the changes.</p>\n<p>Clicking &#39;Save&#39; again, on the new dialog, will post the changes\nto <a href="http://www.openstreetmap.org/">OpenStreetMap.org</a>, where they are visible\nto all other users and available for others to build and improve upon.</p>\n<p>If you can&#39;t finish your edits in one sitting, you can leave the editor\nwindow and come back (on the same browser and computer), and the\neditor application will offer to restore your work.</p>\n',title:"Editing & Saving"},{html:"<p>You can create, fix, and delete roads with this editor. Roads can be all\nkinds: paths, highways, trails, cycleways, and more - any often-crossed\nsegment should be mappable.</p>\n<h3>Selecting</h3>\n<p>Click on a road to select it. An outline should become visible, along\nwith a small tools menu on the map and a sidebar showing more information\nabout the road.</p>\n<h3>Modifying</h3>\n<p>Often you&#39;ll see roads that aren&#39;t aligned to the imagery behind them\nor a GPS track.</p>\n<p>First click on the road you want to change. This will highlight it and show\n&#39;control points along it&#39; that you can drag to better locations. If\nyou want to add new control points for more detail, double-click a part\nof the road without a point, and one will be added.</p>\n<p>If the road connects to another road, but doesn&#39;t properly connect on\nthe map, you can drag one of its control points onto the other road in\norder to join them. Having roads connect is important for the map\nand essential for providing driving directions.</p>\n<p>You can also click the &#39;Move&#39; tool or type <code>M</code> to move the entire road at\none time, and then click again to save that movement.</p>\n<h3>Deleting</h3>\n<p>If a road is entirely incorrect - you can see that it doesn&#39;t exist in satellite\nimagery and ideally have confirmed locally that it&#39;s not present - you can delete\nit, which removes it from the map. Be cautious when deleting features -\nlike any other edit, the results are seen by everyone and satellite imagery\nis often out of date, so the road could simply be newly built.</p>\n<p>You can delete a road by clicking on it to select it, then clicking the\ntrash can icon or pressing the &#39;Delete&#39; key.</p>\n<h3>Creating</h3>\n<p>Found somewhere there should be a road but there isn&#39;t? Click the &#39;Line&#39;\nicon in the top-left of the editor or press the key &#39;2&#39; to start drawing\na line.</p>\n<p>Click on the start of the road on the map to start drawing. If the road\nconnects to another road, first, click on the place where they connect.</p>\n<p>Then click on points along the road so that it follows the right path, according\nto satellite imagery or GPS. When you&#39;re done drawing the road, double-click\nor press &#39;Return&#39; or &#39;Enter&#39; on your keyboard.</p>\n",title:"Roads"},{html:'<p>GPS data is the most trusted source of data for OpenStreetMap. This editor\nsupports local traces - <code>.gpx</code> files on your local computer. You can collect\nthis kind of GPS trace with a number of smartphone applications as well as\npersonal GPS hardware.</p>\n<p>For information on how to perform a GPS survey, read\n<a href="http://learnosm.org/en/beginner/using-gps/">Surveying with a GPS</a>.</p>\n<p>To use a GPX track for mapping, drag and drop the GPX file onto the map map\neditor. If it&#39;s recognized, it will be added to the map as a bright green\nline. Click on the &#39;Background Settings&#39; menu on the left side to enable,\ndisable, or zoom to this new GPX-powered layer.</p>\n<p>The GPX track isn&#39;t directly uploaded to OpenStreetMap - the best way to\nuse it is to draw on the map, using it as a guide for the new features that\nyou add.</p>\n',title:"GPS"},{html:'<p>Aerial imagery is an important resource for mapping. A combination of\nairplane flyovers, satellite views, and freely-compiled sources are available\nin the editor under the &#39;Background Settings&#39; menu on the left.</p>\n<p>By default a <a href="http://www.bing.com/maps/">Bing Maps</a> satellite layer is\npresented in the editor, but as you pan and zoom the map to new geographical\nareas, new sources will become available. Some countries, like the United\nStates, France, and Denmark have very high-resolution, high-quality imagery\navailable for smaller geographical coverages.</p>\n<p>Imagery is sometimes offset from the map data because of a mistake on the\nimagery provider&#39;s side - so if you see many roads shifted from the background,\ndon&#39;t immediately go to move them all. You can set an offset for imagery\nby clicking &#39;Fix alignment&#39; at the bottom of the bottom of the Background\nSettings UI.</p>\n',title:"Imagery"},{html:"<p>Addresses are some of the most useful information for the map.</p>\n<p>Although addresses are often represented as parts of streets, in OpenStreetMap\nthey&#39;re recorded as attributes of buildings and places along streets.</p>\n<p>You can add address information to places mapped as building outlines as well\nas well as those mapped as single points. The optimal source of address\ndata is from an on-the-ground survey or personal knowledge - as with any\nother feature, copying from commercial sources like Google Maps is strictly\nforbidden.</p>\n",title:"Addresses"},{html:"<p>OpenStreetMap is the world&#39;s largest database of buildings. You can create\nand improve this database.</p>\n<h3>Selecting</h3>\n<p>You can select a building by clicking on its border. This will highlight the\nbuilding and open a small tools menu and a sidebar showing more information\nabout the building.</p>\n<h3>Modifying</h3>\n<p>Sometimes buildings are incorrectly placed or have incorrect tags.</p>\n<p>To move an entire building, select it, then click the &#39;Move&#39; tool. Move your\nmouse to shift the building, and click when it&#39;s correctly placed.</p>\n<p>To fix the specific shape of a building, click and drag the points that form\nits border into better places.</p>\n<h3>Creating</h3>\n<p>One of the main questions around adding buildings to the map is that\nOpenStreetMap records buildings both as shapes and points. The rule of thumb\nis to <em>map a building as a shape whenever possible</em>, and map companies, homes,\namenities, and other things that operate out of buildings as points placed\nwithin the building shape.</p>\n<p>Start drawing a building as a shape by clicking the &#39;Area&#39; button in the top\nleft of the interface, and end it either by pressing &#39;Return&#39; on your keyboard\nor clicking on the first point drawn to close the shape.</p>\n<h3>Deleting</h3>\n<p>If a building is entirely incorrect - you can see that it doesn&#39;t exist in satellite\nimagery and ideally have confirmed locally that it&#39;s not present - you can delete\nit, which removes it from the map. Be cautious when deleting features -\nlike any other edit, the results are seen by everyone and satellite imagery\nis often out of date, so the road could simply be newly built.</p>\n<p>You can delete a building by clicking on it to select it, then clicking the\ntrash can icon or pressing the &#39;Delete&#39; key.</p>\n",title:"Buildings"}],presets:{presets:{aeroway:{fields:["aeroway"],geometry:["point","vertex","line","area"],tags:{aeroway:"*"},name:"Aeroway"},"aeroway/aerodrome":{icon:"airport",geometry:["point","area"],terms:["airplane","airport","aerodrome"],tags:{aeroway:"aerodrome"},name:"Airport"},"aeroway/helipad":{icon:"heliport",geometry:["point","area"],terms:["helicopter","helipad","heliport"],tags:{aeroway:"helipad"},name:"Helipad"},amenity:{fields:["amenity"],geometry:["point","vertex","area"],tags:{amenity:"*"},name:"Amenity"},"amenity/bank":{icon:"bank",fields:["atm","building_area","address"],geometry:["point","vertex","area"],terms:["coffer","countinghouse","credit union","depository","exchequer","fund","hoard","investment firm","repository","reserve","reservoir","safe","savings","stock","stockpile","store","storehouse","thrift","treasury","trust company","vault"],tags:{amenity:"bank"},name:"Bank"},"amenity/bar":{icon:"bar",fields:["building_area","address"],geometry:["point","vertex","area"],tags:{amenity:"bar"},terms:[],name:"Bar"},"amenity/bench":{geometry:["point","vertex","line"],tags:{amenity:"bench"},name:"Bench"},"amenity/bicycle_parking":{icon:"bicycle",fields:["bicycle_parking","capacity","operator"],geometry:["point","vertex","area"],tags:{amenity:"bicycle_parking"},name:"Bicycle Parking"},"amenity/bicycle_rental":{icon:"bicycle",fields:["capacity","network","operator"],geometry:["point","vertex","area"],tags:{amenity:"bicycle_rental"},name:"Bicycle Rental"},"amenity/cafe":{icon:"cafe",fields:["cuisine","internet_access","building_area","address"],geometry:["point","vertex","area"],terms:["coffee","tea","coffee shop"],tags:{amenity:"cafe"},name:"Cafe"},"amenity/cinema":{icon:"cinema",fields:["building_area","address"],geometry:["point","vertex","area"],terms:["big screen","bijou","cine","drive-in","film","flicks","motion pictures","movie house","movie theater","moving pictures","nabes","photoplay","picture show","pictures","playhouse","show","silver screen"],tags:{amenity:"cinema"},name:"Cinema"},"amenity/courthouse":{fields:["operator","building_area","address"],geometry:["point","vertex","area"],tags:{amenity:"courthouse"},name:"Courthouse"},"amenity/embassy":{geometry:["area","point"],tags:{amenity:"embassy"},fields:["country"],icon:"embassy",name:"Embassy"},"amenity/fast_food":{icon:"fast-food",fields:["cuisine","building_area","address"],geometry:["point","vertex","area"],tags:{amenity:"fast_food"},terms:[],name:"Fast Food"},"amenity/fire_station":{icon:"fire-station",fields:["operator","building_area","address"],geometry:["point","vertex","area"],tags:{amenity:"fire_station"},terms:[],name:"Fire Station"},"amenity/fuel":{icon:"fuel",fields:["operator","address"],geometry:["point","vertex","area"],tags:{amenity:"fuel"},name:"Gas Station"},"amenity/grave_yard":{icon:"cemetery",fields:["religion"],geometry:["point","vertex","area"],tags:{amenity:"grave_yard"},name:"Graveyard"},"amenity/hospital":{icon:"hospital",fields:["emergency","building_area","address"],geometry:["point","vertex","area"],terms:["clinic","emergency room","health service","hospice","infirmary","institution","nursing home","rest home","sanatorium","sanitarium","sick bay","surgery","ward"],tags:{amenity:"hospital"},name:"Hospital"},"amenity/library":{icon:"library",fields:["operator","building_area","address"],geometry:["point","vertex","area"],tags:{amenity:"library"},terms:[],name:"Library"},"amenity/marketplace":{geometry:["point","vertex","area"],tags:{amenity:"marketplace"},name:"Marketplace"},"amenity/parking":{icon:"parking",fields:["fee","access","address"],geometry:["point","vertex","area"],tags:{amenity:"parking"},terms:[],name:"Parking"},"amenity/pharmacy":{icon:"pharmacy",fields:["operator","building_area","address"],geometry:["point","vertex","area"],tags:{amenity:"pharmacy"},terms:[],name:"Pharmacy"},"amenity/place_of_worship":{icon:"place-of-worship",fields:["religion","denomination","building","address"],geometry:["point","vertex","area"],terms:["abbey","basilica","bethel","cathedral","chancel","chantry","chapel","church","fold","house of God","house of prayer","house of worship","minster","mission","mosque","oratory","parish","sacellum","sanctuary","shrine","synagogue","tabernacle","temple"],tags:{amenity:"place_of_worship"},name:"Place of Worship"},"amenity/place_of_worship/christian":{icon:"religious-christian",fields:["denomination","building","address"],geometry:["point","vertex","area"],terms:["christian","abbey","basilica","bethel","cathedral","chancel","chantry","chapel","church","fold","house of God","house of prayer","house of worship","minster","mission","oratory","parish","sacellum","sanctuary","shrine","tabernacle","temple"],tags:{amenity:"place_of_worship",religion:"christian"},name:"Church"},"amenity/place_of_worship/jewish":{icon:"religious-jewish",fields:["denomination","building","address"],geometry:["point","vertex","area"],terms:["jewish","synagogue"],tags:{amenity:"place_of_worship",religion:"jewish"},name:"Synagogue"},"amenity/place_of_worship/muslim":{icon:"religious-muslim",fields:["denomination","building","address"],geometry:["point","vertex","area"],terms:["muslim","mosque"],tags:{amenity:"place_of_worship",religion:"muslim"},name:"Mosque"},"amenity/police":{icon:"police",fields:["operator","building_area","address"],geometry:["point","vertex","area"],terms:["badge","bear","blue","bluecoat","bobby","boy scout","bull","constable","constabulary","cop","copper","corps","county mounty","detective","fed","flatfoot","force","fuzz","gendarme","gumshoe","heat","law","law enforcement","man","narc","officers","patrolman","police"],tags:{amenity:"police"},name:"Police"},"amenity/post_box":{icon:"post",fields:["operator","collection_times"],geometry:["point","vertex"],tags:{amenity:"post_box"},terms:["letter drop","letterbox","mail drop","mailbox","pillar box","postbox"],name:"Mailbox"},"amenity/post_office":{icon:"post",fields:["operator","collection_times"],geometry:["point","vertex","area"],tags:{amenity:"post_office"},name:"Post Office"},"amenity/pub":{icon:"beer",fields:["building_area","address"],geometry:["point","vertex","area"],tags:{amenity:"pub"},terms:[],name:"Pub"},"amenity/restaurant":{icon:"restaurant",fields:["cuisine","building_area","address"],geometry:["point","vertex","area"],terms:["bar","cafeteria","caf","canteen","chophouse","coffee shop","diner","dining room","dive*","doughtnut shop","drive-in","eatery","eating house","eating place","fast-food place","greasy spoon","grill","hamburger stand","hashery","hideaway","hotdog stand","inn","joint*","luncheonette","lunchroom","night club","outlet*","pizzeria","saloon","soda fountain","watering hole"],tags:{amenity:"restaurant"},name:"Restaurant"},"amenity/school":{icon:"school",fields:["operator","building","address"],geometry:["point","vertex","area"],terms:["academy","alma mater","blackboard","college","department","discipline","establishment","faculty","hall","halls of ivy","institute","institution","jail*","schoolhouse","seminary","university"],tags:{amenity:"school"},name:"School"},"amenity/swimming_pool":{geometry:["point","vertex","area"],tags:{amenity:"swimming_pool"},icon:"swimming",searchable:!1,name:"Swimming Pool"},"amenity/telephone":{geometry:["point","vertex"],tags:{amenity:"telephone"},name:"Telephone"},"amenity/theatre":{icon:"theatre",fields:["operator","building_area","address"],geometry:["point","vertex","area"],terms:["theatre","performance","play","musical"],tags:{amenity:"theatre"},name:"Theater"},"amenity/toilets":{fields:["operator","building"],geometry:["point","vertex","area"],terms:[],tags:{amenity:"toilets"},icon:"toilets",name:"Toilets"},"amenity/townhall":{icon:"town-hall",fields:["building_area","address"],geometry:["point","vertex","area"],terms:["village hall","city government","courthouse","municipal building","municipal center"],tags:{amenity:"townhall"},name:"Town Hall"},"amenity/university":{icon:"college",fields:["operator","address"],geometry:["point","vertex","area"],tags:{amenity:"university"},terms:[],name:"University"},barrier:{geometry:["point","vertex","line","area"],tags:{barrier:"*"},fields:["barrier"],name:"Barrier"},"barrier/block":{geometry:["point","vertex"],tags:{barrier:"block"},name:"Block"},"barrier/bollard":{geometry:["point","vertex","line"],tags:{barrier:"bollard"},name:"Bollard"},"barrier/cattle_grid":{geometry:["vertex"],tags:{barrier:"cattle_grid"},name:"Cattle Grid"},"barrier/city_wall":{geometry:["line","area"],tags:{barrier:"city_wall"},name:"City Wall"},"barrier/cycle_barrier":{geometry:["vertex"],tags:{barrier:"cycle_barrier"},name:"Cycle Barrier"},"barrier/ditch":{geometry:["line","area"],tags:{barrier:"ditch"},name:"Ditch"},"barrier/entrance":{geometry:["vertex"],tags:{barrier:"entrance"},name:"Entrance"},"barrier/fence":{geometry:["line","area"],tags:{barrier:"fence"},name:"Fence"},"barrier/gate":{geometry:["point","vertex","line"],tags:{barrier:"gate"},name:"Gate"},"barrier/hedge":{geometry:["line","area"],tags:{barrier:"hedge"},name:"Hedge"},"barrier/kissing_gate":{geometry:["vertex"],tags:{barrier:"kissing_gate"},name:"Kissing Gate"},"barrier/lift_gate":{geometry:["point","vertex"],tags:{barrier:"lift_gate"},name:"Lift Gate"},"barrier/retaining_wall":{geometry:["line","area"],tags:{barrier:"retaining_wall"},name:"Retaining Wall"},"barrier/stile":{geometry:["point","vertex"],tags:{barrier:"stile"},name:"Stile"},"barrier/toll_booth":{geometry:["vertex"],tags:{barrier:"toll_booth"},name:"Toll Booth"},"barrier/wall":{geometry:["line","area"],tags:{barrier:"wall"},name:"Wall"},building:{icon:"warehouse",fields:["building_yes","levels"],geometry:["area"],tags:{building:"*"},terms:[],name:"Building"},"building/entrance":{geometry:["vertex"],tags:{building:"entrance"},name:"Entrance",searchable:!1},entrance:{geometry:["vertex"],tags:{entrance:"*"},fields:["entrance"],name:"Entrance"},highway:{fields:["highway"],geometry:["point","vertex","line","area"],tags:{highway:"*"},name:"Highway"},"highway/bridleway":{fields:["access","surface","structure"],icon:"highway-bridleway",geometry:["line"],tags:{highway:"bridleway"},terms:["bridleway","equestrian trail","horse riding path","bridle road","horse trail"],name:"Bridle Path"},"highway/bus_stop":{icon:"bus",fields:["operator","shelter"],geometry:["point","vertex"],tags:{highway:"bus_stop"},terms:[],name:"Bus Stop"},"highway/crossing":{fields:["crossing"],geometry:["vertex"],tags:{highway:"crossing"},terms:["crosswalk","zebra crossing"],name:"Crossing"},"highway/cycleway":{icon:"highway-cycleway",fields:["oneway","structure","access","surface"],geometry:["line"],tags:{highway:"cycleway"},terms:[],name:"Cycle Path"},"highway/footway":{icon:"highway-footway",fields:["structure","access","surface"],geometry:["line"],terms:["beaten path","boulevard","clearing","course","cut*","drag*","footpath","highway","lane","line","orbit","passage","pathway","rail","rails","road","roadway","route","street","thoroughfare","trackway","trail","trajectory","walk"],tags:{highway:"footway"},name:"Foot Path"},"highway/motorway":{icon:"highway-motorway",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"motorway"},terms:[],name:"Motorway"},"highway/motorway_link":{icon:"highway-motorway-link",fields:["oneway_yes","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"motorway_link"},terms:["ramp","on ramp","off ramp"],name:"Motorway Link"},"highway/path":{icon:"highway-path",fields:["oneway","structure","access","maxspeed","surface"],geometry:["line"],tags:{highway:"path"},terms:[],name:"Path"},"highway/primary":{icon:"highway-primary",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"primary"},terms:[],name:"Primary Road"},"highway/primary_link":{icon:"highway-primary-link",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"primary_link"},terms:["ramp","on ramp","off ramp"],name:"Primary Link"},"highway/residential":{icon:"highway-residential",fields:["oneway","structure","access","maxspeed","surface"],geometry:["line"],tags:{highway:"residential"},terms:[],name:"Residential Road"},"highway/road":{icon:"highway-road",fields:["oneway","structure","access","maxspeed","surface"],geometry:["line"],tags:{highway:"road"},terms:[],name:"Unknown Road"},"highway/secondary":{icon:"highway-secondary",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"secondary"},terms:[],name:"Secondary Road"},"highway/secondary_link":{icon:"highway-secondary-link",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"secondary_link"},terms:["ramp","on ramp","off ramp"],name:"Secondary Link"},"highway/service":{icon:"highway-service",fields:["service","oneway","structure","access","maxspeed","surface"],geometry:["line"],tags:{highway:"service"},terms:[],name:"Service Road"},"highway/steps":{fields:["access","surface"],icon:"highway-steps",geometry:["line"],tags:{highway:"steps"},terms:["stairs","staircase"],name:"Steps"},"highway/tertiary":{icon:"highway-tertiary",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"tertiary"},terms:[],name:"Tertiary Road"},"highway/tertiary_link":{icon:"highway-tertiary-link",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"tertiary_link"},terms:["ramp","on ramp","off ramp"],name:"Tertiary Link"},"highway/track":{icon:"highway-track",fields:["oneway","structure","access","maxspeed","surface"],geometry:["line"],tags:{highway:"track"},terms:[],name:"Track"},"highway/traffic_signals":{geometry:["vertex"],tags:{highway:"traffic_signals"},terms:["light","stoplight","traffic light"],name:"Traffic Signals"},"highway/trunk":{icon:"highway-trunk",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"trunk"},terms:[],name:"Trunk Road"},"highway/trunk_link":{icon:"highway-trunk-link",fields:["oneway","structure","access","maxspeed","surface","ref"],geometry:["line"],tags:{highway:"trunk_link"},terms:["ramp","on ramp","off ramp"],name:"Trunk Link"},"highway/turning_circle":{icon:"circle",geometry:["vertex"],tags:{highway:"turning_circle"},terms:[],name:"Turning Circle"},"highway/unclassified":{icon:"highway-unclassified",fields:["oneway","structure","access","maxspeed","surface"],geometry:["line"],tags:{highway:"unclassified"},terms:[],name:"Unclassified Road"},historic:{fields:["historic"],geometry:["point","vertex","area"],tags:{historic:"*"},name:"Historic Site"},"historic/archaeological_site":{geometry:["point","vertex","area"],tags:{historic:"archaeological_site"},name:"Archaeological Site"},"historic/boundary_stone":{geometry:["point","vertex"],tags:{historic:"boundary_stone"},name:"Boundary Stone"},"historic/castle":{geometry:["point","vertex","area"],tags:{historic:"castle"},name:"Castle"},"historic/memorial":{icon:"monument",geometry:["point","vertex","area"],tags:{historic:"memorial"},name:"Memorial"},"historic/monument":{icon:"monument",geometry:["point","vertex","area"],tags:{historic:"monument"},name:"Monument"},"historic/ruins":{geometry:["point","vertex","area"],tags:{historic:"ruins"},name:"Ruins"},"historic/wayside_cross":{geometry:["point","vertex","area"],tags:{historic:"wayside_cross"},name:"Wayside Cross"},"historic/wayside_shrine":{geometry:["point","vertex","area"],tags:{historic:"wayside_shrine"},name:"Wayside Shrine"},landuse:{fields:["landuse"],geometry:["point","vertex","area"],tags:{landuse:"*"},name:"Landuse"},"landuse/allotments":{geometry:["point","area"],tags:{landuse:"allotments"},terms:[],name:"Allotments"},"landuse/basin":{geometry:["point","area"],tags:{landuse:"basin"},terms:[],name:"Basin"},"landuse/cemetery":{icon:"cemetery",geometry:["point","area"],tags:{landuse:"cemetery"},terms:[],name:"Cemetery"},"landuse/commercial":{geometry:["point","area"],tags:{landuse:"commercial"},terms:[],name:"Commercial"},"landuse/construction":{fields:["construction","operator"],geometry:["point","area"],tags:{landuse:"construction"},terms:[],name:"Construction"},"landuse/farm":{geometry:["point","area"],tags:{landuse:"farm"},terms:[],name:"Farm"},"landuse/farmyard":{geometry:["point","area"],tags:{landuse:"farmyard"},terms:[],name:"Farmyard"},"landuse/forest":{fields:["wood"],icon:"park2",geometry:["point","area"],tags:{landuse:"forest"},terms:[],name:"Forest"},"landuse/grass":{geometry:["point","area"],tags:{landuse:"grass"},terms:[],name:"Grass"},"landuse/industrial":{geometry:["point","area"],tags:{landuse:"industrial"},terms:[],name:"Industrial"},"landuse/meadow":{geometry:["point","area"],tags:{landuse:"meadow"},terms:[],name:"Meadow"},"landuse/orchard":{geometry:["point","area"],tags:{landuse:"orchard"},terms:[],name:"Orchard"},"landuse/quarry":{geometry:["point","area"],tags:{landuse:"quarry"},terms:[],name:"Quarry"},"landuse/residential":{geometry:["point","area"],tags:{landuse:"residential"},terms:[],name:"Residential"},"landuse/vineyard":{geometry:["point","area"],tags:{landuse:"vineyard"},terms:[],name:"Vineyard"},leisure:{fields:["leisure"],geometry:["point","vertex","area"],tags:{leisure:"*"},name:"Leisure"},"leisure/garden":{icon:"garden",geometry:["point","vertex","area"],tags:{leisure:"garden"},name:"Garden"},"leisure/golf_course":{icon:"golf",fields:["operator","address"],geometry:["point","area"],tags:{leisure:"golf_course"},terms:[],name:"Golf Course"},"leisure/marina":{icon:"marina",geometry:["point","vertex","line","area"],tags:{leisure:"marina"},name:"Marina"},"leisure/park":{icon:"park",geometry:["point","area"],terms:["esplanade","estate","forest","garden","grass","green","grounds","lawn","lot","meadow","parkland","place","playground","plaza","pleasure garden","recreation area","square","tract","village green","woodland"],tags:{leisure:"park"},name:"Park"},"leisure/pitch":{icon:"pitch",fields:["sport","surface"],geometry:["point","area"],tags:{leisure:"pitch"},terms:[],name:"Sport Pitch"},"leisure/pitch/american_football":{icon:"america-football",fields:["surface"],geometry:["point","area"],tags:{leisure:"pitch",sport:"american_football"},terms:[],name:"American Football Field"},"leisure/pitch/baseball":{icon:"baseball",geometry:["point","area"],tags:{leisure:"pitch",sport:"baseball"},terms:[],name:"Baseball Diamond"},"leisure/pitch/basketball":{icon:"basketball",fields:["surface"],geometry:["point","area"],tags:{leisure:"pitch",sport:"basketball"},terms:[],name:"Basketball Court"},"leisure/pitch/soccer":{icon:"soccer",fields:["surface"],geometry:["point","area"],tags:{leisure:"pitch",sport:"soccer"},terms:[],name:"Soccer Field"},"leisure/pitch/tennis":{icon:"tennis",fields:["surface"],geometry:["point","area"],tags:{leisure:"pitch",sport:"tennis"},terms:[],name:"Tennis Court"},"leisure/playground":{geometry:["point","area"],tags:{leisure:"playground"},name:"Playground"},"leisure/slipway":{geometry:["point","line"],tags:{leisure:"slipway"},name:"Slipway"},"leisure/stadium":{geometry:["point","area"],tags:{leisure:"stadium"},fields:["sport"],name:"Stadium"},"leisure/swimming_pool":{geometry:["point","vertex","area"],tags:{leisure:"swimming_pool"},icon:"swimming",name:"Swimming Pool"},man_made:{fields:["man_made"],geometry:["point","vertex","line","area"],tags:{man_made:"*"},name:"Man Made"},"man_made/lighthouse":{geometry:["point","area"],tags:{man_made:"lighthouse"},name:"Lighthouse"},"man_made/pier":{geometry:["line","area"],tags:{man_made:"pier"},name:"Pier"},"man_made/survey_point":{icon:"monument",geometry:["point","vertex"],tags:{man_made:"survey_point"},fields:["ref"],name:"Survey Point"},"man_made/water_tower":{icon:"water",geometry:["point","area"],tags:{man_made:"water_tower"},name:"Water Tower"},natural:{fields:["natural"],geometry:["point","vertex","area"],tags:{natural:"*"},name:"Natural"},"natural/bay":{geometry:["point","area"],terms:[],tags:{natural:"bay"},name:"Bay"},"natural/beach":{fields:["surface"],geometry:["point","area"],terms:[],tags:{natural:"beach"},name:"Beach"},"natural/cliff":{geometry:["point","vertex","line","area"],terms:[],tags:{natural:"cliff"},name:"Cliff"},"natural/coastline":{geometry:["line"],terms:["shore"],tags:{natural:"coastline"},name:"Coastline"},"natural/glacier":{geometry:["area"],terms:[],tags:{natural:"glacier"},name:"Glacier"},"natural/grassland":{geometry:["point","area"],terms:[],tags:{natural:"grassland"},name:"Grassland"},"natural/heath":{geometry:["area"],terms:[],tags:{natural:"heath"},name:"Heath"},"natural/peak":{icon:"triangle",fields:["elevation"],geometry:["point","vertex"],tags:{natural:"peak"},terms:["acme","aiguille","alp","climax","crest","crown","hill","mount","mountain","pinnacle","summit","tip","top"],name:"Peak"},"natural/scrub":{geometry:["area"],tags:{natural:"scrub"},terms:[],name:"Scrub"},"natural/spring":{geometry:["point","vertex"],terms:[],tags:{natural:"spring"},name:"Spring"},"natural/tree":{fields:["denotation"],icon:"park",geometry:["point","vertex"],terms:[],tags:{natural:"tree"},name:"Tree"},"natural/water":{fields:["water"],geometry:["area"],tags:{natural:"water"},icon:"water",name:"Water"},"natural/water/lake":{geometry:["area"],tags:{natural:"water",water:"lake"},terms:["lakelet","loch","mere"],icon:"water",name:"Lake"},"natural/water/pond":{geometry:["area"],tags:{natural:"water",water:"pond"},terms:["lakelet","millpond","tarn","pool","mere"],icon:"water",name:"Pond"},"natural/water/reservoir":{geometry:["area"],tags:{natural:"water",water:"reservoir"},icon:"water",name:"Reservoir"},"natural/wetland":{icon:"wetland",fields:["wetland"],geometry:["point","area"],tags:{natural:"wetland"},terms:[],name:"Wetland"},"natural/wood":{fields:["wood"],icon:"park2",geometry:["point","area"],tags:{natural:"wood"},terms:[],name:"Wood"},office:{icon:"commercial",fields:["office","address","opening_hours"],geometry:["point","vertex","area"],tags:{office:"*"},terms:[],name:"Office"},place:{fields:["place"],geometry:["point","vertex","area"],tags:{place:"*"},name:"Place"},"place/hamlet":{icon:"triangle-stroked",geometry:["point","area"],tags:{place:"hamlet"},name:"Hamlet"},"place/island":{geometry:["point","area"],terms:["archipelago","atoll","bar","cay","isle","islet","key","reef"],tags:{place:"island"},name:"Island"},"place/locality":{icon:"marker",geometry:["point","area"],tags:{place:"locality"},name:"Locality"},"place/village":{icon:"square-stroked",geometry:["point","area"],tags:{place:"village"},name:"Village"},power:{geometry:["point","vertex","line","area"],tags:{power:"*"},fields:["power"],name:"Power"},"power/generator":{geometry:["point","vertex","area"],tags:{power:"generator"},name:"Power Plant"},"power/line":{geometry:["line"],tags:{power:"line"},name:"Power Line",icon:"power-line"},"power/pole":{geometry:["vertex"],tags:{power:"pole"},name:"Power Pole"},"power/sub_station":{fields:["operator"],geometry:["point","area"],tags:{power:"substation"},name:"Substation"},"power/tower":{geometry:["vertex"],tags:{power:"tower"},name:"High-Voltage Tower"},"power/transformer":{geometry:["point","vertex","area"],tags:{power:"transformer"},name:"Transformer"},railway:{fields:["railway"],geometry:["point","vertex","line","area"],tags:{railway:"*"},name:"Railway"},"railway/abandoned":{icon:"railway-abandoned",geometry:["line"],tags:{railway:"abandoned"},fields:["structure"],terms:[],name:"Abandoned Railway"},"railway/disused":{icon:"railway-disused",geometry:["line"],tags:{railway:"disused"},fields:["structure"],terms:[],name:"Disused Railway"},"railway/level_crossing":{icon:"cross",geometry:["vertex"],tags:{railway:"level_crossing"},terms:["crossing","railroad crossing","railway crossing","grade crossing","road through railroad","train crossing"],name:"Level Crossing"},"railway/monorail":{icon:"railway-monorail",geometry:["line"],tags:{railway:"monorail"},fields:["structure"],terms:[],name:"Monorail"},"railway/rail":{icon:"railway-rail",geometry:["line"],tags:{railway:"rail"},fields:["structure"],terms:[],name:"Rail"},"railway/subway":{icon:"railway-subway",fields:["structure"],geometry:["line"],tags:{railway:"subway"},terms:[],name:"Subway"},"railway/subway_entrance":{icon:"rail-underground",geometry:["point"],tags:{railway:"subway_entrance"},terms:[],name:"Subway Entrance"},"railway/tram":{icon:"railway-light_rail",geometry:["line"],tags:{railway:"tram"},fields:["structure"],terms:["streetcar"],name:"Tram"},shop:{icon:"shop",fields:["shop","address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"*"},terms:[],name:"Shop"},"shop/alcohol":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"alcohol"},name:"Liquor Store"},"shop/bakery":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"bakery"},name:"Bakery"},"shop/beauty":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"beauty"},name:"Beauty Shop"},"shop/beverages":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"beverages"},name:"Beverage Store"},"shop/bicycle":{icon:"bicycle",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"bicycle"},name:"Bicycle Shop"},"shop/books":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"books"},name:"Bookstore"},"shop/boutique":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"boutique"},name:"Boutique"},"shop/butcher":{icon:"slaughterhouse",fields:["building_area","opening_hours"],geometry:["point","vertex","area"],terms:[],tags:{shop:"butcher"},name:"Butcher"},"shop/car":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"car"},name:"Car Dealership"},"shop/car_parts":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"car_parts"},name:"Car Parts Store"},"shop/car_repair":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"car_repair"},name:"Car Repair Shop"},"shop/chemist":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"chemist"},name:"Chemist"},"shop/clothes":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"clothes"},name:"Clothing Store"},"shop/computer":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"computer"},name:"Computer Store"},"shop/confectionery":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"confectionery"},name:"Confectionery"},"shop/convenience":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"convenience"},name:"Convenience Store"},"shop/deli":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"deli"},name:"Deli"},"shop/department_store":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"department_store"},name:"Department Store"},"shop/doityourself":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"doityourself"},name:"DIY Store"},"shop/dry_cleaning":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"dry_cleaning"},name:"Dry Cleaners"},"shop/electronics":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"electronics"},name:"Electronics Store"},"shop/fishmonger":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"fishmonger"},name:"Fishmonger"},"shop/florist":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"florist"},name:"Florist"},"shop/furniture":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"furniture"},name:"Furniture Store"},"shop/garden_centre":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"garden_centre"},name:"Garden Center"},"shop/gift":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"gift"},name:"Gift Shop"},"shop/greengrocer":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"greengrocer"},name:"Greengrocer"},"shop/hairdresser":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"hairdresser"},name:"Hairdresser"},"shop/hardware":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"hardware"},name:"Hardware Store"},"shop/hifi":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"hifi"},name:"Hifi Store"},"shop/jewelry":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"jewelry"},name:"Jeweler"},"shop/kiosk":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"kiosk"},name:"Kiosk"},"shop/laundry":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"laundry"},name:"Laundry"},"shop/mall":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"mall"},name:"Mall"},"shop/mobile_phone":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"mobile_phone"},name:"Mobile Phone Store"},"shop/motorcycle":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"motorcycle"},name:"Motorcycle Dealership"},"shop/music":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"music"},name:"Music Store"},"shop/newsagent":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"newsagent"},name:"Newsagent"},"shop/optician":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"optician"},name:"Optician"},"shop/outdoor":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"outdoor"},name:"Outdoor Store"},"shop/pet":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"pet"},name:"Pet Store"},"shop/shoes":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"shoes"},name:"Shoe Store"},"shop/sports":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"sports"},name:"Sporting Goods Store"},"shop/stationery":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"stationery"},name:"Stationery Store"},"shop/supermarket":{icon:"grocery",fields:["operator","building_area","address"],geometry:["point","vertex","area"],terms:["bazaar","boutique","chain","co-op","cut-rate store","discount store","five-and-dime","flea market","galleria","mall","mart","outlet","outlet store","shop","shopping center","shopping plaza","stand","store","supermarket","thrift shop"],tags:{shop:"supermarket"},name:"Supermarket"},"shop/toys":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"toys"},name:"Toy Store"},"shop/travel_agency":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"travel_agency"},name:"Travel Agency"},"shop/tyres":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"tyres"},name:"Tire Store"},"shop/vacant":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"vacant"},name:"Vacant Shop"},"shop/variety_store":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"variety_store"},name:"Variety Store"},"shop/video":{icon:"shop",fields:["address","opening_hours"],geometry:["point","vertex","area"],tags:{shop:"video"},name:"Video Store"},tourism:{fields:["tourism"],geometry:["point","vertex","area"],tags:{tourism:"*"},name:"Tourism"},"tourism/alpine_hut":{icon:"lodging",fields:["operator","address"],geometry:["point","vertex","area"],tags:{tourism:"alpine_hut"},name:"Alpine Hut"},"tourism/artwork":{geometry:["point","vertex","line","area"],tags:{tourism:"artwork"},name:"Artwork"},"tourism/attraction":{fields:["operator","address"],geometry:["point","vertex","area"],tags:{tourism:"attraction"},name:"Tourist Attraction"},"tourism/camp_site":{icon:"campsite",fields:["operator","address"],geometry:["point","vertex","area"],terms:[],tags:{tourism:"camp_site"},name:"Camp Site"},"tourism/caravan_site":{fields:["operator","address"],geometry:["point","vertex","area"],tags:{tourism:"caravan_site"},name:"RV Park"},"tourism/chalet":{icon:"lodging",fields:["operator","building_area","address"],geometry:["point","vertex","area"],tags:{tourism:"chalet"},name:"Chalet"},"tourism/guest_house":{icon:"lodging",fields:["operator","address"],geometry:["point","vertex","area"],tags:{tourism:"guest_house"},terms:["B&B","Bed & Breakfast","Bed and Breakfast"],name:"Guest House"},"tourism/hostel":{icon:"lodging",fields:["operator","building_area","address"],geometry:["point","vertex","area"],tags:{tourism:"hostel"},name:"Hostel"},"tourism/hotel":{icon:"lodging",fields:["operator","building_area","address"],geometry:["point","vertex","area"],terms:[],tags:{tourism:"hotel"},name:"Hotel"},"tourism/information":{fields:["building_area","address"],geometry:["point","vertex","area"],tags:{tourism:"information"},name:"Information"},"tourism/motel":{icon:"lodging",fields:["operator","building_area","address"],geometry:["point","vertex","area"],tags:{tourism:"motel"},name:"Motel"},"tourism/museum":{icon:"museum",fields:["operator","building_area","address"],geometry:["point","vertex","area"],terms:["exhibition","exhibits archive","foundation","gallery","hall","institution","library","menagerie","repository","salon","storehouse","treasury","vault"],tags:{tourism:"museum"},name:"Museum"},"tourism/picnic_site":{fields:["operator","building_area","address"],geometry:["point","vertex","area"],terms:[],tags:{tourism:"picnic_site"},name:"Picnic Site"},"tourism/theme_park":{fields:["operator","building_area","address"],geometry:["point","vertex","area"],tags:{tourism:"theme_park"},name:"Theme Park"},"tourism/viewpoint":{geometry:["point","vertex"],tags:{tourism:"viewpoint"},name:"Viewpoint"},"tourism/zoo":{icon:"zoo",fields:["operator","address"],geometry:["point","vertex","area"],tags:{tourism:"zoo"},name:"Zoo"},waterway:{fields:["waterway"],geometry:["point","vertex","line","area"],tags:{waterway:"*"},name:"Waterway"},"waterway/canal":{icon:"waterway-canal",geometry:["line"],tags:{waterway:"canal"},name:"Canal"},"waterway/dam":{icon:"dam",geometry:["point","vertex","line","area"],tags:{waterway:"dam"},name:"Dam"},"waterway/ditch":{icon:"waterway-ditch",geometry:["line"],tags:{waterway:"ditch"},name:"Ditch"},"waterway/drain":{icon:"waterway-river",geometry:["line"],tags:{waterway:"drain"},name:"Drain"},"waterway/river":{icon:"waterway-river",geometry:["line"],terms:["beck","branch","brook","course","creek","estuary","rill","rivulet","run","runnel","stream","tributary","watercourse"],tags:{waterway:"river"},name:"River"},"waterway/riverbank":{icon:"water",geometry:["area"],tags:{waterway:"riverbank"},name:"Riverbank"},"waterway/stream":{icon:"waterway-stream",fields:["layer"],geometry:["line"],terms:["beck","branch","brook","burn","course","creek","current","drift","flood","flow","freshet","race","rill","rindle","rivulet","run","runnel","rush","spate","spritz","surge","tide","torrent","tributary","watercourse"],tags:{waterway:"stream"},name:"Stream"},"waterway/weir":{icon:"dam",geometry:["vertex","line"],tags:{waterway:"weir"},name:"Weir"}},defaults:{area:["building","leisure/park","natural/water","amenity/parking","amenity/hospital","amenity/place_of_worship","amenity/cafe","amenity/restaurant","amenity/bar","amenity/fast_food","amenity/bank","other"],line:["Road","Rail","Path","Water","power/line","other"],point:["highway/bus_stop","leisure/park","amenity/hospital","amenity/place_of_worship","amenity/cafe","amenity/restaurant","amenity/bar","amenity/fast_food","amenity/bank","amenity/cinema","shop/supermarket","other"],vertex:["highway/crossing","highway/turning_circle","other"]},categories:[{geometry:"line",id:"Road",icon:"category-roads",members:["highway/residential","highway/motorway","highway/trunk","highway/primary","highway/secondary","highway/tertiary","highway/unclassified","highway/motorway_link","highway/trunk_link","highway/primary_link","highway/secondary_link","highway/tertiary_link","highway/service","highway/track","highway/road"]},{geometry:"line",id:"Rail",icon:"railway-rail",members:["railway/rail","railway/subway","railway/tram","railway/monorail","railway/disused","railway/abandoned"]},{geometry:"line",id:"Path",icon:"highway-path",members:["highway/footway","highway/cycleway","highway/bridleway","highway/path","highway/steps"]},{geometry:"line",id:"Water",icon:"waterway-river",members:["waterway/river","waterway/stream","waterway/canal","waterway/ditch"]}],fields:{access:{key:"access",type:"combo",label:"Access"},address:{type:"address",keys:["addr:housename","addr:housenumber","addr:street","addr:city"],icon:"address",universal:!0,label:"Address",strings:{placeholders:{housename:"Housename",number:"123",street:"Street",city:"City"}}},aeroway:{key:"aeroway",type:"combo",label:"Type"},amenity:{key:"amenity",type:"combo",label:"Type"},atm:{key:"atm",type:"check",label:"ATM"},barrier:{key:"barrier",type:"combo",label:"Type"},bicycle_parking:{key:"bicycle_parking",type:"combo",label:"Type"},building:{key:"building",type:"combo",label:"Building"},building_area:{key:"building",type:"check","default":"yes",geometry:"area",label:"Building"},building_yes:{key:"building",type:"combo","default":"yes",label:"Building"},capacity:{key:"capacity",type:"text",label:"Capacity"},collection_times:{key:"collection_times",type:"text",label:"Collection Times"},construction:{key:"construction",type:"combo",label:"Type"},country:{key:"country",type:"combo",label:"Country"},crossing:{key:"crossing",type:"combo",label:"Type"},cuisine:{key:"cuisine",type:"combo",indexed:!0,label:"Cuisine"},denomination:{key:"denomination",type:"combo",label:"Denomination"},denotation:{key:"denotation",type:"combo",label:"Denotation"},elevation:{key:"ele",type:"number",icon:"elevation",universal:!0,label:"Elevation"},emergency:{key:"emergency",type:"check",label:"Emergency"},entrance:{key:"entrance",type:"combo",label:"Type"},fax:{key:"fax",type:"tel",label:"Fax"},fee:{key:"fee",type:"check",label:"Fee"},highway:{key:"highway",type:"combo",label:"Type"},historic:{key:"historic",type:"combo",label:"Type"},internet_access:{key:"internet_access",type:"combo",options:["yes","no","wlan","wired","terminal"],label:"Internet Access",strings:{options:{yes:"Yes",no:"No",wlan:"Wifi",wired:"Wired",terminal:"Terminal"}}},landuse:{key:"landuse",type:"combo",label:"Type"},layer:{key:"layer",type:"combo",label:"Layer"},leisure:{key:"leisure",type:"combo",label:"Type"},levels:{key:"building:levels",type:"number",label:"Levels"},man_made:{key:"man_made",type:"combo",label:"Type"},maxspeed:{key:"maxspeed",type:"combo",label:"Speed Limit"},name:{key:"name",type:"text",label:"Name"},natural:{key:"natural",type:"combo",label:"Natural"},network:{key:"network",type:"text",label:"Network"},note:{key:"note",type:"textarea",universal:!0,icon:"note",label:"Note"},office:{key:"office",type:"combo",label:"Type"},oneway:{key:"oneway",type:"check",label:"One Way"},oneway_yes:{key:"oneway",type:"check","default":"yes",label:"One Way"},opening_hours:{key:"opening_hours",type:"text",label:"Hours"},operator:{key:"operator",type:"text",label:"Operator"},phone:{key:"phone",type:"tel",icon:"telephone",universal:!0,label:"Phone"},place:{key:"place",type:"combo",label:"Type"},power:{key:"power",type:"combo",label:"Type"},railway:{key:"railway",type:"combo",label:"Type"},ref:{key:"ref",type:"text",label:"Reference"},religion:{key:"religion",type:"combo",options:["christian","muslim","buddhist","jewish","hindu","shinto","taoist"],label:"Religion",strings:{options:{christian:"Christian",muslim:"Muslim",buddhist:"Buddhist",jewish:"Jewish",hindu:"Hindu",shinto:"Shinto",taoist:"Taoist"}}},service:{key:"service",type:"combo",options:["parking_aisle","driveway","alley","drive-through","emergency_access"],label:"Type"},shelter:{key:"shelter",type:"check",label:"Shelter"},shop:{key:"shop",type:"combo",label:"Type"},source:{key:"source",type:"text",icon:"source",universal:!0,label:"Source"},sport:{key:"sport",type:"combo",label:"Sport"},structure:{type:"radio",keys:["bridge","tunnel","embankment","cutting"],label:"Structure",strings:{options:{bridge:"Bridge",tunnel:"Tunnel",embankment:"Embankment",cutting:"Cutting"}}},surface:{key:"surface",type:"combo",label:"Surface"},tourism:{key:"tourism",type:"combo",label:"Type"},water:{key:"water",type:"combo",label:"Type"},waterway:{key:"waterway",type:"combo",label:"Type"},website:{key:"website",type:"url",icon:"website",placeholder:"http://example.com/",universal:!0,label:"Website"},wetland:{key:"wetland",type:"combo",label:"Type"},wheelchair:{key:"wheelchair",type:"radio",options:["yes","limited","no"],icon:"wheelchair",universal:!0,label:"Wheelchair Access"},wikipedia:{key:"wikipedia",type:"text",icon:"wikipedia",universal:!0,label:"Wikipedia"},wood:{key:"wood",type:"combo",label:"Type"}}}},iD.util={},iD.util.tagText=function(e){return d3.entries(e.tags).map(function(e){return e.key+"="+e.value
}).join(", ")},iD.util.stringQs=function(e){return e.split("&").reduce(function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=null===n[1]?"":decodeURIComponent(n[1])),e},{})},iD.util.qsString=function(e,t){return Object.keys(e).sort().map(function(n){return encodeURIComponent(n)+"="+(t?e[n]:encodeURIComponent(e[n]))}).join("&")},iD.util.prefixDOMProperty=function(e){var t=["webkit","ms","moz","o"],n=-1,a=t.length,r=document.body;if(e in r)return e;for(e=e.substr(0,1).toUpperCase()+e.substr(1);a>++n;)if(t[n]+e in r)return t[n]+e;return!1},iD.util.prefixCSSProperty=function(e){var t=["webkit","ms","Moz","O"],n=-1,a=t.length,r=document.body.style;if(e.toLowerCase()in r)return e.toLowerCase();for(;a>++n;)if(t[n]+e in r)return"-"+t[n].toLowerCase()+"-"+e.toLowerCase();return!1},iD.util.getStyle=function(e){for(var t=0;document.styleSheets.length>t;t++)for(var n=document.styleSheets[t].rules||document.styleSheets[t].cssRules,a=0;n.length>a;a++){var r=n[a].selectorText&&n[a].selectorText.split(", ");if(_.contains(r,e))return n[a]}},iD.util.editDistance=function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;for(var n=[],a=0;t.length>=a;a++)n[a]=[a];for(var r=0;e.length>=r;r++)n[0][r]=r;for(a=1;t.length>=a;a++)for(r=1;e.length>=r;r++)n[a][r]=t.charAt(a-1)==e.charAt(r-1)?n[a-1][r-1]:Math.min(n[a-1][r-1]+1,Math.min(n[a][r-1]+1,n[a-1][r]+1));return n[t.length][e.length]},iD.util.fastMouse=function(e){var t=_.clone(e.getBoundingClientRect()),n=t.left,a=t.top,r=+e.clientLeft,i=+e.clientTop;return function(e){return[e.clientX-n-r,e.clientY-a-i]}},iD.util.getPrototypeOf=Object.getPrototypeOf||function(e){return e.__proto__},iD.util.asyncMap=function(e,t,n){var a=e.length,r=[],i=[];e.forEach(function(e,o){t(e,function(e,t){i[o]=e,r[o]=t,a--,a||n(i,r)})})},iD.geo={},iD.geo.roundCoords=function(e){return[Math.floor(e[0]),Math.floor(e[1])]},iD.geo.interp=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]},iD.geo.dist=function(e,t){var n=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(n*n+a*a)},iD.geo.chooseIndex=function(e,t,n){for(var a=iD.geo.dist,r=n.graph(),i=r.childNodes(e),o=i.map(function(e){return n.projection(e.loc)}),s=0,l=[];o.length-1>s;s++)l[s]=(a(o[s],t)+a(t,o[s+1]))/a(o[s],o[s+1]);var u=_.indexOf(l,_.min(l)),c=a(o[u],t)/a(o[u],o[u+1]),d=iD.geo.interp(i[u].loc,i[u+1].loc,c);return{index:u+1,loc:d}},iD.geo.pointInPolygon=function(e,t){for(var n=e[0],a=e[1],r=!1,i=0,o=t.length-1;t.length>i;o=i++){var s=t[i][0],l=t[i][1],u=t[o][0],c=t[o][1],d=l>a!=c>a&&(u-s)*(a-l)/(c-l)+s>n;d&&(r=!r)}return r},iD.geo.polygonContainsPolygon=function(e,t){return _.every(t,function(t){return iD.geo.pointInPolygon(t,e)})},iD.geo.polygonIntersectsPolygon=function(e,t){return _.some(t,function(t){return iD.geo.pointInPolygon(t,e)})},iD.geo.pathLength=function(e){for(var t,n,a=0,r=0;e.length-1>r;r++)t=e[r][0]-e[r+1][0],n=e[r][1]-e[r+1][1],a+=Math.sqrt(t*t+n*n);return a},iD.geo.metersToCoordinates=function(e,t){return[t[1]/111200,t[0]/111200/Math.abs(Math.cos(e[1]))]},iD.geo.Extent=function(e,t){return this instanceof iD.geo.Extent?e instanceof iD.geo.Extent?e:(e&&2===e.length&&2===e[0].length&&2===e[1].length?(this[0]=e[0],this[1]=e[1]):(this[0]=e||[1/0,1/0],this[1]=t||e||[-1/0,-1/0]),void 0):new iD.geo.Extent(e,t)},iD.geo.Extent.prototype=[[],[]],_.extend(iD.geo.Extent.prototype,{extend:function(e){return e instanceof iD.geo.Extent||(e=new iD.geo.Extent(e)),iD.geo.Extent([Math.min(e[0][0],this[0][0]),Math.min(e[0][1],this[0][1])],[Math.max(e[1][0],this[1][0]),Math.max(e[1][1],this[1][1])])},center:function(){return[(this[0][0]+this[1][0])/2,(this[0][1]+this[1][1])/2]},intersects:function(e){return e instanceof iD.geo.Extent||(e=new iD.geo.Extent(e)),e[0][0]<=this[1][0]&&e[0][1]<=this[1][1]&&e[1][0]>=this[0][0]&&e[1][1]>=this[0][1]}}),iD.actions={},iD.actions.AddEntity=function(e){return function(t){return t.replace(e)}},iD.actions.AddMidpoint=function(e,t){return function(n){n=n.replace(t.move(e.loc));var a=_.intersection(n.parentWays(n.entity(e.edge[0])),n.parentWays(n.entity(e.edge[1])));return a.forEach(function(a){for(var r=0;a.nodes.length-1>r;r++)(a.nodes[r]===e.edge[0]&&a.nodes[r+1]===e.edge[1]||a.nodes[r]===e.edge[1]&&a.nodes[r+1]===e.edge[0])&&(n=n.replace(n.entity(a.id).addNode(t.id,r+1)))}),n}},iD.actions.AddVertex=function(e,t,n){return function(a){return a.replace(a.entity(e).addNode(t,n))}},iD.actions.ChangeTags=function(e,t){return function(n){var a=n.entity(e);return n.replace(a.update({tags:t}))}},iD.actions.Circularize=function(e,t,n){function a(e,t){for(var n,a,r=1/0,i=0;e.length>i;i++)a=iD.geo.dist(e[i].loc,t),r>a&&(r=a,n=i);return n}n=n||12;var r=function(r){for(var i=r.entity(e),o=_.uniq(r.childNodes(i)),s=o.map(function(e){return t(e.loc)}),l=d3.geom.polygon(s).centroid(),u=d3.median(s,function(e){return iD.geo.dist(l,e)}),c=[],d=d3.geom.polygon(s).area()>0?-1:1,p=0;n>p;p++){var m,h=t.invert([l[0]+Math.cos(2*d*(p/12)*Math.PI)*u,l[1]+Math.sin(2*d*(p/12)*Math.PI)*u]);if(o.length){var g=a(o,h);m=o[g],o.splice(g,1)}else m=iD.Node();c.push(m.id),r=r.replace(m.move(h))}for(c.push(c[0]),i=i.update({nodes:c}),r=r.replace(i),p=0;o.length>p;p++)r.parentWays(o[p]).forEach(function(e){r=r.replace(e.replaceNode(o[p].id,c[a(r.childNodes(i),o[p].loc)]))}),r=iD.actions.DeleteNode(o[p].id)(r);return r};return r.enabled=function(t){return t.entity(e).isClosed()},r},iD.actions.Connect=function(e){var t=function(t){for(var n=t.entity(_.last(e)),a=0;e.length-1>a;a++){var r=t.entity(e[a]);t.parentWays(r).forEach(function(e){e.areAdjacent(r.id,n.id)||(t=t.replace(e.replaceNode(r.id,n.id)))}),t.parentRelations(r).forEach(function(e){t=t.replace(e.replaceMember(r,n))}),n=n.mergeTags(r.tags),t=iD.actions.DeleteNode(r.id)(t)}return t=t.replace(n)};return t.enabled=function(){return e.length>1},t},iD.actions.DeleteMultiple=function(e){return function(t){var n={way:iD.actions.DeleteWay,node:iD.actions.DeleteNode,relation:iD.actions.DeleteRelation};return e.forEach(function(e){var a=t.entity(e);a&&(t=n[a.type](e)(t))}),t}},iD.actions.DeleteNode=function(e){return function(t){var n=t.entity(e);return t.parentWays(n).forEach(function(n){n=n.removeNode(e),t=t.replace(n),n.isDegenerate()&&(t=iD.actions.DeleteWay(n.id)(t))}),t.parentRelations(n).forEach(function(n){t=t.replace(n.removeMember(e))}),t.remove(n)}},iD.actions.DeleteRelation=function(e){function t(e,t){return!t.parentWays(e).length&&!t.parentRelations(e).length&&!e.hasInterestingTags()}return function(n){var a=n.entity(e);return n.parentRelations(a).forEach(function(t){n=n.replace(t.removeMember(e))}),_.uniq(_.pluck(a.members,"id")).forEach(function(e){n=n.replace(a.removeMember(e));var r=n.entity(e);t(r,n)&&(n=iD.actions.DeleteMultiple([e])(n))}),n.remove(a)}},iD.actions.DeleteWay=function(e){function t(e,t){return!t.parentWays(e).length&&!t.parentRelations(e).length&&!e.hasInterestingTags()}return function(n){var a=n.entity(e);return n.parentRelations(a).forEach(function(t){n=n.replace(t.removeMember(e))}),_.uniq(a.nodes).forEach(function(e){n=n.replace(a.removeNode(e));var r=n.entity(e);t(r,n)&&(n=n.remove(r))}),n.remove(a)}},iD.actions.DeprecateTags=function(e){return function(t){for(var n,a=t.entity(e),r=_.clone(a.tags),i=!1,o=0;iD.data.deprecated.length>o;o++){n=iD.data.deprecated[o];var s=_.pairs(n.old)[0],l=n.replace?_.pairs(n.replace):null;if(a.tags[s[0]]&&"*"===s[1]){var u=a.tags[s[0]];l&&!r[l[0][0]]&&(r[l[0][0]]=u),delete r[s[0]],i=!0}else a.tags[s[0]]===s[1]&&(r=_.assign({},n.replace||{},_.omit(r,s[0])),i=!0)}return i?t.replace(a.update({tags:r})):t}},iD.actions.Disconnect=function(e,t){var n=function(a){if(!n.enabled(a))return a;var r=a.entity(e);return a.parentWays(r).forEach(function(n,i){if(0!==i){var o=n.nodes.indexOf(e),s=iD.Node({id:t,loc:r.loc,tags:r.tags});a=a.replace(s),a=a.replace(n.updateNode(s.id,o))}}),a};return n.enabled=function(t){return t.parentWays(t.entity(e)).length>=2},n},iD.actions.Join=function(e){function t(t){var n=e.map(function(e){return t.entity(e)});return _.extend({line:[]},_.groupBy(n,function(e){return e.geometry(t)}))}var n=e[0],a=e[1],r=function(e){var t,r=e.entity(n),i=e.entity(a);return r.first()===i.first()?(i=iD.actions.Reverse(a)(e).entity(a),t=i.nodes.slice().concat(r.nodes.slice(1))):r.first()===i.last()?t=i.nodes.concat(r.nodes.slice(1)):r.last()===i.first()?t=r.nodes.concat(i.nodes.slice(1)):r.last()===i.last()&&(i=iD.actions.Reverse(a)(e).entity(a),t=r.nodes.concat(i.nodes.slice().slice(1))),e.parentRelations(i).forEach(function(t){e=e.replace(t.replaceMember(i,r))}),e=e.replace(r.mergeTags(i.tags).update({nodes:t})),e=iD.actions.DeleteWay(a)(e)};return r.enabled=function(r){var i=t(r);if(2!==e.length||e.length!==i.line.length)return!1;var o=r.entity(n),s=r.entity(a);return o.first()===s.first()||o.first()===s.last()||o.last()===s.first()||o.last()===s.last()},r},iD.actions.Merge=function(e){function t(t){var n=e.map(function(e){return t.entity(e)});return _.extend({point:[],area:[],line:[],relation:[]},_.groupBy(n,function(e){return e.geometry(t)}))}var n=function(e){var n=t(e),a=n.area[0]||n.line[0],r=n.point;return r.forEach(function(t){a=a.mergeTags(t.tags),e.parentRelations(t).forEach(function(n){e=e.replace(n.replaceMember(t,a))}),e=e.remove(t)}),e=e.replace(a)};return n.enabled=function(e){var n=t(e);return n.point.length>0&&1===n.area.length+n.line.length&&0===n.relation.length},n},iD.actions.Move=function(e,t,n){function a(e,t,n){e.forEach(function(e){var r=n.entity(e);"node"===r.type?t.push(e):"way"===r.type?t.push.apply(t,r.nodes):a(_.pluck(r.members,"id"),t,n)})}var r=function(r){var i=[];return a(e,i,r),_.uniq(i).forEach(function(e){var a=r.entity(e),i=n(a.loc),o=n.invert([i[0]+t[0],i[1]+t[1]]);r=r.replace(a.move(o))}),r};return r.enabled=function(t){return _.every(e,function(e){var n=t.entity(e);return"relation"!==n.type||n.isComplete(t)})},r},iD.actions.MoveNode=function(e,t){return function(n){return n.replace(n.entity(e).move(t))}},iD.actions.Noop=function(){return function(e){return e}},iD.actions.Orthogonalize=function(e,t){var n=function(n){function a(e,t,n){var a=n[(t-1+n.length)%n.length],r=n[(t+1)%n.length],i=o(a,e),u=o(r,e),c=iD.geo.dist(i,[0,0])+iD.geo.dist(u,[0,0]);i=l(i,1),u=l(u,1);var d=i[0]*u[0]+i[1]*u[1];return-.707106781186547>d&&(d+=1),l(s(i,u),.1*d*c)}function r(){for(var e=0,t=1;h.length-1>t;t++){var n=i(h[t-1],h[t],h[t+1]);e+=n}var a=i(h[h.length-1],h[0],h[1]),r=i(h[h.length-2],h[h.length-1],h[0]);return e+=a,e+=r}function i(e,t,n){var a=o(e,t),r=o(n,t);a=l(a,1),r=l(r,1);var i=a[0]*r[0]+a[1]*r[1];return 2*Math.min(Math.abs(i-1),Math.min(Math.abs(i),Math.abs(i+1)))}function o(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function l(e,t){var n=[0,0],a=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return 0!==a&&(n[0]=e[0]/a,n[1]=e[1]/a),n[0]*=t,n[1]*=t,n}var u,c,d,p=n.entity(e),m=n.childNodes(p),h=m.map(function(e){return t(e.loc)}),g=r();for(c=0;1e3>c;c++){var f=h.map(a);for(d=0;f.length>d;d++)h[d]=s(h[d],f[d]);var y=r();if(g>y&&(u=_.clone(h),g=y),1e-8>g)break}for(h=u,c=0;h.length-1>c;c++)n=n.replace(n.entity(m[c].id).move(t.invert(h[c])));return n};return n.enabled=function(t){return t.entity(e).isClosed()},n},iD.actions.Reverse=function(e){function t(e){for(var t=0;a.length>t;++t){var n=a[t];if(n[0].test(e))return e.replace(n[0],n[1])}return e}function n(e,t){return"incline"===e&&r.test(t)?t.replace(r,function(e,t){return"-"===t?"":"-"}):"incline"===e||"direction"===e?{up:"down",down:"up"}[t]||t:{left:"right",right:"left"}[t]||t}var a=[[/:right$/,":left"],[/:left$/,":right"],[/:forward$/,":backward"],[/:backward$/,":forward"]],r=/^([+\-]?)(?=[\d.])/;return function(a){var r,i,o=a.entity(e),s=o.nodes.slice().reverse(),l={};for(r in o.tags)l[t(r)]=n(r,o.tags[r]);return a.parentRelations(o).forEach(function(e){e.members.forEach(function(t,n){t.id===o.id&&(i={forward:"backward",backward:"forward"}[t.role])&&(e=e.updateMember({role:i},n),a=a.replace(e))})}),a.replace(o.update({nodes:s,tags:l}))}},iD.actions.RotateWay=function(e,t,n,a){return function(r){return r.update(function(r){var i=r.entity(e);_.unique(i.nodes).forEach(function(e){var i=r.entity(e),o=a(i.loc),s=[0,0];s[0]=o[0]-t[0],s[1]=o[1]-t[1],o=[s[0]*Math.cos(n)-s[1]*Math.sin(n)+t[0],s[0]*Math.sin(n)+s[1]*Math.cos(n)+t[1]],r=r.replace(i.move(a.invert(o)))})})}},iD.actions.Split=function(e,t){function n(t){var n=t.entity(e),a=t.parentWays(n);return a.filter(function(t){return t.isClosed()||t.first()!==e&&t.last()!==e})}var a=function(a){var r,i,o=n(a)[0],s=iD.Way({id:t,tags:o.tags}),l=o.isArea();if(o.isClosed()){var u=o.nodes.slice(0,-1),c=_.indexOf(u,e),d=c+Math.floor(u.length/2);d>=u.length?(d%=u.length,r=u.slice(c).concat(u.slice(0,d+1)),i=u.slice(d,c+1)):(r=u.slice(c,d+1),i=u.slice(d).concat(u.slice(0,c+1)))}else{var p=_.indexOf(o.nodes,e);r=o.nodes.slice(0,p+1),i=o.nodes.slice(p)}if(o=o.update({nodes:r}),s=s.update({nodes:i}),a=a.replace(o),a=a.replace(s),a.parentRelations(o).forEach(function(e){if(e.isRestriction()){var t=e.memberByRole("via");t&&s.contains(t.id)&&(e=e.updateMember({id:s.id},e.memberById(o.id).index),a=a.replace(e))}else{var n,r=e.memberById(o.id).role,i=s.last(),l=e.memberById(o.id).index;for(n=0;e.members.length>n;n++){var u=a.entity(e.members[n].id);if(u&&"way"===u.type&&u.contains(i))break}e=e.addMember({id:s.id,type:"way",role:r},n>=l?l+1:l),a=a.replace(e)}}),l){var m=iD.Relation({tags:_.extend({},o.tags,{type:"multipolygon"}),members:[{id:o.id,role:"outer",type:"way"},{id:s.id,role:"outer",type:"way"}]});a=a.replace(m),a=a.replace(o.update({tags:{}})),a=a.replace(s.update({tags:{}}))}return a};return a.enabled=function(e){return 1===n(e).length},a},iD.behavior={},iD.behavior.accept=function(){function e(e){n.on("",function(){t.accept()})(e)}var t=d3.dispatch("accept"),n=d3.keybinding("accept");return d3.rebind(e,t,"on")},iD.behavior.AddWay=function(e){var t=d3.dispatch("start","startFromWay","startFromNode"),n=iD.behavior.Draw(e),a=function(r){n.on("click",t.start).on("clickWay",t.startFromWay).on("clickNode",t.startFromNode).on("cancel",a.cancel).on("finish",a.cancel),e.map().minzoom(16).dblclickEnable(!1),r.call(n)};return a.off=function(t){e.map().minzoom(0).tail(!1),t.call(n.off)},a.cancel=function(){window.setTimeout(function(){e.map().dblclickEnable(!0)},1e3),e.enter(iD.modes.Browse(e))},d3.rebind(a,t,"on")},iD.behavior.drag=function(){function e(){d3.event.stopPropagation(),d3.event.preventDefault()}function t(){function t(){var e=r.parentNode||i;return null!==p?d3.touches(e).filter(function(e){return e.identifier===p})[0]:d3.mouse(e)}function n(){var n=t(),r=n[0]-m[0],i=n[1]-m[1];h||a({type:"start"}),h|=r|i,m=n,e(),a({type:"move",point:[n[0]+c[0],n[1]+c[1]],delta:[r,i]})}function l(){h&&(a({type:"end"}),e(),d3.event.target===d&&g.on("click.drag",u,!0)),g.on(null!==p?"touchmove.drag-"+p:"mousemove.drag",null).on(null!==p?"touchend.drag-"+p:"mouseup.drag",null)}function u(){e(),g.on("click.drag",null)}r=this,a=o.of(r,arguments);var c,d=d3.event.target,p=d3.event.touches?d3.event.changedTouches[0].identifier:null,m=t(),h=0,g=d3.select(window).on(null!==p?"touchmove.drag-"+p:"mousemove.drag",n).on(null!==p?"touchend.drag-"+p:"mouseup.drag",l,!0);s?(c=s.apply(r,arguments),c=[c[0]-m[0],c[1]-m[1]]):c=[0,0],null===p&&e()}function n(e){var n=iD.util.prefixDOMProperty("matchesSelector"),a=t;l&&(a=function(){for(var e=this,a=d3.event.target;a&&a!==e;a=a.parentNode)if(a[n](l)&&(!u||u(a.__data__)))return t.call(a,a.__data__)}),e.on("mousedown.drag"+l,a).on("touchstart.drag"+l,a)}var a,r,i,o=d3.dispatch("start","move","end"),s=null,l="",u=null;return o.of=function(e,t){return function(a){try{var r=a.sourceEvent=d3.event;a.target=n,d3.event=a,o[a.type].apply(e,t)}finally{d3.event=r}}},n.off=function(e){e.on("mousedown.drag"+l,null).on("touchstart.drag"+l,null)},n.delegate=function(e){return arguments.length?(l=e,n):l},n.filter=function(e){return arguments.length?(u=e,n):s},n.origin=function(e){return arguments.length?(s=e,n):s},n.cancel=function(){return d3.select(window).on("mousemove.drag",null).on("mouseup.drag",null),n},n.target=function(){return arguments.length?(r=arguments[0],a=o.of(r,Array.prototype.slice.call(arguments,1)),n):r},n.surface=function(){return arguments.length?(i=arguments[0],n):i},d3.rebind(n,o,"on")},iD.behavior.Draw=function(e){function t(){return d3.event.altKey?{}:d3.event.target.__data__||{}}function n(){function e(){var e=n.node().parentNode;return null!==i?d3.touches(e).filter(function(e){return e.identifier===i})[0]:d3.mouse(e)}var t=d3.event.target,n=d3.select(this),i=d3.event.touches?d3.event.changedTouches[0].identifier:null,o=+new Date,s=e();n.on("mousemove.draw",null),d3.select(window).on("mouseup.draw",function(){n.on("mousemove.draw",a),(p>iD.geo.dist(s,e())||m>iD.geo.dist(s,e())&&500>+new Date-o)&&r(),t===d3.event.target&&d3.select(window).on("click.draw",function(){d3.select(window).on("click.draw",null),d3.event.stopPropagation()},!0)})}function a(){u.move(t())}function r(){var n=t();if("way"===n.type){var a=iD.geo.chooseIndex(n,d3.mouse(e.surface().node()),e);u.clickWay(n,a.loc,a.index)}else"node"===n.type?u.clickNode(n):u.click(e.map().mouseCoordinates())}function i(){d3.event.preventDefault(),u.undo()}function o(){d3.event.preventDefault(),u.cancel()}function s(){d3.event.preventDefault(),u.finish()}function l(t){return e.install(d),c.on("",i).on("",o).on("",s).on("",s),t.on("mousedown.draw",n).on("mousemove.draw",a),d3.select(document).call(c),l}var u=d3.dispatch("move","click","clickWay","clickNode","undo","cancel","finish"),c=d3.keybinding("draw"),d=iD.behavior.Hover().altDisables(!0),p=4,m=12;return l.off=function(t){e.uninstall(d),t.on("mousedown.draw",null).on("mousemove.draw",null),d3.select(window).on("mouseup.draw",null),d3.select(document).call(c.off)},d3.rebind(l,u,"on")},iD.behavior.DrawWay=function(e,n,a,r,i){function o(t){var n=e.map().mouseCoordinates();t.id===v.id||t.id===b.id?e.surface().selectAll(".way, .node").filter(function(e){return e.id===v.id||e.id===b.id}).classed("active",!0):"node"===t.type?n=t.loc:"way"===t.type&&(n=iD.geo.chooseIndex(t,d3.mouse(e.surface().node()),e).loc),e.replace(iD.actions.MoveNode(v.id,n))}function s(){e.enter(iD.modes.Browse(e))}function l(e){return e.id===b.id||e.id===y.id||e.id===v.id}function u(e){return e.id===n||e.id===v.id}function c(e){return function(t){return p?t.replace(d.removeNode(v.id).addNode(e.id,a)).remove(v):t.replace(t.entity(n).addNode(e.id,a)).remove(v).remove(b).remove(y)}}var d=e.entity(n),p="area"===d.geometry(),m=!1,h=t((d.isDegenerate()?"operations.start.annotation.":"operations.continue.annotation.")+e.geometry(n)),g=iD.behavior.Draw(e),f=a===void 0?d.nodes.length-1:0,y=iD.Node({loc:e.graph().entity(d.nodes[f]).loc}),v=iD.Node({loc:e.map().mouseCoordinates()}),b=iD.Way({nodes:[y.id,v.id],tags:_.clone(d.tags)}),w=e[d.isDegenerate()?"replace":"perform"];p?w(iD.actions.AddEntity(v),iD.actions.AddVertex(n,v.id,a)):w(iD.actions.AddEntity(y),iD.actions.AddEntity(v),iD.actions.AddEntity(b));var k=function(t){g.on("move",o).on("click",k.add).on("clickWay",k.addWay).on("clickNode",k.addNode).on("undo",e.undo).on("cancel",k.cancel).on("finish",k.finish),e.map().minzoom(16).dblclickEnable(!1),t.call(g).selectAll(".way, .node").filter(p?u:l).classed("active",!0),e.history().on("undone.draw",s)};return k.off=function(t){m||e.pop(),e.map().minzoom(0).tail(!1),t.call(g.off).selectAll(".way, .node").classed("active",!1),e.history().on("undone.draw",null)},k.add=function(t){var n=iD.Node({loc:t});e.replace(iD.actions.AddEntity(n),c(n),h),m=!0,e.enter(r)},k.addWay=function(t,n,a){var i=iD.Node({loc:n});e.perform(iD.actions.AddEntity(i),iD.actions.AddVertex(t.id,i.id,a),c(i),h),m=!0,e.enter(r)},k.addNode=function(t){d.areAdjacent(t.id,d.nodes[d.nodes.length-1])||(e.perform(c(t),h),m=!0,e.enter(r))},k.finish=function(){e.pop(),m=!0,window.setTimeout(function(){e.map().dblclickEnable(!0)},1e3);var t=e.entity(n);t?e.enter(iD.modes.Select(e,[t.id],!0)):e.enter(iD.modes.Browse(e))},k.cancel=function(){e.perform(d3.functor(i),t("operations.cancel_draw.annotation")),window.setTimeout(function(){e.map().dblclickEnable(!0)},1e3),m=!0,e.enter(iD.modes.Browse(e))},k},iD.behavior.Hash=function(e){function t(){location.hash!==i&&s(e.map(),(i=location.hash).substring(1))&&u()}function n(t){e.map().on("drawn.hash",function(){e.entity(t)&&(a(),e.enter(iD.modes.Select(e,[t])))}),e.on("enter.hash",function(){"browse"!==e.mode().id&&a()})}function a(){e.map().on("drawn.hash",null)}function r(){if(e.map().on("move.hash",u),d3.select(window).on("hashchange.hash",t),location.hash){var a=iD.util.stringQs(location.hash.substring(1));a.id&&n(a.id),t(),a.map&&(r.hadHash=!0)}}var i=null,o=90-1e-8,s=function(e,t){var n=iD.util.stringQs(t),a=(n.map||"").split("/").map(Number);return 3>a.length||a.some(isNaN)?!0:(t!==l(e).slice(1)&&e.centerZoom([a[1],Math.min(o,Math.max(-o,a[2]))],a[0]),void 0)},l=function(e){var t=e.center(),n=e.zoom(),a=Math.max(0,Math.ceil(Math.log(n)/Math.LN2)),r=iD.util.stringQs(location.hash.substring(1));return"#"+iD.util.qsString(_.assign(r,{map:n.toFixed(2)+"/"+t[0].toFixed(a)+"/"+t[1].toFixed(a)}),!0)},u=_.throttle(function(){var t=l(e.map());i!==t&&location.replace(i=t)},500);return r.off=function(){e.map().on("move.hash",null),d3.select(window).on("hashchange.hash",null),location.hash=""},r},iD.behavior.Hover=function(){function e(){a&&d3.event.keyCode===d3.keybinding.modifierCodes.alt&&n.classed("behavior-hover",!1)}function t(){a&&d3.event.keyCode===d3.keybinding.modifierCodes.alt&&n.classed("behavior-hover",!0)}var n,a,r=function(r){function i(){var e=d3.event.target.__data__;e&&n.selectAll("*").filter(function(t){return t===e}).classed("hover",!0)}n=r,a&&d3.event&&d3.event.altKey||n.classed("behavior-hover",!0),n.on("mouseover.hover",i),n.on("mouseout.hover",function(){n.selectAll(".hover").classed("hover",!1)}),d3.select(document).on("keydown.hover",e).on("keyup.hover",t)};return r.off=function(e){e.classed("behavior-hover",!1).on("mouseover.hover",null).on("mouseout.hover",null),e.selectAll(".hover").classed("hover",!1),d3.select(document).on("keydown.hover",null).on("keyup.hover",null)},r.altDisables=function(e){return arguments.length?(a=e,r):a},r},iD.behavior.Lasso=function(e){var t=function(t){function n(){d3.event.shiftKey===!0&&(s=d3.mouse(e.surface().node()),o=null,t.on("mousemove.lasso",a).on("mouseup.lasso",i),d3.event.stopPropagation(),d3.event.preventDefault())}function a(){o||(o=iD.ui.Lasso().a(s),e.surface().call(o)),o.b(d3.mouse(e.surface().node()))}function r(e,t){return[[Math.min(e[0],t[0]),Math.min(e[1],t[1])],[Math.max(e[0],t[0]),Math.max(e[1],t[1])]]}function i(){if(t.on("mousemove.lasso",null).on("mouseup.lasso",null),o){var n=iD.geo.Extent(r(e.projection.invert(o.a()),e.projection.invert(o.b())));o.close();var a=e.intersects(n).filter(function(e){return"node"===e.type});a.length&&e.enter(iD.modes.Select(e,_.pluck(a,"id")))}}var o,s=null;t.on("mousedown.lasso",n)};return t.off=function(e){e.on("mousedown.lasso",null)},t},iD.behavior.Select=function(e){function t(){d3.event&&d3.event.shiftKey&&e.surface().classed("behavior-multiselect",!0)}function n(){d3.event&&d3.event.shiftKey||e.surface().classed("behavior-multiselect",!1)}function a(){var t=d3.event.target.__data__;if(t instanceof iD.Entity)if(d3.event.shiftKey)if(e.selection().indexOf(t.id)>=0){var n=_.without(e.selection(),t.id);e.enter(n.length?iD.modes.Select(e,n):iD.modes.Browse(e))}else e.enter(iD.modes.Select(e,e.selection().concat([t.id])));else 1!==e.selection().length||e.selection()[0]!==t.id?e.enter(iD.modes.Select(e,[t.id])):e.mode().reselect();else d3.event.shiftKey||e.enter(iD.modes.Browse(e))}var r=function(e){d3.select(window).on("keydown.select",t).on("keyup.select",n),e.on("click.select",a),t()};return r.off=function(e){d3.select(window).on("keydown.select",null).on("keyup.select",null),e.on("click.select",null),n()},r},iD.modes={},iD.modes.AddArea=function(e){function n(t){var n=e.graph(),a=iD.Node({loc:t}),r=iD.Way({tags:s});e.perform(iD.actions.AddEntity(a),iD.actions.AddEntity(r),iD.actions.AddVertex(r.id,a.id),iD.actions.AddVertex(r.id,a.id)),e.enter(iD.modes.DrawArea(e,r.id,n))}function a(t,n,a){var r=e.graph(),i=iD.Node({loc:n}),o=iD.Way({tags:s});e.perform(iD.actions.AddEntity(i),iD.actions.AddEntity(o),iD.actions.AddVertex(o.id,i.id),iD.actions.AddVertex(o.id,i.id),iD.actions.AddVertex(t.id,i.id,a)),e.enter(iD.modes.DrawArea(e,o.id,r))}function r(t){var n=e.graph(),a=iD.Way({tags:s});e.perform(iD.actions.AddEntity(a),iD.actions.AddVertex(a.id,t.id),iD.actions.AddVertex(a.id,t.id)),e.enter(iD.modes.DrawArea(e,a.id,n))}var i={id:"add-area",button:"area",title:t("modes.add_area.title"),description:t("modes.add_area.description"),key:"3"},o=iD.behavior.AddWay(e).on("start",n).on("startFromWay",a).on("startFromNode",r),s={area:"yes"};return i.enter=function(){e.install(o),e.tail(t("modes.add_area.tail"))},i.exit=function(){e.uninstall(o)},i},iD.modes.AddLine=function(e){function n(t){var n=e.graph(),a=iD.Node({loc:t}),r=iD.Way();e.perform(iD.actions.AddEntity(a),iD.actions.AddEntity(r),iD.actions.AddVertex(r.id,a.id)),e.enter(iD.modes.DrawLine(e,r.id,"forward",n))}function a(t,n,a){var r=e.graph(),i=iD.Node({loc:n}),o=iD.Way();e.perform(iD.actions.AddEntity(i),iD.actions.AddEntity(o),iD.actions.AddVertex(o.id,i.id),iD.actions.AddVertex(t.id,i.id,a)),e.enter(iD.modes.DrawLine(e,o.id,"forward",r))}function r(t){var n=e.graph(),a=n.parentWays(t)[0],r=a&&"line"===a.geometry(n);if(r&&a.first()===t.id)e.enter(iD.modes.DrawLine(e,a.id,"backward",n));else if(r&&a.last()===t.id)e.enter(iD.modes.DrawLine(e,a.id,"forward",n));else{var i=iD.Way();e.perform(iD.actions.AddEntity(i),iD.actions.AddVertex(i.id,t.id)),e.enter(iD.modes.DrawLine(e,i.id,"forward",n))}}var i={id:"add-line",button:"line",title:t("modes.add_line.title"),description:t("modes.add_line.description"),key:"2"},o=iD.behavior.AddWay(e).on("start",n).on("startFromWay",a).on("startFromNode",r);return i.enter=function(){e.install(o),e.tail(t("modes.add_line.tail"))},i.exit=function(){e.uninstall(o)},i},iD.modes.AddPoint=function(e){function n(n){var a=iD.Node({loc:n});e.perform(iD.actions.AddEntity(a),t("operations.add.annotation.point")),e.enter(iD.modes.Select(e,[a.id],!0))}function a(e,t){n(t)}function r(e){n(e.loc)}function i(){e.enter(iD.modes.Browse(e))}var o={id:"add-point",title:t("modes.add_point.title"),description:t("modes.add_point.description"),key:"1"},s=iD.behavior.Draw(e).on("click",n).on("clickWay",a).on("clickNode",r).on("cancel",i).on("finish",i);return o.enter=function(){e.install(s),e.tail(t("modes.add_point.tail"))},o.exit=function(){e.uninstall(s),e.tail(!1)},o},iD.modes.Browse=function(e){var n={button:"browse",id:"browse",title:t("modes.browse.title"),description:t("modes.browse.description"),key:"1"},a=[iD.behavior.Hover(),iD.behavior.Select(e),iD.behavior.Lasso(e),iD.modes.DragNode(e).behavior];return n.enter=function(){a.forEach(function(t){e.install(t)})},n.exit=function(){a.forEach(function(t){e.uninstall(t)})},n},iD.modes.DragNode=function(e){function n(e,t){var n=[30,100,30,100];return e[0]>t[0]-n[0]?[-10,0]:e[0]<n[2]?[10,0]:e[1]>t[1]-n[1]?[0,-10]:e[1]<n[3]?[0,10]:null}function a(t){m&&window.clearInterval(m),m=window.setInterval(function(){e.pan(t)},50)}function r(){m&&window.clearInterval(m),m=null}function i(n){return t("operations.move.annotation."+n.geometry(e.graph()))}function o(n){return t("operations.connect.annotation."+n.geometry(e.graph()))}function s(t){return e.projection(t.loc)}function l(t){if(f=d3.event.sourceEvent.shiftKey)return b.cancel();if(g="midpoint"===t.type){var n=t;t=iD.Node(),e.perform(iD.actions.AddMidpoint(n,t));var a=e.surface().selectAll(".vertex").filter(function(e){return e.id===t.id});b.target(a.node(),t)}else e.perform(iD.actions.Noop());h=_.pluck(e.graph().parentWays(t),"id"),h.push(t.id),e.enter(y)}function u(){return d3.event.sourceEvent.altKey?{}:d3.event.sourceEvent.target.__data__||{}}function c(i){if(!f){d3.event.sourceEvent.stopPropagation();var o=n(d3.event.point,e.map().size());o?a(o):r();var s=e.map().mouseCoordinates(),l=u();"node"===l.type&&l.id!==i.id?s=l.loc:"way"===l.type&&(s=iD.geo.chooseIndex(l,d3.mouse(e.surface().node()),e).loc),e.replace(iD.actions.MoveNode(i.id,s),t("operations.move.annotation."+i.geometry(e.graph())))}}function d(n){if(!f){var a=u();if("way"===a.type){var r=iD.geo.chooseIndex(a,d3.mouse(e.surface().node()),e);e.replace(iD.actions.MoveNode(n.id,r.loc),iD.actions.AddVertex(a.id,n.id,r.index),o(a))}else"node"===a.type&&a.id!==n.id?e.replace(iD.actions.Connect([n.id,a.id]),o(a)):g?e.replace(iD.actions.Noop(),t("operations.add.annotation.vertex")):e.replace(iD.actions.Noop(),i(n));e.enter(iD.modes.Browse(e))}}function p(){b.cancel(),e.enter(iD.modes.Browse(e))}var m,h,g,f,y={id:"drag-node",button:"browse"},v=iD.behavior.Hover().altDisables(!0),b=iD.behavior.drag().delegate("g.node, g.point, g.midpoint").surface(e.surface().node()).origin(s).on("start",l).on("move",c).on("end",d);return y.enter=function(){e.install(v),e.history().on("undone.drag-node",p),e.surface().selectAll(".node, .way").filter(function(e){return h.indexOf(e.id)>=0}).classed("active",!0)},y.exit=function(){e.uninstall(v),e.history().on("undone.drag_node",null),e.surface().selectAll(".active").classed("active",!1),r()},y.behavior=b,y},iD.modes.DrawArea=function(e,n,a){var r,i={button:"area",id:"draw-area"};return i.enter=function(){var o=e.entity(n),s=o.nodes[o.nodes.length-2],l=o.first();r=iD.behavior.DrawWay(e,n,-1,i,a);var u=r.addNode;r.addNode=function(e){e.id===s||e.id===l?r.finish():u(e)},e.install(r),e.tail(t("modes.draw_area.tail"))},i.exit=function(){e.uninstall(r)},i},iD.modes.DrawLine=function(e,n,a,r){var i,o={button:"line",id:"draw-line"};return o.enter=function(){var s=e.entity(n),l="forward"===a?void 0:0,u="forward"===a?s.last():s.first();i=iD.behavior.DrawWay(e,n,l,o,r);var c=i.addNode;i.addNode=function(e){e.id===u?i.finish():c(e)},e.install(i),e.tail(t("modes.draw_line.tail"))},o.exit=function(){e.uninstall(i)},o},iD.modes.Move=function(e,n){var a={id:"move",button:"browse"},r=d3.keybinding("move");return a.enter=function(){function a(e,t){var n=[30,100,30,100];return e[0]>t[0]-n[0]?[-10,0]:e[0]<n[2]?[10,0]:e[1]>t[1]-n[1]?[0,-10]:e[1]<n[3]?[0,10]:null}function i(t){m&&window.clearInterval(m),m=window.setInterval(function(){e.pan(t)},50)}function o(){m&&window.clearInterval(m),m=null}function s(){return d3.mouse(e.map().surface.node())}function l(){var t=s(),r=p?[t[0]-e.projection(p)[0],t[1]-e.projection(p)[1]]:[0,0],l=a(t,e.map().size());l?i(l):o(),p=e.map().mouseCoordinates(),e.replace(iD.actions.Move(n,r,e.projection),h)}function u(){d3.event.stopPropagation(),e.enter(iD.modes.Select(e,n))}function c(){e.pop(),e.enter(iD.modes.Select(e,n))}function d(){e.enter(iD.modes.Browse(e))}var p,m,h=1===n.length?t("operations.move.annotation."+e.geometry(n[0])):t("operations.move.annotation.multiple");e.perform(iD.actions.Noop(),h),e.surface().on("mousemove.move",l).on("click.move",u),e.history().on("undone.move",d),r.on("",c).on("",u),d3.select(document).call(r)},a.exit=function(){e.surface().on("mousemove.move",null).on("click.move",null),e.history().on("undone.move",null),r.off()},a},iD.modes.RotateWay=function(e,n){var a={id:"rotate-way",button:"browse"},r=d3.keybinding("rotate-way");return a.enter=function(){function a(){return d3.mouse(e.map().surface.node())}function i(){var t=a(),r=Math.atan2(t[1]-h[1],t[0]-h[0]);u===void 0&&(u=r),e.replace(iD.actions.RotateWay(n,h,r-u,e.projection),c),u=r}function o(){d3.event.stopPropagation(),e.enter(iD.modes.Select(e,[n]))}function s(){e.pop(),e.enter(iD.modes.Select(e,[n]))}function l(){e.enter(iD.modes.Browse(e))}var u,c=t("operations.rotate.annotation."+e.geometry(n)),d=e.graph().entity(n),p=_.uniq(e.graph().childNodes(d)),m=p.map(function(t){return e.projection(t.loc)}),h=d3.geom.polygon(m).centroid();e.perform(iD.actions.Noop(),c),e.surface().on("mousemove.rotate-way",i).on("click.rotate-way",o),e.history().on("undone.rotate-way",l),r.on("",s).on("",o),d3.select(document).call(r)
},a.exit=function(){e.surface().on("mousemove.rotate-way",null).on("click.rotate-way",null),e.history().on("undone.rotate-way",null),r.off()},a},iD.modes.Select=function(e,n,a){function r(){return 1===n.length?e.entity(n[0]):void 0}function i(){var t=r();t&&"node"===t.type?s.center(e.projection(t.loc)):s.center(d3.mouse(e.surface().node()))}function o(){e.surface().call(s.close).call(s)}var s,l={id:"select",button:"browse"},u=iD.ui.Inspector(e,r()),c=d3.keybinding("select"),d=null,p=[iD.behavior.Hover(),iD.behavior.Select(e),iD.behavior.Lasso(e),iD.modes.DragNode(e).behavior],m=e.container().select(".inspector-wrap");return l.selection=function(){return n},l.reselect=function(){i(),o()},l.enter=function(){function l(){e.surface().call(s.close),_.any(n,function(t){return!e.entity(t)})&&e.enter(iD.modes.Browse(e))}function h(){var n=d3.select(d3.event.target),a=n.datum();if(a instanceof iD.Way&&!n.classed("fill")){var r=iD.geo.chooseIndex(a,d3.mouse(e.surface().node()),e),i=iD.Node(),o=a.nodes[r.index-1],s=a.nodes[r.index];e.perform(iD.actions.AddMidpoint({loc:r.loc,edge:[o,s]},i),t("operations.add.annotation.vertex")),d3.event.preventDefault(),d3.event.stopPropagation()}}function g(t){return t?n.indexOf(t.id)>=0?!0:d3.select(this).classed("stroke")&&_.any(e.graph().parentRelations(t),function(e){return n.indexOf(e.id)>=0}):!1}p.forEach(function(t){e.install(t)});var f=_.without(d3.values(iD.operations),iD.operations.Delete).map(function(t){return t(n,e)}).filter(function(e){return e.available()});f.unshift(iD.operations.Delete(n,e)),c.on("",function(){e.enter(iD.modes.Browse(e))},!0),f.forEach(function(e){e.keys.forEach(function(t){c.on(t,function(){e.enabled()&&e()})})});var y=iD.util.stringQs(location.hash.substring(1));location.replace("#"+iD.util.qsString(_.assign(y,{id:n.join(",")}),!0)),r()&&m.call(u),e.history().on("undone.select",l).on("redone.select",l),e.map().on("move.select",function(){e.surface().call(s.close)}),d3.select(document).call(c),e.surface().selectAll("*").filter(g).classed("selected",!0),s=iD.ui.RadialMenu(f);var v=d3.event&&!a;v&&i(),d=window.setTimeout(function(){v&&o(),e.surface().on("dblclick.select",h)},200)},l.exit=function(){d&&window.clearTimeout(d),m.call(u.close),p.forEach(function(t){e.uninstall(t)});var t=iD.util.stringQs(location.hash.substring(1));location.replace("#"+iD.util.qsString(_.omit(t,"id"),!0)),c.off(),e.history().on("undone.select",null).on("redone.select",null),e.surface().call(s.close).on("dblclick.select",null).selectAll(".selected").classed("selected",!1)},l},iD.operations={},iD.operations.Circularize=function(e,n){var a=e[0],r=iD.actions.Circularize(a,n.projection),i=function(){var e=t("operations.circularize.annotation."+n.geometry(a));n.perform(r,e)};return i.available=function(){return 1===e.length&&"way"===n.entity(a).type},i.enabled=function(){return r.enabled(n.graph())},i.id="circularize",i.keys=[t("operations.circularize.key")],i.title=t("operations.circularize.title"),i.description=t("operations.circularize.description"),i},iD.operations.Delete=function(e,n){var a=function(){var a;a=1===e.length?t("operations.delete.annotation."+n.geometry(e[0])):t("operations.delete.annotation.multiple",{n:e.length}),n.perform(iD.actions.DeleteMultiple(e),a),n.enter(iD.modes.Browse(n))};return a.available=function(){return!0},a.enabled=function(){return!0},a.id="delete",a.keys=[iD.ui.cmd(""),iD.ui.cmd("")],a.title=t("operations.delete.title"),a.description=t("operations.delete.description"),a},iD.operations.Disconnect=function(e,n){var a=e[0],r=iD.actions.Disconnect(a),i=function(){n.perform(r,t("operations.disconnect.annotation")),n.enter(iD.modes.Browse(n))};return i.available=function(){return 1===e.length&&"vertex"===n.geometry(a)},i.enabled=function(){return r.enabled(n.graph())},i.id="disconnect",i.keys=[t("operations.disconnect.key")],i.title=t("operations.disconnect.title"),i.description=t("operations.disconnect.description"),i},iD.operations.Merge=function(e,n){var a=iD.actions.Join(e),r=iD.actions.Merge(e),i=function(){var i,o=t("operations.merge.annotation",{n:e.length});i=a.enabled(n.graph())?a:r;var s=n.perform(i,o);n.enter(iD.modes.Select(n,s.extantIDs()))};return i.available=function(){return e.length>=2},i.enabled=function(){return a.enabled(n.graph())||r.enabled(n.graph())},i.id="merge",i.keys=[t("operations.merge.key")],i.title=t("operations.merge.title"),i.description=t("operations.merge.description"),i},iD.operations.Move=function(e,n){var a=function(){n.enter(iD.modes.Move(n,e))};return a.available=function(){return e.length>1||"node"!==n.entity(e[0]).type},a.enabled=function(){return iD.actions.Move(e).enabled(n.graph())},a.id="move",a.keys=[t("operations.move.key")],a.title=t("operations.move.title"),a.description=t("operations.move.description"),a},iD.operations.Orthogonalize=function(e,n){var a=e[0],r=iD.actions.Orthogonalize(a,n.projection),i=function(){var e=t("operations.orthogonalize.annotation."+n.geometry(a));n.perform(r,e)};return i.available=function(){return 1===e.length&&"way"===n.entity(a).type&&_.uniq(n.entity(a).nodes).length>3},i.enabled=function(){return r.enabled(n.graph())},i.id="orthogonalize",i.keys=[t("operations.orthogonalize.key")],i.title=t("operations.orthogonalize.title"),i.description=t("operations.orthogonalize.description"),i},iD.operations.Reverse=function(e,n){var a=e[0],r=function(){n.perform(iD.actions.Reverse(a),t("operations.reverse.annotation"))};return r.available=function(){return 1===e.length&&"line"===n.geometry(a)},r.enabled=function(){return!0},r.id="reverse",r.keys=[t("operations.reverse.key")],r.title=t("operations.reverse.title"),r.description=t("operations.reverse.description"),r},iD.operations.Rotate=function(e,n){var a=e[0],r=function(){n.enter(iD.modes.RotateWay(n,a))};return r.available=function(){return 1===e.length&&"way"===n.entity(a).type&&"area"===n.entity(a).geometry()},r.enabled=function(){return!0},r.id="rotate",r.keys=[t("operations.rotate.key")],r.title=t("operations.rotate.title"),r.description=t("operations.rotate.description"),r},iD.operations.Split=function(e,n){var a=e[0],r=iD.actions.Split(a),i=function(){var e=t("operations.split.annotation"),a=n.perform(r,e);n.enter(iD.modes.Select(n,a.extantIDs()))};return i.available=function(){return 1===e.length&&"vertex"===n.geometry(a)},i.enabled=function(){return r.enabled(n.graph())},i.id="split",i.keys=[t("operations.split.key")],i.title=t("operations.split.title"),i.description=t("operations.split.description"),i},iD.Difference=function(e,t){function n(e,a){for(var r=0;e.length>r;r++){var i=e[r];i.id in a||(a[i.id]=i,n(t.parentRelations(i),a))}}var a={},r=0;_.each(t.entities,function(t,n){var i=e.entities[n];t!==i&&(a[n]={base:i,head:t},r++)}),_.each(e.entities,function(e,n){var i=t.entities[n];a[n]||i===e||(a[n]={base:e,head:i},r++)});var i={};return i.length=function(){return r},i.changes=function(){return a},i.extantIDs=function(){var e=[];return _.each(a,function(t,n){t.head&&e.push(n)}),e},i.modified=function(){var e=[];return _.each(a,function(t){t.base&&t.head&&e.push(t.head)}),e},i.created=function(){var e=[];return _.each(a,function(t){!t.base&&t.head&&e.push(t.head)}),e},i.deleted=function(){var e=[];return _.each(a,function(t){t.base&&!t.head&&e.push(t.base)}),e},i.addParents=function(e){for(var a in e)n(t.parentWays(e[a]),e),n(t.parentRelations(e[a]),e);return e},i.complete=function(r){var i,o,s={};for(i in a){o=a[i];var l=o.head,u=o.base,c=l||u;if(!r||l&&l.intersects(r,t)||u&&u.intersects(r,e)){if(s[i]=l,"way"===c.type){var d,p,m=l?l.nodes:[],h=u?u.nodes:[];for(d=_.difference(m,h),p=0;d.length>p;p++)s[d[p]]=t.entity(d[p]);for(d=_.difference(h,m),p=0;d.length>p;p++)s[d[p]]=t.entity(d[p])}n(t.parentWays(c),s),n(t.parentRelations(c),s)}}return s},i},iD.Entity=function(e){return this instanceof iD.Entity?void 0:e&&e.type?iD.Entity[e.type].apply(this,arguments):(new iD.Entity).initialize(arguments)},iD.Entity.id=function(e){return iD.Entity.id.fromOSM(e,iD.Entity.id.next[e]--)},iD.Entity.id.next={node:-1,way:-1,relation:-1},iD.Entity.id.fromOSM=function(e,t){return e[0]+t},iD.Entity.id.toOSM=function(e){return e.slice(1)},iD.Entity.key=function(e){return e.id},iD.Entity.prototype={tags:{},initialize:function(e){for(var t=0;e.length>t;++t){var n=e[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(this[a]=n[a])}return!this.id&&this.type&&(this.id=iD.Entity.id(this.type)),iD.debug&&(Object.freeze(this),Object.freeze(this.tags),this.loc&&Object.freeze(this.loc),this.nodes&&Object.freeze(this.nodes),this.members&&Object.freeze(this.members)),this},osmId:function(){return iD.Entity.id.toOSM(this.id)},isNew:function(){return 0>this.osmId()},update:function(e){return iD.Entity(this,e)},mergeTags:function(e){var t=_.clone(this.tags),n=!1;for(var a in e){var r=t[a],i=e[a];r?r!==i&&(n=!0,t[a]=_.union(r.split(/;\s*/),i.split(/;\s*/)).join(";")):(n=!0,t[a]=i)}return n?this.update({tags:t}):this},intersects:function(e,t){return this.extent(t).intersects(e)},hasInterestingTags:function(){return _.keys(this.tags).some(function(e){return"attribution"!=e&&"created_by"!=e&&"source"!=e&&"odbl"!=e&&0!==e.indexOf("tiger:")})},deprecatedTags:function(){var e=_.pairs(this.tags),t={};return iD.data.deprecated.forEach(function(n){var a=_.pairs(n.old)[0];e.forEach(function(e){e[0]!=a[0]||e[1]!=a[1]&&"*"!=a[1]||(t[e[0]]=e[1])})}),t},friendlyName:function(){if(!this.tags||!Object.keys(this.tags).length)return"";var e=["highway","amenity","railway","waterway","natural"],t=[];if(this.tags.name&&t.push(this.tags.name),this.tags.ref&&t.push(this.tags.ref),!t.length)for(var n in this.tags)if(-1!==e.indexOf(n)){t.push(this.tags[n]);break}return 0===t.length?"unknown":t.join("; ")}},iD.Graph=function(e,t){if(!(this instanceof iD.Graph))return new iD.Graph(e,t);if(e instanceof iD.Graph){var n=e.base();this.entities=_.assign(Object.create(n.entities),e.entities),this._parentWays=_.assign(Object.create(n.parentWays),e._parentWays),this._parentRels=_.assign(Object.create(n.parentRels),e._parentRels),this.inherited=!0}else{if(Array.isArray(e)){for(var a={},r=0;e.length>r;r++)a[e[r].id]=e[r];e=a}this.entities=Object.create({}),this._parentWays=Object.create({}),this._parentRels=Object.create({}),this.rebase(e||{})}this.transients={},this._childNodes={},this.getEntity=_.bind(this.entity,this),t||this.freeze()},iD.Graph.prototype={entity:function(e){return this.entities[e]},"transient":function(e,t,n){var a=e.id,r=this.transients[a]||(this.transients[a]={});return void 0!==r[t]?r[t]:(r[t]=n.call(e),r[t])},parentWays:function(e){return _.map(this._parentWays[e.id],this.getEntity)},isPoi:function(e){var t=this._parentWays[e.id];return!t||0===t.length},isShared:function(e){var t=this._parentWays[e.id];return t&&t.length>1},parentRelations:function(e){return _.map(this._parentRels[e.id],this.getEntity)},childNodes:function(e){if(this._childNodes[e.id])return this._childNodes[e.id];for(var t=[],n=0,a=e.nodes.length;a>n;n++)t[n]=this.entity(e.nodes[n]);return this._childNodes[e.id]=t,this._childNodes[e.id]},base:function(){return{entities:iD.util.getPrototypeOf(this.entities),parentWays:iD.util.getPrototypeOf(this._parentWays),parentRels:iD.util.getPrototypeOf(this._parentRels)}},rebase:function(e){var t,n,a,r,i,o=this.base();if(!this.inherited)for(t in e)o.entities[t]||(o.entities[t]=e[t],this._updateCalculated(void 0,e[t],o.parentWays,o.parentRels));for(i=Object.keys(this._parentWays),t=0;i.length>t;t++)if(a=i[t],o.parentWays[a])for(n=0;o.parentWays[a].length>n;n++)r=o.parentWays[a][n],this.entities.hasOwnProperty(r)||_.contains(this._parentWays[a],r)||this._parentWays[a].push(r);for(i=Object.keys(this._parentRels),t=0;i.length>t;t++)if(a=i[t],o.parentRels[a])for(n=0;o.parentRels[a].length>n;n++)r=o.parentRels[a][n],this.entities.hasOwnProperty(r)||_.contains(this._parentRels[a],r)||this._parentRels[a].push(r)},_updateCalculated:function(e,t,n,a){n=n||this._parentWays,a=a||this._parentRels;var r,i,o,s,l,u=t&&t.type||e&&e.type;if("way"===u){for(e&&t?(r=_.difference(e.nodes,t.nodes),i=_.difference(t.nodes,e.nodes)):e?(r=e.nodes,i=[]):t&&(r=[],i=t.nodes),l=0;r.length>l;l++)n[r[l]]=_.without(n[r[l]],e.id);for(l=0;i.length>l;l++)o=_.without(n[i[l]],t.id),o.push(t.id),n[i[l]]=o}else if("node"===u);else if("relation"===u){for(e&&t?(r=_.difference(e.members,t.members),i=_.difference(t.members,e)):e?(r=e.members,i=[]):t&&(r=[],i=t.members),l=0;r.length>l;l++)a[r[l].id]=_.without(a[r[l].id],e.id);for(l=0;i.length>l;l++)s=_.without(a[i[l].id],t.id),s.push(t.id),a[i[l].id]=s}},replace:function(e){return this.entities[e.id]===e?this:this.update(function(){this._updateCalculated(this.entities[e.id],e),this.entities[e.id]=e})},remove:function(e){return this.update(function(){this._updateCalculated(e,void 0),this.entities[e.id]=void 0})},update:function(){for(var e=this.frozen?iD.Graph(this,!0):this,t=0;arguments.length>t;t++)arguments[t].call(e,e);return this.frozen?e.freeze():this},freeze:function(){return this.frozen=!0,iD.debug&&Object.freeze(this.entities),this},hasAllChildren:function(e){var t;if(this.entities.hasOwnProperty(e.id))if("way"===e.type){for(t=0;e.nodes.length>t;t++)if(!this.entities[e.nodes[t]])return!1}else if("relation"===e.type)for(t=0;e.members.length>t;t++)if(!this.entities[e.members[t].id])return!1;return!0},load:function(e){var t,n,a,r=this.base();this.entities=Object.create(r.entities);for(t in e)n=e[t],a=t[0],"undefined"===n?this.entities[t]=void 0:"n"==a?this.entities[t]=new iD.Node(n):"w"==a?this.entities[t]=new iD.Way(n):"r"==a&&(this.entities[t]=new iD.Relation(n)),this._updateCalculated(r.entities[t],this.entities[t]);return this}},iD.History=function(e){function t(e){e=Array.prototype.slice.call(e);var t;_.isFunction(_.last(e))||(t=e.pop());for(var n=r[i].graph,a=0;e.length>a;a++)n=e[a](n);return{graph:n,annotation:t,imagery_used:s}}function n(e){var t=iD.Difference(e,c.graph());return l.change(t),t}function a(e){return"iD_"+window.location.origin+"_"+e}var r,i,o,s="Bing",l=d3.dispatch("change","undone","redone"),u=!1,c={graph:function(){return r[i].graph},merge:function(e){for(var t=r[0].graph.base(),n=Object.keys(e).filter(function(e){return!t.entities[e]}),a=0;r.length>a;a++)r[a].graph.rebase(e);o.rebase(n),l.change()},perform:function(){var e=r[i].graph;return r=r.slice(0,i+1),r.push(t(arguments)),i++,n(e)},replace:function(){var e=r[i].graph;return r[i]=t(arguments),n(e)},pop:function(){var e=r[i].graph;return i>0?(i--,r.pop(),n(e)):void 0},undo:function(){for(var e=r[i].graph;i>0&&!r[i].annotation;)i--;for(;i>0&&(i--,!r[i].annotation););return l.undone(),n(e)},redo:function(){for(var e=r[i].graph;r.length-1>i&&(i++,!r[i].annotation););return l.redone(),n(e)},undoAnnotation:function(){for(var e=i;e>=0;){if(r[e].annotation)return r[e].annotation;e--}},redoAnnotation:function(){for(var e=i+1;r.length-1>=e;){if(r[e].annotation)return r[e].annotation;e++}},intersects:function(e){return o.intersects(e,r[i].graph)},difference:function(){var e=r[0].graph,t=r[i].graph;return iD.Difference(e,t)},changes:function(){function e(e){return _.isEmpty(e.tags)?e:e.update({tags:_.omit(e.tags,iD.data.discarded)})}var t=c.difference();return{modified:t.modified().map(e),created:t.created().map(e),deleted:t.deleted()}},hasChanges:function(){return this.difference().length()>0},numChanges:function(){return this.difference().length()},imagery_used:function(e){return e?(s=e,void 0):_.without(_.unique(_.pluck(r.slice(1,i+1),"imagery_used")),void 0,"Custom")},reset:function(){r=[{graph:iD.Graph()}],i=0,o=iD.Tree(r[0].graph),l.change()},save:function(){if(u&&(e.storage(a("lock"),null),!(1>=r.length))){var t=JSON.stringify(r.map(function(e){var t={entities:e.graph.entities};return e.imagery_used&&(t.imagery_used=e.imagery_used),e.annotation&&(t.annotation=e.annotation),t}),function(e,t){return t===void 0?"undefined":t});e.storage(a("history"),t),e.storage(a("nextIDs"),JSON.stringify(iD.Entity.id.next)),e.storage(a("index"),i)}},clearSaved:function(){u&&(e.storage(a("history"),null),e.storage(a("nextIDs"),null),e.storage(a("index"),null))},lock:function(){return e.storage(a("lock"))?!1:(e.storage(a("lock"),!0),u=!0)},restorableChanges:function(){return u&&!!e.storage(a("history"))},load:function(){if(u){var t=e.storage(a("history")),n=e.storage(a("nextIDs")),o=e.storage(a("index"));t&&(n&&(iD.Entity.id.next=JSON.parse(n)),null!==o&&(i=parseInt(o,10)),e.storage(a("history",null)),e.storage(a("nextIDs",null)),e.storage(a("index",null)),r=JSON.parse(t).map(function(e){return e.graph=iD.Graph(r[0].graph).load(e.entities),e}),r[0].graph.inherited=!1,l.change())}},_getKey:a};return c.reset(),d3.rebind(c,l,"on")},iD.Node=iD.Entity.node=function e(){return this instanceof e?(arguments.length&&this.initialize(arguments),void 0):(new e).initialize(arguments)},iD.Node.prototype=Object.create(iD.Entity.prototype),_.extend(iD.Node.prototype,{type:"node",extent:function(){return new iD.geo.Extent(this.loc)},geometry:function(e){return e.isPoi(this)?"point":"vertex"},move:function(e){return this.update({loc:e})},asJXON:function(e){var t={node:{"@id":this.osmId(),"@lon":this.loc[0],"@lat":this.loc[1],"@version":this.version||0,tag:_.map(this.tags,function(e,t){return{keyAttributes:{k:t,v:e}}})}};return e&&(t.node["@changeset"]=e),t},asGeoJSON:function(){return{type:"Feature",properties:this.tags,geometry:{type:"Point",coordinates:this.loc}}}}),iD.Relation=iD.Entity.relation=function n(){return this instanceof n?(arguments.length&&this.initialize(arguments),void 0):(new n).initialize(arguments)},iD.Relation.prototype=Object.create(iD.Entity.prototype),_.extend(iD.Relation.prototype,{type:"relation",members:[],extent:function(e){return e.transient(this,"extent",function(){return this.members.reduce(function(t,n){return n=e.entity(n.id),n?t.extend(n.extent(e)):t},iD.geo.Extent())})},geometry:function(){return this.isMultipolygon()?"area":"relation"},memberByRole:function(e){for(var t=0;this.members.length>t;t++)if(this.members[t].role===e)return _.extend({},this.members[t],{index:t})},memberById:function(e){for(var t=0;this.members.length>t;t++)if(this.members[t].id===e)return _.extend({},this.members[t],{index:t})},memberByIdAndRole:function(e,t){for(var n=0;this.members.length>n;n++)if(this.members[n].id===e&&this.members[n].role===t)return _.extend({},this.members[n],{index:n})},addMember:function(e,t){var n=this.members.slice();return n.splice(void 0===t?n.length:t,0,e),this.update({members:n})},updateMember:function(e,t){var n=this.members.slice();return n.splice(t,1,_.extend({},n[t],e)),this.update({members:n})},removeMember:function(e){var t=_.reject(this.members,function(t){return t.id===e});return this.update({members:t})},replaceMember:function(e,t){if(!this.memberById(e.id))return this;for(var n=[],a=0;this.members.length>a;a++){var r=this.members[a];r.id!==e.id?n.push(r):this.memberByIdAndRole(t.id,r.role)||n.push({id:t.id,type:t.type,role:r.role})}return this.update({members:n})},asJXON:function(e){var t={relation:{"@id":this.osmId(),"@version":this.version||0,member:_.map(this.members,function(e){return{keyAttributes:{type:e.type,role:e.role,ref:iD.Entity.id.toOSM(e.id)}}}),tag:_.map(this.tags,function(e,t){return{keyAttributes:{k:t,v:e}}})}};return e&&(t.relation["@changeset"]=e),t},asGeoJSON:function(e){return this.isMultipolygon()?{type:"Feature",properties:this.tags,geometry:{type:"MultiPolygon",coordinates:this.multipolygon(e)}}:{type:"FeatureCollection",properties:this.tags,features:this.members.map(function(t){return _.extend({role:t.role},e.entity(t.id).asGeoJSON(e))})}},isMultipolygon:function(){return"multipolygon"===this.tags.type},isComplete:function(e){for(var t=0;this.members.length>t;t++)if(!e.entity(this.members[t].id))return!1;return!0},isRestriction:function(){return!(!this.tags.type||!this.tags.type.match(/^restriction:?/))},multipolygon:function(e){function t(e){for(var t,n,a,r,i,o,s=[];e.length;)for(t=e.pop().nodes.slice(),s.push(t);e.length&&_.first(t)!==_.last(t);){for(n=_.first(t),a=_.last(t),r=0;e.length>r;r++){if(o=e[r].nodes,a===_.first(o)){i=t.push,o=o.slice(1);break}if(a===_.last(o)){i=t.push,o=o.slice(0,-1).reverse();break}if(n==_.last(o)){i=t.unshift,o=o.slice(0,-1);break}if(n==_.first(o)){i=t.unshift,o=o.slice(1).reverse();break}o=i=null}if(!o)break;e.splice(r,1),i.apply(t,o)}return s.map(function(e){return _.pluck(e,"loc")})}function n(e){var t,n;for(t=0;r.length>t;t++)if(n=r[t],iD.geo.polygonContainsPolygon(n,e))return t;for(t=0;r.length>t;t++)if(n=r[t],iD.geo.polygonIntersectsPolygon(n,e))return t}for(var a=this.members.filter(function(t){return"way"===t.type&&e.entity(t.id)}).map(function(t){return{role:t.role||"outer",id:t.id,nodes:e.childNodes(e.entity(t.id))}}),r=t(a.filter(function(e){return"outer"===e.role})),i=t(a.filter(function(e){return"inner"===e.role})),o=r.map(function(e){return[e]}),s=0;i.length>s;s++){var l=n(i[s]);void 0!==l?o[l].push(i[s]):o.push([i[s]])}return o}}),iD.Tree=function(e){function t(e){return i=d*e[0][0],o=d*e[0][1],s=d*e[1][0]-i||2,l=d*e[1][1]-o||2,new RTree.Rectangle(~~i,~~o,~~s-1,~~l-1)}function n(e){c.insert(t(e.extent(p)),e.id)}function a(n){c.remove(t(n.extent(e)),n.id)}function r(t){a(e.entities[t.id]),n(t)}var i,o,s,l,u,c=new RTree,d=1e8,p=e,m=[],h=[],g={rebase:function(t){for(var a=0;t.length>a;a++)e.entities.hasOwnProperty(t[a])||n(e.entity(t[a]),!0);return u=!0,g},intersects:function(i,o){if(p=o,e!==p||u){var s=iD.Difference(e,p),l={};s.modified().forEach(function(t){var n=e.entities[t.id].loc;n&&n[0]===t.loc[0]&&n[1]===t.loc[1]||(l[t.id]=t)});var d=s.created().concat(m);l=d3.values(s.addParents(l)).filter(function(t){return!!e.entity(t.id)}).concat(h),m=[],h=[],l.forEach(function(e){p.hasAllChildren(e)?r(e):h.push(e)}),d.forEach(function(e){p.hasAllChildren(e)?n(e):m.push(e)}),s.deleted().forEach(a),e=p,u=!1}return c.search(t(i)).map(function(t){return e.entity(t)})},graph:function(){return e}};return g},iD.Way=iD.Entity.way=function a(){return this instanceof a?(arguments.length&&this.initialize(arguments),void 0):(new a).initialize(arguments)},iD.Way.prototype=Object.create(iD.Entity.prototype),_.extend(iD.Way.prototype,{type:"way",nodes:[],extent:function(e){return e.transient(this,"extent",function(){return this.nodes.reduce(function(t,n){return t.extend(e.entity(n).extent(e))},iD.geo.Extent())})},first:function(){return this.nodes[0]},last:function(){return this.nodes[this.nodes.length-1]},contains:function(e){return this.nodes.indexOf(e)>=0},isOneWay:function(){return"yes"===this.tags.oneway||"river"===this.tags.waterway||"stream"===this.tags.waterway},isClosed:function(){return this.nodes.length>0&&this.first()===this.last()},isArea:function(){if("yes"===this.tags.area)return!0;if(!this.isClosed()||"no"===this.tags.area)return!1;for(var e in this.tags)if(e in iD.Way.areaKeys&&!(this.tags[e]in iD.Way.areaKeys[e]))return!0;return!1},isDegenerate:function(){return _.uniq(this.nodes).length<(this.isArea()?3:2)},areAdjacent:function(e,t){for(var n=0;this.nodes.length>n;n++)if(this.nodes[n]===e){if(this.nodes[n-1]===t)return!0;if(this.nodes[n+1]===t)return!0}return!1},geometry:function(){return this.isArea()?"area":"line"},addNode:function(e,t){var n=this.nodes.slice();return n.splice(void 0===t?n.length:t,0,e),this.update({nodes:n})},updateNode:function(e,t){var n=this.nodes.slice();return n.splice(t,1,e),this.update({nodes:n})},replaceNode:function(e,t){if(0>this.nodes.indexOf(e))return this;for(var n=this.nodes.slice(),a=0;n.length>a;a++)n[a]===e&&(n[a]=t);return this.update({nodes:n})},removeNode:function(e){var t=_.without(this.nodes,e);return this.nodes.length>1&&this.first()===e&&this.last()===e&&t.push(t[0]),this.update({nodes:t})},asJXON:function(e){var t={way:{"@id":this.osmId(),"@version":this.version||0,nd:_.map(this.nodes,function(e){return{keyAttributes:{ref:iD.Entity.id.toOSM(e)}}}),tag:_.map(this.tags,function(e,t){return{keyAttributes:{k:t,v:e}}})}};return e&&(t.way["@changeset"]=e),t},asGeoJSON:function(e,t){var n=e.childNodes(this);return t&&!this.isClosed()&&n.length&&(n=n.concat([n[0]])),this.isArea()&&(t||this.isClosed())?{type:"Feature",properties:this.tags,geometry:{type:"Polygon",coordinates:[_.pluck(n,"loc")]}}:{type:"Feature",properties:this.tags,geometry:{type:"LineString",coordinates:_.pluck(n,"loc")}}}}),iD.Way.areaKeys={area:{},building:{},leisure:{},tourism:{},ruins:{},historic:{},landuse:{},military:{},natural:{coastline:!0},amenity:{},shop:{},man_made:{},public_transport:{},place:{},aeroway:{},waterway:{}},iD.Background=function(){function e(e,t){return Math.ceil(d*Math.pow(2,t-e[2]))/d}function t(e,t){var n=Math.pow(2,t);return[Math.floor(e[0]*n),Math.floor(e[1]*n),e[2]+t]}function n(e){for(var n=-1;n>-e[2];n--)if(m[t(e,n)]!==!1)return t(e,n)}function a(e,t){for(var n=[],a={},r=0;e.length>r;r++)void 0===a[e[r][t]]&&(n.push(e[r]),a[e[r][t]]=!0);return n}function r(e){return e.push(f(e)),e}function i(e){p.scale(l.scale()).translate(l.translate()),u=[l.scale()/2-l.translate()[0],l.scale()/2-l.translate()[1]],c=Math.max(Math.log(l.scale())/Math.log(2)-8,0),o(e)}function o(t){function i(e){m[e[3]]=!0,d3.select(this).on("load",null).classed("tile-loaded",!0),o(t)}function s(e){m[e[3]]=!1,d3.select(this).on("load",null).remove(),o(t)}function l(t){var n=d*Math.pow(2,c-t[2]),a=e(t,c);return"translate("+(Math.round(t[0]*n-u[0])+y[0])+"px,"+(Math.round(t[1]*n-u[1])+y[1])+"px)"+"scale("+a+","+a+")"}var f=[];p().forEach(function(e){r(e),f.push(e),m[e[3]]===!1&&n(e)&&f.push(r(n(e)))}),f=a(f,3).filter(function(e){return m[e[3]]!==!1});var y=[Math.round(h[0]*Math.pow(2,c)),Math.round(h[1]*Math.pow(2,c))],v=t.selectAll("img").data(f,function(e){return e[3]});v.exit().style(g,l).classed("tile-loaded",!1).each(function(){var e=this;window.setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},300)}),v.enter().append("img").attr("class","tile").attr("src",function(e){return e[3]}).on("error",s).on("load",i),v.style(g,l)}function s(e){var t=e.data.sourcetag,n=iD.util.stringQs(location.hash.substring(1));t?location.replace("#"+iD.util.qsString(_.assign(n,{layer:t}),!0)):location.replace("#"+iD.util.qsString(_.omit(n,"layer"),!0))}var l,u,c,d=256,p=d3.geo.tile(),m={},h=[0,0],g=iD.util.prefixCSSProperty("Transform"),f=d3.functor("");return i.offset=function(e){return arguments.length?(h=e,i):h},i.nudge=function(e,t){return h[0]+=e[0]/Math.pow(2,t),h[1]+=e[1]/Math.pow(2,t),i},i.projection=function(e){return arguments.length?(l=e,i):l},i.size=function(e){return arguments.length?(p.size(e),i):p.size()},i.dispatch=d3.dispatch("change"),i.source=function(e){return arguments.length?(f=e,m={},p.scaleExtent(f.data&&f.data.scaleExtent||[1,20]),s(f),i.dispatch.change(),i):f},d3.rebind(i,i.dispatch,"on")},iD.BackgroundSource={},iD.BackgroundSource.template=function(e){function t(t){for(var n="",a=t[2];a>0;a--){var r=0,i=1<<a-1;0!==(t[0]&i)&&r++,0!==(t[1]&i)&&(r+=2),n+=""+r}return e.template.replace("{t}",e.subdomains?e.subdomains[t[2]%e.subdomains.length]:"").replace("{u}",n).replace("{x}",t[0]).replace("{y}",t[1]).replace("{z}",t[2]).replace("{zoom}",t[2]).replace(/\{(switch\:[^\}]*)\}/,function(e,n){var a=n.split(":")[1].split(",");return a[t[2]%a.length]})}return t.data=e,t.copyrightNotices=function(){},t},iD.BackgroundSource.Bing=function(e,t){var n=iD.BackgroundSource.template(e),a="Arzdiw4nlOJzRwOz__qailc8NiR31Tt51dN2D7cm57NrnceZnCpgOkmJhNpGoppU",r="http://dev.virtualearth.net/REST/v1/Imagery/Metadata/Aerial?include=ImageryProviders&key="+a+"&jsonp={callback}",i=[];return d3.jsonp(r,function(e){i=e.resourceSets[0].resources[0].imageryProviders.map(function(e){return{attribution:e.attribution,areas:e.coverageAreas.map(function(e){return{zoom:[e.zoomMin,e.zoomMax],extent:iD.geo.Extent([e.bbox[1],e.bbox[0]],[e.bbox[3],e.bbox[2]])}})}}),t.change()}),n.copyrightNotices=function(e,t){return e=Math.min(e,21),i.filter(function(n){return _.any(n.areas,function(n){return t.intersects(n.extent)&&e>=n.zoom[0]&&n.zoom[1]>=e})}).map(function(e){return e.attribution}).join(", ")},n},iD.BackgroundSource.Custom=function(){var e=window.prompt("Enter a tile template. Valid tokens are {z}, {x}, {y} for Z/X/Y scheme and {u} for quadtile scheme.");return e?iD.BackgroundSource.template({template:e,name:"Custom"}):null},iD.BackgroundSource.Custom.data={name:"Custom"},iD.LocalGpx=function(e){function t(e){l.projection(r);var t=e.selectAll("svg").data(o?[i]:[]);t.exit().remove(),t.enter().append("svg").style("position","absolute");var n=t.selectAll("path").data(function(e){return[e]});n.enter().append("path").attr("class","gpx"),n.attr("d",l)}function n(e){return(new DOMParser).parseFromString(e,"text/xml")}function a(){d3.event.stopPropagation(),d3.event.preventDefault(),d3.event.dataTransfer.dropEffect="copy"}var r,i={},o=!0,s=[0,0],l=(iD.util.prefixCSSProperty("Transform"),d3.geo.path().projection(r));return d3.functor(""),t.projection=function(e){return arguments.length?(r=e,t):r},t.enable=function(e){return arguments.length?(o=e,t):o},t.geojson=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(s=e,t):s},t.id="layer-gpx",d3.select("body").attr("dropzone","copy").on("drop.localgpx",function(){d3.event.stopPropagation(),d3.event.preventDefault();var a=d3.event.dataTransfer.files[0],r=new FileReader;r.onload=function(a){t.geojson(toGeoJSON.gpx(n(a.target.result))),e.redraw(),e.map().pan([0,0])},r.readAsText(a)}).on("dragenter.localgpx",a).on("dragexit.localgpx",a).on("dragover.localgpx",a),t},iD.Map=function(e){function t(n){e.history().on("change.map",s),n.call(k),g=n.append("div").attr("id","layer-g");var a=n.append("div").style("position","absolute");h=a.append("svg").on("mousedown.zoom",function(){2==d3.event.button&&d3.event.stopPropagation()},!0).on("mouseup.zoom",function(){o()&&s()}).attr("id","surface").call(iD.svg.Surface()),t.size(n.size()),t.surface=h,t.layersurface=g,a.call(O)}function n(){return[y[0]/2,y[1]/2]}function a(n){var a,i,o=t.extent(),s=e.graph();if(n){var l=n.complete(o);i=_.compact(_.values(l)),a=function(e){if("midpoint"===e.type){var t=s.entity(e.edge[0]),n=s.entity(e.edge[1]);return!t||!n||_.intersection(s.parentWays(t),i).length||_.intersection(s.parentWays(n),i).length}return e.id in l}}else i=e.intersects(o),a=d3.functor(!0);i.length>1e5?r():h.call(z,s,i,a).call(T,s,i,a,t.zoom()).call(C,s,i,a,y).call(j,s,i,a).call(A,s,i,a,o).call(E,s,i,a,y,!n),v.drawn(t)}function r(){h.selectAll(".layer *").remove()}function i(){if(d3.event&&"dblclick"===d3.event.sourceEvent.type&&!x)return k.scale(b.scale()).translate(b.translate()),d3.event.sourceEvent.preventDefault();if(M+1>Math.log(d3.event.scale/Math.LN2-8))return iD.ui.flash(e.container()).select(".content").text("Cannot zoom out further in current mode."),d(16,!0);b.translate(d3.event.translate).scale(d3.event.scale);var n=d3.event.scale,a=m[0],r=n/a,i=Math.round(d3.event.translate[0]/r-m[1][0]),o=Math.round(d3.event.translate[1]/r-m[1][1]),s="scale("+r+")"+"translate("+i+"px,"+o+"px) ";g.style(S,s),h.style(S,s),l(),v.move(t)}function o(){var e=h.node().style[S];return e&&"none"!==e?(h.node().style[S]="",g.node().style[S]="",!0):!1}function s(n){if(h){clearTimeout(f),o()&&(n=void 0);var i=~~t.zoom()+"";if(h.attr("data-zoom")!==i&&h.attr("data-zoom",i),!n){var s=g.selectAll(".layer-layer").data(D);s.exit().remove(),s.enter().append("div").attr("class","layer-layer"),s.each(function(e){d3.select(this).call(e)})}return t.editable()?(e.connection().loadTiles(b,y),a(n)):r(),m=[b.scale(),b.translate().slice()],t}}function l(){clearTimeout(f),f=setTimeout(function(){s()},300)}function u(e){var t=b.translate(),n=b.scale();return[(e[0]-t[0])/n,(e[1]-t[1])/n]}function c(e){var t=b.translate(),n=b.scale();return[e[0]*n+t[0],e[1]*n+t[1]]}function d(e,a){if(e===t.zoom()&&!a)return!1;var r=256*Math.pow(2,e),i=n(),o=u(i);r=Math.max(1024,Math.min(256*Math.pow(2,24),r)),b.scale(r),k.scale(b.scale());var s=b.translate();return o=c(o),s[0]+=i[0]-o[0],s[1]+=i[1]-o[1],b.translate(s),k.translate(b.translate()),!0
}function p(e){var t=b.translate(),a=n(),r=b(e);return r[0]===a[0]&&r[1]===a[1]?!1:(b.translate([t[0]-r[0]+a[0],t[1]-r[1]+a[1]]),k.translate(b.translate()),!0)}var m,h,g,f,y=[1,1],v=d3.dispatch("move","drawn"),b=d3.geo.mercator().scale(1024),w=iD.svg.RoundProjection(b),k=d3.behavior.zoom().translate(b.translate()).scale(b.scale()).scaleExtent([1024,256*Math.pow(2,24)]).on("zoom",i),x=!0,M=0,D=[iD.Background().projection(b),iD.LocalGpx(e).projection(b)],S=iD.util.prefixCSSProperty("Transform"),z=iD.svg.Points(w,e),T=iD.svg.Vertices(w,e),C=iD.svg.Lines(b),j=iD.svg.Areas(w),A=iD.svg.Midpoints(w),E=iD.svg.Labels(w,e),O=iD.ui.Tail();t.mouseCoordinates=function(){try{return b.invert(d3.mouse(h.node()))}catch(e){return[0/0,0/0]}},t.dblclickEnable=function(e){return arguments.length?(x=e,t):x},t.pan=function(e){var t=b.translate();return t[0]+=e[0],t[1]+=e[1],b.translate(t),k.translate(b.translate()),s()},t.size=function(e){if(!arguments.length)return y;var n=t.center();return y=e,h.size(y),D.map(function(e){e.size(y)}),b.clipExtent([[0,0],y]),p(n),s()},t.zoomIn=function(){return t.zoom(Math.ceil(t.zoom()+1))},t.zoomOut=function(){return t.zoom(Math.floor(t.zoom()-1))},t.center=function(e){return arguments.length?(p(e)&&v.move(t),s()):b.invert(n())},t.zoom=function(e){return arguments.length?(d(e)&&v.move(t),s()):Math.max(Math.log(b.scale())/Math.LN2-8,0)},t.centerZoom=function(e,n){var a=p(e),r=d(n);return(a||r)&&v.move(t),s()},t.centerEase=function(e){var n,a=t.center().slice(),r=0;return h.one("mousedown.ease",function(){n=!0}),d3.timer(function(){return n?!0:(t.center(iD.geo.interp(a,e,(r+=1)/10)),10==r)},20),t},t.extent=function(e){if(!arguments.length)return new iD.geo.Extent(b.invert([0,y[1]]),b.invert([y[0],0]));var n=iD.geo.Extent(e);t.centerZoom(n.center(),t.extentZoom(n))},t.extentZoom=function(e){var n=iD.geo.Extent(e),a=b([n[0][0],n[1][1]]),r=b([n[1][0],n[0][1]]),i=(r[0]-a[0])/y[0],o=(r[1]-a[1])/y[1],s=Math.log(Math.abs(i))/Math.LN2,l=Math.log(Math.abs(o))/Math.LN2,u=t.zoom()-Math.max(s,l);return u},t.flush=function(){return e.connection().flush(),e.history().reset(),t};var N={};return t.tail=function(e){return e&&void 0!==N[e]||(O.text(e),N[e]=!0),t},t.editable=function(){return t.zoom()>=16},t.minzoom=function(e){return arguments.length?(M=e,t):M},t.layers=D,t.projection=b,t.redraw=s,d3.rebind(t,v,"on")},iD.svg={RoundProjection:function(e){return function(t){return iD.geo.roundCoords(e(t))}},PointTransform:function(e){return function(t){var n=e(t.loc);return"translate("+n[0]+","+n[1]+")"}},LineString:function(e,t,n,a){var r={};return function(n){if(void 0!==r[n.id])return r[n.id];var i,o,s=!1,l="";return d3.geo.stream({type:"LineString",coordinates:t.childNodes(n).map(function(e){return e.loc})},e.stream({lineStart:function(){i=null,s=!1},lineEnd:function(){},point:function(e,t){if(s||(l+="M"),o=[Math.floor(e),Math.floor(t)],a&&i&&iD.geo.dist(i,o)>a){var n=iD.geo.dist(i,o),r=Math.atan2(o[1]-i[1],o[0]-i[0]),u=i.slice();for(u[0]+=Math.cos(r)*a,u[1]+=Math.sin(r)*a;n>iD.geo.dist(i,u);)s&&(l+="L"),l+=Math.floor(u[0])+","+Math.floor(u[1]),s=s||!0,u[0]+=Math.cos(r)*a,u[1]+=Math.sin(r)*a}s&&(l+="L"),l+=o[0]+","+o[1],s=s||!0,i=o}})),""===l?(r[n.id]=null,r[n.id]):(r[n.id]=l,r[n.id])}},MultipolygonMemberTags:function(e){return function(t){var n=t.tags;return e.parentRelations(t).forEach(function(e){e.isMultipolygon()&&(n=_.extend({},e.tags,n))}),n}}},iD.svg.Areas=function(e){function t(e,t){if("way"!==e.type)return!1;var n=t.parentRelations(e);if(1!==n.length)return!1;var a=n[0];if(!a.isMultipolygon()||Object.keys(a.tags).length>1)return!1;for(var r,i=a.members,o=0;i.length>o;o++){if(r=i[o],r.id===e.id&&r.role&&"outer"!==r.role)return!1;if(r.id!==e.id&&(!r.role||"outer"===r.role))return!1}return a}function n(e){e.each(function(e){for(var t=0;r.length>t;t++)if(a.hasOwnProperty(e.tags[r[t]]))return this.style.fill='url("#pattern-'+a[e.tags[r[t]]]+'")',void 0;this.style.fill=""})}var a={wetland:"wetland",beach:"beach",scrub:"scrub",construction:"construction",cemetery:"cemetery",grave_yard:"cemetery",meadow:"meadow",farm:"farmland",farmland:"farmland",orchard:"orchard"},r=["landuse","natural","amenity"];return function(a,r,i,o){function s(e,t,a,i,o){var s=iD.svg.TagClasses();"stroke"===i&&s.tags(iD.svg.MultipolygonMemberTags(r));var l=e.selectAll("path.area").filter(a).data(t,iD.Entity.key);return l.enter().append("path").attr("class",function(e){return e.type+" area "+i}),l.order().attr("d",function(e){return u(e.asGeoJSON(r,o))}).call(s).call(iD.svg.MemberClasses(r)),"fill"===i&&l.call(n),l.exit().remove(),l}for(var l,u=d3.geo.path().projection(e),c={},d=0;i.length>d;d++){var p=i[d];"area"===p.geometry(r)&&((l=t(p,r))?c[l.id]={entity:l.mergeTags(p.tags),area:Math.abs(u.area(p.asGeoJSON(r,!0)))}:c[p.id]||(c[p.id]={entity:p,area:Math.abs(u.area(p.asGeoJSON(r,!0)))}))}c=d3.values(c),c.sort(function(e,t){return t.area-e.area}),c=_.pluck(c,"entity");var m=c.filter(function(e){return"way"===e.type}),h=a.select(".layer-shadow"),g=a.select(".layer-fill"),f=a.select(".layer-stroke");s(h,m,o,"shadow"),s(g,c,o,"fill",!0),s(f,m,o,"stroke")}},iD.svg.Labels=function(e,t){function n(e){return _.any(D,function(t){return e.id.indexOf(t)>=0})}function a(e,t){return function(n,a){return e[a][t]}}function r(e,t,n){var a=S[t];return a||(a=S[t]={}),a[e]?a[e]:n?(a[e]=n.getComputedTextLength(),a[e]):2*(t/3)*e.length}function i(e,t,n,a,r){var i=e.selectAll("text."+a).filter(n).data(t,iD.Entity.key);i.enter().append("text").attr("class",function(e,t){return a+" "+r[t].classes}).append("textPath").attr("class","textpath"),i.selectAll(".textpath").filter(n).data(t,iD.Entity.key).attr({startOffset:"50%","xlink:href":function(e){return"#labelpath-"+e.id}}).text(function(e){return h(e)}),i.exit().remove()}function o(e,t,n,r,i){var o=e.selectAll("path").filter(n).data(t,iD.Entity.key);o.enter().append("path").style("stroke-width",a(i,"font-size")).attr("id",function(e){return"labelpath-"+e.id}).attr("class",r),o.attr("d",a(i,"lineString")),o.exit().remove()}function s(e,t,n,i,o){var s=e.selectAll("text."+i).filter(n).data(t,iD.Entity.key);return s.enter().append("text").attr("class",function(e,t){return i+" "+o[t].classes}),s.attr("x",a(o,"x")).attr("y",a(o,"y")).style("text-anchor",a(o,"textAnchor")).text(function(e){return h(e)}).each(function(e,t){r(h(e),o[t].height,this)}),s.exit().remove(),s}function l(e,t,n,a,r){function i(e,t){return r[t].hasOwnProperty("x")&&r[t].hasOwnProperty("y")}return t=t.filter(i),r=r.filter(i),s(e,t,n,a,r)}function u(e,n,r,i,o){var s=e.selectAll("use").filter(r).data(n,iD.Entity.key);s.enter().append("use").attr("clip-path","url(#clip-square-18)").attr("class","icon"),s.attr("transform",a(o,"transform")).attr("xlink:href",function(e){return"#maki-"+t.presets().match(e,t.graph()).icon+"-18"}),s.exit().remove()}function c(e){var t=Math.atan2(e[1][1]-e[0][1],e[1][0]-e[0][0]);return!(e[0][0]<e[e.length-1][0]&&Math.PI/2>t&&t>-Math.PI/2)}function d(e){return"M"+e.join("L")}function p(e,t,n){function a(t){var n=e[t][0]-e[t+1][0],a=e[t][1]-e[t+1][1];return Math.sqrt(n*n+a*a)}for(var r,i,o,s,l=0,u=0;e.length-1>u;u++){var c,d=a(u);!r&&l+d>=t&&(c=(t-l)/d,r=[e[u][0]+c*(e[u+1][0]-e[u][0]),e[u][1]+c*(e[u+1][1]-e[u][1])],o=u+1),!i&&l+d>=n&&(c=(n-l)/d,i=[e[u][0]+c*(e[u+1][0]-e[u][0]),e[u][1]+c*(e[u+1][1]-e[u][1])],s=u+1),l+=d}var p=e.slice(o,s);return p.unshift(r),p.push(i),p}function m(){function e(){""!==this._opacity&&(this.style.opacity="",this._opacity="")}var t=f(d3.event),n=50,a=new RTree.Rectangle(t[0]-n,t[1]-n,2*n,2*n),r=_.pluck(z.search(a,this),"leaf"),i=d3.set(r),o=d3.select(this);o.selectAll(".layer-label text, .layer-halo path, .layer-halo text").each(e),r.length&&o.selectAll(".layer-label text, .layer-halo path, .layer-halo text").filter(function(e){return i.has(e.id)}).style("opacity",0).property("_opacity",0)}function h(e){return e.tags[C]||e.tags.name}var g,f,y,v=[["line","aeroway"],["line","highway"],["line","railway"],["line","waterway"],["area","aeroway"],["area","amenity"],["area","building"],["area","historic"],["area","leisure"],["area","man_made"],["area","natural"],["area","shop"],["area","tourism"],["point","aeroway"],["point","amenity"],["point","building"],["point","historic"],["point","leisure"],["point","man_made"],["point","natural"],["point","shop"],["point","tourism"],["line","name"],["area","name"],["point","name"]],b=12,w=v.map(function(e){var t=iD.util.getStyle("text."+e[0]+".tag-"+e[1]),n=t&&t.cssText.match("font-size: ([0-9]{1,2})px;");return n?parseInt(n[1],10):(t=iD.util.getStyle("text."+e[0]),n=t&&t.cssText.match("font-size: ([0-9]{1,2})px;"),n?parseInt(n[1],10):b)}),k=18,x=[[15,-11,"start"],[10,-11,"start"],[-15,-11,"end"]],M=[50,45,55,40,60,35,65,30,70,25,75,20,80,15,95,10,90,5,95],D=["building","landuse","natural"],S={},z=new RTree,T={},C="name:"+iD.detect().locale.toLowerCase().split("-")[0];return function(a,b,D,S,C,j){function A(t,n,a){var r=e(t.loc),i=5,o=x[0],s={height:a,width:n,x:r[0]+o[0],y:r[1]+o[1],textAnchor:o[2]},l=new RTree.Rectangle(s.x-i,s.y-i,n+2*i,a+2*i);return N(l,t.id)?s:void 0}function E(t,n,a){var r=_.pluck(b.childNodes(t),"loc").map(e),i=iD.geo.pathLength(r);if(!(n+20>i))for(var o=0;M.length>o;o++){var s=M[o],l=s/100*i,u=l-n/2;if(!(0>u||u+n>i)){var m=p(r,u,u+n),h=c(m),g=new RTree.Rectangle(Math.min(m[0][0],m[m.length-1][0])-10,Math.min(m[0][1],m[m.length-1][1])-10,Math.abs(m[0][0]-m[m.length-1][0])+20,Math.abs(m[0][1]-m[m.length-1][1])+30);if(h&&(m=m.reverse()),N(g,t.id))return{"font-size":a+2,lineString:d(m),startOffset:s+"%"}}}}function O(t,n,a){var r,i=d3.geo.path().projection(e),o=i.centroid(t.asGeoJSON(b,!0)),s=t.extent(b),l=e(s[1])[0]-e(s[0])[0];if(!(20>l)){var u=o[0]-k/2,c=o[1]-k/2,d=k+5,p={transform:"translate("+u+","+c+")"};return n&&l>=n+20?(p.x=o[0],p.y=o[1]+d,p.textAnchor="middle",p.height=a,r=new RTree.Rectangle(p.x-n/2,p.y,n,a+d)):r=new RTree.Rectangle(u,c,k,k),N(r,t.id)?p:void 0}}function N(e,t){if(0>e.x1||0>e.y1||e.x2>C[0]||e.y2>C[1])return!1;var n=0===z.search(e,!0).length;return n&&(z.insert(e,t),T[t]=e),n}f&&C.join(",")===y||(f=iD.util.fastMouse(a.node().parentNode),y=C.join(",")),g||(g=d3.select(a.node().parentNode).on("mousemove.hidelabels",m).on("mousedown.hidelabels",function(){g.on("mousemove.hidelabels",null)}).on("mouseup.hidelabels",function(){g.on("mousemove.hidelabels",m)}));var P,R,L,B=!a.select(".node.point").node(),q=[];for(P=0;v.length>P;P++)q.push([]);if(j)z=new RTree,T={};else for(P=0;D.length>P;P++)z.remove(T[D[P].id],D[P].id);for(P=0;D.length>P;P++){L=D[P];var F=L.geometry(b),I="area"===F&&t.presets().match(L,b),H=I&&!n(I)&&I.icon;if((h(L)||H)&&(!B||"point"!==F))for(R=0;v.length>R;R++)if(L.geometry(b)===v[R][0]&&L.tags[v[R][1]]){q[R].push(L);break}}var V={point:[],line:[],area:[]},W={point:[],line:[],area:[]};for(R=0;q.length>R;R++){var G=w[R];for(P=0;q[R].length>P;P++){L=q[R][P];var K,U=h(L)&&r(h(L),G);"point"===L.geometry(b)?K=A(L,U,G):"line"===L.geometry(b)?K=E(L,U,G):"area"===L.geometry(b)&&(K=O(L,U,G)),K&&(K.classes=L.geometry(b)+" tag-"+v[R][1],V[L.geometry(b)].push(K),W[L.geometry(b)].push(L))}}var X=a.select(".layer-label"),Y=a.select(".layer-halo");s(X,W.point,S,"pointlabel",V.point),s(Y,W.point,S,"pointlabel-halo",V.point),o(Y,W.line,S,"",V.line),i(X,W.line,S,"linelabel",V.line),i(Y,W.line,S,"linelabel-halo",V.line),l(X,W.area,S,"arealabel",V.area),l(Y,W.area,S,"arealabel-halo",V.area),u(X,W.area,S,"arealabel-icon",V.area)}},iD.svg.Lines=function(e){function t(e,t){if(!(e&&t&&e.tags&&t.tags))return 0;if(void 0!==e.tags.layer&&void 0!==t.tags.layer)return e.tags.layer-t.tags.layer;if(e.tags.bridge)return 1;if(t.tags.bridge)return-1;if(e.tags.tunnel)return-1;if(t.tags.tunnel)return 1;var n=0,r=0;return e.tags.highway&&t.tags.highway&&(n-=a[e.tags.highway],r-=a[t.tags.highway]),n-r}function n(e,t){if("way"!==e.type)return!1;var n=t.parentRelations(e);if(1!==n.length)return!1;var a=n[0];if(!a.isMultipolygon()||Object.keys(a.tags).length>1)return!1;for(var r,i,o=a.members,s=0;o.length>s;s++)if(r=o[s],!r.role||"outer"===r.role){if(i)return!1;i=t.entity(r.id)}return i}var a={motorway:0,motorway_link:1,trunk:2,trunk_link:3,primary:4,primary_link:5,secondary:6,tertiary:7,unclassified:8,residential:9,service:10,footway:11};return function(a,r,i,o,s){function l(e,t,n,a,i){t=t.filter(function(e){return i(e)});var o=iD.svg.TagClasses();"stroke"===a&&o.tags(iD.svg.MultipolygonMemberTags(r));var s=e.selectAll("path.line").filter(n).data(t,iD.Entity.key);return s.enter().append("path").attr("class","way line "+a),s.order().attr("d",i).call(o).call(iD.svg.MemberClasses(r)),s.exit().remove(),s}for(var u=[],c=0;i.length>c;c++){var d=i[c],p=n(d,r);p?u.push(d.mergeTags(p.tags)):"line"===d.geometry(r)&&u.push(d)}u.sort(t);var m=iD.svg.LineString(e,r,s),h=iD.svg.LineString(e,r,s,35),g=a.select(".layer-shadow"),f=a.select(".layer-casing"),y=a.select(".layer-stroke"),v=(a.select("defs"),a.select(".layer-text"),l(g,u,o,"shadow",m),l(f,u,o,"casing",m),l(y,u,o,"stroke",m));v.filter(function(e){return e.isOneWay()}).attr("marker-mid","url(#oneway-marker)").attr("d",h)}},iD.svg.MemberClasses=function(e){var t=/^member-?/;return function(n){n.each(function(n){var a,r=this.className;void 0!==r.baseVal&&(r=r.baseVal),a=r.trim().split(/\s+/).filter(function(e){return e.length&&!t.test(e)}).join(" ");var i=e.parentRelations(n);i.length&&(a+=" member"),i.forEach(function(e){a+=" member-type-"+e.tags.type,a+=" member-role-"+e.memberById(n.id).role}),a=a.trim(),a!==r&&d3.select(this).attr("class",a)})}},iD.svg.Midpoints=function(e){return function(t,n,a,r,i){var o={};if(!t.select(".layer-hit g.vertex").node())return t.selectAll(".layer-hit g.midpoint").remove();for(var s=0;a.length>s;s++)if("way"===a[s].type)for(var l=a[s],u=n.childNodes(l),c=0;u.length-1>c;c++){var d=u[c],p=u[c+1],m=[d.id,p.id].sort().join("-");if(!o[m]){var h=iD.geo.interp(d.loc,p.loc,.5);i.intersects(h)&&iD.geo.dist(e(d.loc),e(p.loc))>40&&(o[m]={type:"midpoint",id:m,loc:h,edge:[d.id,p.id]})}}var g=t.select(".layer-hit").selectAll("g.midpoint").filter(r).data(_.values(o),function(e){return e.id}),f=g.enter().insert("g",":first-child").attr("class","midpoint");f.append("circle").attr("r",7).attr("class","shadow"),f.append("circle").attr("r",3).attr("class","fill"),g.attr("transform",iD.svg.PointTransform(e)),g.select("circle.shadow"),g.select("circle.fill"),g.exit().remove()}},iD.svg.Points=function(e,t){function n(e,t){e.attr("class",t).attr("transform","translate(-8, -23)").attr("d","M 17,8 C 17,13 11,21 8.5,23.5 C 6,21 0,13 0,8 C 0,4 4,-0.5 8.5,-0.5 C 13,-0.5 17,4 17,8 z")}return function(a,r,i,o){for(var s=[],l=0;i.length>l;l++){var u=i[l];"point"===u.geometry(r)&&s.push(u)}if(s.length>100)return a.select(".layer-hit").selectAll("g.point").remove();var c=a.select(".layer-hit").selectAll("g.point").filter(o).data(s,iD.Entity.key),d=c.enter().append("g").attr("class","node point");d.append("path").call(n,"shadow"),d.append("path").call(n,"stroke"),d.append("use").attr("class","icon").attr("transform","translate(-6, -20)").attr("clip-path","url(#clip-square-12)"),c.attr("transform",iD.svg.PointTransform(e)).call(iD.svg.TagClasses()).call(iD.svg.MemberClasses(r)),c.select(".shadow"),c.select(".stroke"),c.select(".icon").attr("xlink:href",function(e){var n=t.presets().match(e,r);return n.icon?"#maki-"+n.icon+"-12":""}),c.exit().remove()}},iD.svg.Surface=function(){function e(e){return _.find(document.styleSheets,function(t){return t.href&&t.href.indexOf(e)>0})}function t(e){var t=document.createElement("img");t.src=e.attr("xlink:href"),t.onload=function(){e.attr({width:t.width,height:t.height})}}function n(t,n){var a=[],r=e(t);return r?(_.forEach(r.cssRules,function(e){var t=e.selectorText,r=t&&t.match(n);if(r){var i=r[1].replace("feature","maki");r=e.style.backgroundPosition.match(/(-?\d+)px (-?\d+)px/),a.push({id:i,x:r[1],y:r[2]})}}),a):a}return function(e){var a=e.append("defs");a.append("marker").attr({id:"oneway-marker",viewBox:"0 0 10 10",refY:2.5,markerWidth:2,markerHeight:2,orient:"auto"}).append("path").attr("d","M 0 0 L 5 2.5 L 0 5 z");var r=a.selectAll("pattern").data([["wetland","wetland"],["construction","construction"],["cemetery","cemetery"],["orchard","orchard"],["farmland","farmland"],["beach","dots"],["scrub","dots"],["meadow","dots"]]).enter().append("pattern").attr({id:function(e){return"pattern-"+e[0]},width:32,height:32,patternUnits:"userSpaceOnUse"});r.append("rect").attr({x:0,y:0,width:32,height:32,"class":function(e){return"pattern-color-"+e[0]}}),r.append("image").attr({x:0,y:0,width:32,height:32}).attr("xlink:href",function(e){return"img/pattern/"+e[1]+".png"}),a.selectAll().data([12,18,20]).enter().append("clipPath").attr("id",function(e){return"clip-square-"+e}).append("rect").attr("x",0).attr("y",0).attr("width",function(e){return e}).attr("height",function(e){return e}),a.append("image").attr("id","sprite").attr("xlink:href","img/sprite.png").call(t),a.selectAll().data(n("app.css",/^\.(icon-operation-[a-z0-9-]+)$/)).enter().append("use").attr("id",function(e){return e.id}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).attr("xlink:href","#sprite"),a.append("image").attr("id","maki-sprite").attr("xlink:href","img/feature-icons.png").call(t),a.selectAll().data(n("feature-icons.css",/^\.(feature-[a-z0-9-]+-(12|18))$/)).enter().append("use").attr("id",function(e){return e.id}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).attr("xlink:href","#maki-sprite");var i=e.selectAll(".layer").data(["fill","shadow","casing","stroke","text","hit","halo","label"]);i.enter().append("g").attr("class",function(e){return"layer layer-"+e})}},iD.svg.TagClasses=function(){var e=d3.set(["highway","railway","waterway","power","motorway","amenity","natural","landuse","building","oneway","bridge","boundary","tunnel","leisure","construction","place"]),t=/^tag-/,n=function(e){return e.tags},a=function(a){a.each(function(a){var r,i=this.className;void 0!==i.baseVal&&(i=i.baseVal),r=i.trim().split(/\s+/).filter(function(e){return e.length&&!t.test(e)}).join(" ");var o=n(a);for(var s in o)e.has(s)&&(r+=" tag-"+s+" "+"tag-"+s+"-"+o[s]);r=r.trim(),r!==i&&d3.select(this).attr("class",r)})};return a.tags=function(e){return arguments.length?(n=e,a):n},a},iD.svg.Vertices=function(e,t){var n={shadow:[6,7.5,7.5,11.5],stroke:[2.5,3.5,3.5,7],fill:[1,1.5,1.5,1.5]};return function(a,r,i,o,s){function l(e){return 0!==s&&e.hasInterestingTags()&&t.presets().match(e,r).icon}function u(e){l(e)?d3.select(this).attr("cx",.5).attr("cy",-.5):d3.select(this).attr("cy",0).attr("cx",0)}for(var c=[],d=0;i.length>d;d++){var p=i[d];"vertex"===p.geometry(r)&&c.push(p)}if(c.length>2e3)return a.select(".layer-hit").selectAll("g.vertex").remove();var m=a.select(".layer-hit").selectAll("g.vertex").filter(o).data(c,iD.Entity.key),h=m.enter().insert("g",":first-child").attr("class","node vertex");s=17>s?0:18>s?1:2,h.append("circle").attr("class","node vertex shadow"),h.append("circle").attr("class","node vertex stroke"),m.attr("transform",iD.svg.PointTransform(e)).call(iD.svg.TagClasses()).call(iD.svg.MemberClasses(r)).classed("tagged",function(e){return e.hasInterestingTags()}).classed("shared",function(e){return r.isShared(e)}),m.select("circle.shadow").each(u).attr("r",function(e){return n.shadow[l(e)?3:s]}),m.select("circle.stroke").each(u).attr("r",function(e){return n.stroke[l(e)?3:s]});var g=m.selectAll("circle.fill").data(function(e){return l(e)?[]:[e]},iD.Entity.key);g.enter().append("circle").attr("class","node vertex fill").each(u).attr("r",n.fill[s]),g.exit().remove();var f=m.selectAll("use").data(function(e){var t=l(e);return t?[t]:[]},function(e){return e});f.enter().append("use").attr("transform","translate(-6, -6)").attr("clip-path","url(#clip-square-12)").attr("xlink:href",function(e){return"#maki-"+e+"-12"}),f.exit().remove(),m.exit().remove()}},iD.ui=function(e){return function(n){function a(t){return function(){e.pan(t)}}e.container(n);var r=e.history(),i=e.map();if(!iD.detect().support)return n.text(t("browser_notice")).style({"text-align":"center","font-style":"italic"}),void 0;iD.detect().opera&&n.classed("opera",!0);var o=iD.behavior.Hash(e);o(),o.hadHash||i.centerZoom([-77.02271,38.90085],20);var s=n.append("div").attr("id","map").call(i),l=n.append("div").attr("id","bar").attr("class","pad1 fillD"),u=l.append("div").attr("class","limiter");u.append("div").attr("class","button-wrap joined col3").call(iD.ui.Modes(e),u),u.append("div").attr("class","button-wrap joined col1").call(iD.ui.UndoRedo(e)),u.append("div").attr("class","button-wrap col1").call(iD.ui.Save(e)),l.append("div").attr("class","spinner").call(iD.ui.Spinner(e)),n.append("div").style("display","none").attr("class","help-wrap fillL col5"),n.append("div").attr("class","map-control zoombuttons").call(iD.ui.Zoom(e)),n.append("div").attr("class","map-control geocode-control").call(iD.ui.Geocoder(e)),n.append("div").attr("class","map-control background-control").call(iD.ui.Background(e)),n.append("div").attr("class","map-control geolocate-control").call(iD.ui.Geolocate(i)),n.append("div").attr("class","map-control help-control").call(iD.ui.Help(e)),n.append("div").style("display","none").attr("class","inspector-wrap fr content col4"),n.append("idv").attr("class","attribution").attr("tabindex",-1).call(iD.ui.Attribution(e));var c=n.append("div").attr("class","col12 about-block fillD");c.append("div").attr("class","account").call(iD.ui.Account(e));var d=c.append("ul").attr("id","about").attr("class","link-list");d.append("li").append("a").attr("target","_blank").attr("tabindex",-1).attr("href","http://github.com/systemed/iD").text(iD.version),d.append("li").append("a").attr("target","_blank").attr("tabindex",-1).attr("href","https://help.openfloorplan.org/questions/ask/").text(t("report_a_bug")),d.append("li").attr("class","source-switch").call(iD.ui.SourceSwitch(e)),d.append("li").attr("class","user-list").attr("tabindex",-1).call(iD.ui.Contributors(e)),window.onbeforeunload=function(){return r.save(),r.hasChanges()?t("save.unsaved_changes"):void 0},d3.select(window).on("resize.editor",function(){i.size(s.size())});var p=5,m=d3.keybinding("main").on("",function(){d3.event.preventDefault()}).on("",a([p,0])).on("",a([0,p])).on("",a([-p,0])).on("",a([0,-p]));d3.select(document).call(m),e.enter(iD.modes.Browse(e)),e.container().call(iD.ui.Splash(e)).call(iD.ui.Restore(e))}},iD.ui.tooltipHtml=function(e,t){return"<span>"+e+"</span>"+'<div class="keyhint-wrap"><span class="keyhint"> '+t+"</span></div>"},iD.ui.Account=function(e){function n(e){return a.authenticated()?(e.style("display","block"),a.userDetails(function(n,r){if(e.html(""),!n){var i=e.append("a").attr("href",a.url()+"/user/"+r.display_name).attr("target","_blank");r.image_url?i.append("img").attr("class","icon icon-pre-text user-icon").attr("src",r.image_url):i.append("span").attr("class","icon avatar icon-pre-text"),i.append("span").attr("class","label").text(r.display_name),e.append("a").attr("class","logout").attr("href","#").text(t("logout")).on("click.logout",function(){d3.event.preventDefault(),a.logout()})}}),void 0):(e.html("").style("display","none"),void 0)}var a=e.connection();return function(e){a.on("auth",function(){n(e)}),n(e)}},iD.ui.Attribution=function(e){function t(){var t=e.background().source(),a=n.html("").append("span").attr("class","provided-by");if(t){var r=t.data.sourcetag||t.data.name;t.data.logo&&(r='<img class="source-image" src="img/'+t.data.logo+'">'),t.data.terms_url?a.append("a").attr("href",t.data.terms_url).attr("target","_blank").html(r):a.text(r);var i=t.copyrightNotices(e.map().zoom(),e.map().extent());i&&a.append("span").text(i)}}var n;return function(a){n=a,e.background().on("change.attribution",t),e.map().on("move.attribution",_.throttle(t,400)),t()}},iD.ui.Background=function(e){function n(){var t=e.map().extent();return s.filter(function(e){return!e.data.extent||iD.geo.Extent(e.data.extent).intersects(t)})}function a(a){function s(){f.hide(y),l(g.classed("hide")),g.selectAll(".toggle-list li:first-child a").node().focus()}function l(e){e!==b&&(y.classed("active",e),g.call(iD.ui.Toggle(e)),b=e,e?a.on("mousedown.background-inside",function(){return d3.event.stopPropagation()}):a.on("mousedown.background-inside",null))}function u(t){e.map().layersurface.selectAll(".layer-layer").filter(function(t){return t==e.map().layers[0]}).transition().style("opacity",t).attr("data-opacity",t),w.selectAll("li").classed("selected",!1),d3.event&&d3.select(this).classed("selected",!0)}function c(){g.selectAll("a.layer").classed("selected",function(t){return t.data.name===e.background().source().data.name})}function d(t){if(d3.event.preventDefault(),"Custom"===t.data.name){var n=t();if(!n)return;t=n}e.background().source(t),"Custom (customized)"===t.data.name?e.history().imagery_used("Custom ("+t.data.template+")"):e.history().imagery_used(t.data.sourcetag||t.data.name),e.redraw(),c()}function p(){d3.event.preventDefault(),_.isEmpty(e.map().layers[1].geojson())||(e.map().layers[1].enable(!e.map().layers[1].enable()),d3.select(this).classed("selected",e.map().layers[1].enable()),e.redraw())}function m(){var t=k.selectAll("a.layer").data(n(),function(e){return e.data.name}),a=t.enter().append("li").append("a");a.attr("href","#").attr("class","layer").on("click.set-source",d),a.filter(function(e){return e.data.description}).call(bootstrap.tooltip().title(function(e){return e.data.description}).placement("right")),a.insert("span").attr("class","icon toggle icon-pre-text"),a.insert("span").text(function(e){return e.data.name}),x.classed("selected",function(){var t=e.map().layers[1];return!_.isEmpty(t.geojson())&&t.enable()}),t.exit().remove(),c()}function h(t){function n(){e.background().nudge(t[1],e.map().zoom()),e.redraw()}var a=window.setInterval(n,100);d3.select(this).on("mouseup",function(){window.clearInterval(a),n()})}var g=a.append("div").attr("class","content fillD map-overlay hide"),f=bootstrap.tooltip().placement("right").html(!0).title(iD.ui.tooltipHtml(t("background.description"),r)),y=a.append("button").attr("tabindex",-1).attr("class","fillD").on("click.background-toggle",s).call(f),v=g.append("div").attr("class","opacity-options-wrapper"),b=!1;y.append("span").attr("class","layers icon"),v.append("h4").text(t("background.title")),e.surface().on("mousedown.background-outside",function(){l(!1)}),e.container().on("mousedown.background-outside",function(){l(!1)});var w=v.append("ul").attr("class","opacity-options");w.selectAll("div.opacity").data(i).enter().append("li").attr("data-original-title",function(e){return t("background.percent_brightness",{opacity:100*e})}).on("click.set-opacity",u).html("<div class='select-box'></div>").call(bootstrap.tooltip().placement("top")).append("div").attr("class","opacity").style("opacity",String),v.select(".opacity-options li:nth-child(2)").classed("selected",!0);var k=g.append("ul").attr("class","toggle-list fillL"),x=g.append("ul").style("display",iD.detect().filedrop?"block":"none").attr("class","toggle-list fillL").append("li").append("a").classed("layer-toggle-gpx",!0).call(bootstrap.tooltip().title(t("gpx.drag_drop")).placement("right")).on("click.set-gpx",p);x.append("span").attr("class","icon toggle icon-pre-text"),x.append("span").text(t("gpx.local_layer")),x.append("a").attr("class","icon geocode layer-extent").on("click",function(){d3.event.preventDefault(),d3.event.stopPropagation(),e.map().extent(d3.geo.bounds(e.map().layers[1].geojson()))});var M=g.append("div").attr("class","adjustments pad1");M.append("a").text(t("background.fix_misalignment")).attr("href","#").classed("hide-toggle",!0).classed("expanded",!1).on("click",function(){var e=d3.select(this).classed("expanded");D.style("display",e?"none":"block"),d3.select(this).classed("expanded",!e),d3.event.preventDefault()});var D=M.append("div").attr("class","nudge-container").style("display","none");D.selectAll("button").data(o).enter().append("button").attr("class",function(e){return e[0]+" nudge"}).text(function(e){return e[0]}).on("mousedown",h),D.append("button").text(t("background.reset")).attr("class","reset").on("click",function(){e.background().offset([0,0]),e.redraw()}),e.map().on("move.background-update",_.debounce(m,1e3)),m(),u(.5);var S=d3.keybinding("background");S.on(r,s),d3.select(document).call(S)}var r="b",i=[1,.5,0],o=[["left",[1,0]],["top",[0,-1]],["right",[-1,0]],["bottom",[0,1]]],s=e.backgroundSources();return a},iD.ui.cmd=function(e){if("mac"===iD.detect().os)return e;for(var t={"":"Ctrl","":"Shift","":"Alt","":"Backspace","":"Delete"},n=[],a=0;e.length>a;a++)e[a]in t?n.push(t[e[a]]):n.push(e[a]);return n.join("+")},iD.ui.Commit=function(e){function n(e){for(var t=[],n=-1,a=0;e.length>a;a++){var r={name:e[a].friendlyName(),type:e[a].type,count:1,tagText:iD.util.tagText(e[a])};t[n]&&t[n].name==r.name&&t[n].tagText==r.tagText?t[n].count++:t[++n]=r}return t}function a(a){function i(e){return o[e].length}var o=a.datum(),s=o.connection,l=s.user(),u=a.append("div").attr("class","header modal-section"),c=a.append("div").attr("class","body");u.append("h3").text(t("commit.title"));var d=c.append("div").attr("class","modal-section form-field");d.append("label").attr("class","form-label").text(t("commit.message_label"));var p=d.append("textarea").attr("placeholder",t("commit.description_placeholder")).property("value",e.storage("comment")||"");p.node().select();var m=c.append("div").attr("class","modal-section cf"),h=d3.select(document.createElement("div"));l.image_url&&h.append("img").attr("src",l.image_url).attr("class","icon icon-pre-text user-icon"),h.append("a").attr("class","user-info").text(l.display_name).attr("href",s.url()+"/user/"+l.display_name).attr("target","_blank"),m.append("p").attr("class","commit-info").html(t("commit.upload_explanation",{user:h.html()}));var g=m.append("button").attr("class","action col2 button").on("click.save",function(){var e=p.node().value;localStorage.comment=e,r.save({comment:e})});g.append("span").attr("class","label").text(t("commit.save"));var f=c.selectAll("div.warning-section").data(iD.validate(o,e.graph())).enter().append("div").attr("class","modal-section warning-section fillL2");f.append("h3").text(t("commit.warnings"));var y=f.append("ul").attr("class","changeset-list").selectAll("li").data(function(e){return e}).enter().append("li");y.filter(function(e){return e.entity}).append("button").attr("class","minor").on("click",r.fix).append("span").attr("class","icon warning"),y.append("strong").text(function(e){return e.message});var v=c.selectAll("div.commit-section").data(["modified","deleted","created"].filter(i)).enter().append("div").attr("class","commit-section modal-section fillL2");v.append("h3").text(function(e){return t("commit."+e)}).append("small").attr("class","count").text(i);var b=v.append("ul").attr("class","changeset-list").selectAll("li").data(function(e){return n(o[e])}).enter().append("li");b.append("strong").text(function(e){return e.count>1?e.type+"s ":e.type+" "}),b.append("span").text(function(e){return e.name}).attr("title",function(e){return e.tagText}),b.filter(function(e){return e.count>1}).append("span").attr("class","count").text(function(e){return e.count})}var r=d3.dispatch("cancel","save","fix");return d3.rebind(a,r,"on")},iD.ui.confirm=function(e){var t=iD.ui.modal(e);t.select(".modal").classed("modal-alert",!0);var n=t.select(".content");n.append("div").attr("class","modal-section header"),n.append("div").attr("class","modal-section message-text");var a=n.append("div").attr("class","modal-section buttons cf");return a.append("button").attr("class","col2 action").on("click.confirm",function(){t.remove()}).text("Okay"),t},iD.ui.Contributors=function(e){function n(n){var a={},r=4,i=e.intersects(e.map().extent());i.forEach(function(e){e&&e.user&&(a[e.user]=!0)});var o=Object.keys(a),s=o.slice(0,o.length>r?r-1:r);n.html("").append("span").attr("class","icon nearby icon-pre-text");var l=d3.select(document.createElement("span"));
if(l.selectAll().data(s).enter().append("a").attr("class","user-link").attr("href",function(t){return e.connection().userUrl(t)}).attr("target","_blank").attr("tabindex",-1).text(String),o.length>r){var u=d3.select(document.createElement("span"));u.append("a").attr("target","_blank").attr("tabindex",-1).attr("href",function(){var t=e.map().extent();return"http://localhost:3000/browse/changesets?bbox="+[t[0][0],t[0][1],t[1][0],t[1][1]]}).text(o.length-r+1),n.append("span").html(t("contributors.truncated_list",{users:l.html(),count:u.html()}))}else n.append("span").html(t("contributors.list",{users:l.html()}));o.length?"0"===n.style("opacity")&&n.transition().style("opacity",1):n.transition().style("opacity",0)}return function(t){n(t),e.connection().on("load.contributors",function(){n(t)}),e.map().on("move.contributors",_.debounce(function(){n(t)},500))}},iD.ui.flash=function(e){var t=iD.ui.modal(e);return t.select(".modal").classed("modal-flash",!0),t.select(".content").classed("modal-section",!0).append("div").attr("class","description"),t.on("click.flash",function(){t.remove()}),setTimeout(function(){return t.remove(),!0},1500),t},iD.ui.Geocoder=function(e){function n(e){return new iD.geo.Extent([parseFloat(e[3]),parseFloat(e[0])],[parseFloat(e[2]),parseFloat(e[1])])}function a(a){function i(){if(13===d3.event.keyCode){d3.event.preventDefault();var a=this.value;g.classed("loading",!0),d3.json("http://localhost:3000/search/"+encodeURIComponent(a)+"?limit=10&format=json",function(r,i){if(g.classed("loading",!1),r)return l();if(!i.length)return iD.ui.flash(e.container()).select(".content").append("h3").text(t("geocoder.no_results",{name:a}));if(i.length>1){var u=f.selectAll("span").data(i,function(e){return e.place_id});u.enter().append("span").text(function(e){return e.type.charAt(0).toUpperCase()+e.type.slice(1)+": "}).append("a").attr("tabindex",1).text(function(e){return e.display_name.length>80?e.display_name.substr(0,80)+"":e.display_name}).on("click",o).on("keydown",function(e){13==d3.event.keyCode&&o(e)}),u.exit().remove(),f.call(iD.ui.Toggle(!0))}else s(n(i[0].boundingbox))})}}function o(e){s(n(e.boundingbox))}function s(t){l();var n=e.map();n.extent(t),n.zoom()>19&&n.zoom(19)}function l(){c(!1)}function u(){d3.event&&d3.event.preventDefault(),p.hide(m),c(h.classed("hide"))}function c(e){e!==d&&(m.classed("active",e),h.call(iD.ui.Toggle(e)),e||f.classed("hide")||(f.call(iD.ui.Toggle(e)),f.selectAll("span").remove()),e?g.node().focus():g.node().blur(),d=e,e?a.on("mousedown.geocoder-inside",function(){return d3.event.stopPropagation()}):a.on("mousedown.geocoder-inside",null))}var d=!1,p=bootstrap.tooltip().placement("right").html(!0).title(iD.ui.tooltipHtml(t("geocoder.title"),r)),m=a.append("button").attr("tabindex",-1).on("click",u).call(p);m.append("span").attr("class","icon geocode light");var h=a.append("form"),g=h.attr("class","content fillL map-overlay hide").append("input").attr({type:"text",placeholder:t("geocoder.placeholder")}).attr("tabindex",1).on("keydown",i),f=a.append("div").attr("class","content fillD map-overlay hide");e.surface().on("mousedown.geocoder-outside",l),e.container().on("mousedown.b.geocoder-outside",l);var y=d3.keybinding("geocoder");y.on(r,u),d3.select(document).call(y)}var r="f";return a},iD.ui.Geolocate=function(e){function n(){navigator.geolocation.getCurrentPosition(a,r)}function a(t){e.center([t.coords.longitude,t.coords.latitude])}function r(){}return function(e){if(navigator.geolocation){var a=e.append("button").attr("tabindex",-1).attr("title",t("geolocate.title")).on("click",n).call(bootstrap.tooltip().placement("right"));a.append("span").attr("class","icon geolocate")}}},iD.ui.Help=function(e){function n(n){function r(){function n(e){o.text(e.title),s.html(e.html),s.selectAll("a").attr("target","_blank"),r.classed("selected",function(t){return t.title===e.title})}l=e.container().select(".help-wrap").html("");var a=l.append("ul").attr("class","toc"),r=a.selectAll("li").data(iD.data.doc).enter().append("li").append("a").text(function(e){return e.title}).on("click",n),i=l.append("div").attr("class","left-content"),o=i.append("h2").text(t("help.title")),s=i.append("div").attr("class","body");n(iD.data.doc[0])}function i(){s(!1)}function o(){d3.event&&d3.event.preventDefault(),c.hide(d),s(!d.classed("active"))}function s(e){function t(){l.on("mousedown.help-inside",function(){return d3.event.stopPropagation()}),n.on("mousedown.help-inside",function(){return d3.event.stopPropagation()})}e!==u&&(d.classed("active",e),u=e,e?l.style("display","block").style("left","-500px").transition().duration(200).style("left","0px").each("end",t):(l.style("left","0px").transition().duration(200).style("left","-500px").each("end",function(){d3.select(this).style("display","none")}),l.on("mousedown.help-inside",null)))}var l,u=!1,c=bootstrap.tooltip().placement("right").html(!0).title(iD.ui.tooltipHtml(t("help.title"),a)),d=n.append("button").attr("tabindex",-1).on("click",o).call(c);d.append("span").attr("class","icon help light"),e.surface().on("mousedown.help-outside",i),e.container().on("mousedown.b.help-outside",i),r();var p=d3.keybinding("help");p.on(a,o),d3.select(document).call(p)}var a="h";return n},iD.ui.Inspector=function(e,n){function a(a){n=e.entity(n.id),n&&!_.isEqual(n.tags,a)&&e.perform(iD.actions.ChangeTags(n.id,a),t("operations.change_tags.annotation"))}function r(){e.enter(iD.modes.Browse(e))}function i(){n=e.entity(n.id),n&&s.tags(n.tags)}function o(t){t.html("").style("display","block").style("right","-500px").style("opacity",1).transition().duration(200).style("right","0px");var o=t.append("div").classed("panewrap",!0),l=o.append("div").classed("pane",!0),u=o.append("div").classed("pane",!0),c=iD.ui.PresetGrid(e,n).on("close",r).on("choose",function(e){o.transition().style("right","0%"),u.call(s,e)});s=iD.ui.TagEditor(e,n).tags(n.tags).on("changeTags",a).on("close",r).on("choose",function(e){o.transition().style("right","-100%"),l.call(c,e)});var d=n.isNew()&&0===_.without(Object.keys(n.tags),"area").length;if(d?(o.style("right","-100%"),l.call(c)):(o.style("right","-0%"),u.call(s)),d3.event){var p=t.size(),m=e.map().size(),h=50,g=d3.event.clientX-m[0]+p[0]+h,f=m[0]/2+g+h;g>0&&p[1]>d3.event.clientY&&e.map().centerEase(e.projection.invert([f,m[1]/2]))}e.history().on("change.inspector",i)}var s;return o.close=function(t){t.transition().style("right","-500px").each("end",function(){d3.select(this).style("display","none").html("")}),d3.selectAll("div.typeahead").remove(),e.history().on("change.inspector",null)},o},iD.ui.Lasso=function(){function e(e){d3.select("#iD").classed("lasso",!0),o=e.append("g").attr("class","lasso hide"),i=o.append("rect").attr("class","lasso-box"),o.call(iD.ui.Toggle(!0))}function t(e){return"translate("+Math.min(e[0][0],e[1][0])+","+Math.min(e[0][1],e[1][1])+")"}function n(e){return Math.abs(e[0][0]-e[1][0])}function a(e){return Math.abs(e[0][1]-e[1][1])}function r(){i&&i.data([[s,l]]).attr("transform",t).attr("width",n).attr("height",a)}var i,o,s=[0,0],l=[0,0];return e.a=function(t){return arguments.length?(s=t,r(),e):s},e.b=function(t){return arguments.length?(l=t,r(),e):l},e.close=function(){o&&o.call(iD.ui.Toggle(!1,function(){d3.select(this).remove()})),d3.select("#iD").classed("lasso",!1)},e},iD.ui.loading=function(e,t,n){var a=iD.ui.modal(e,n),r=a.select(".content").classed("loading-modal",!0).append("div").attr("class","modal-section fillL");return r.append("img").attr("class","loader").attr("src","img/loader.gif"),r.append("h3").text(t||""),a.select("button.close").attr("class","hide"),a},iD.ui.modal=function(e,t){function n(){o.remove(),i.off()}var a=e.select("div.modal"),r=a.empty(),i=d3.keybinding("modal").on("",n).on("",n);d3.select(document).call(i),a.transition().style("opacity",0).remove();var o=e.append("div").attr("class","shaded").style("opacity",0).on("click.remove-modal",function(){d3.event.target!=this||t||d3.select(this).remove()}),s=o.append("div").attr("class","modal fillL col6");return s.append("button").attr("class","close").on("click",function(){t||o.remove()}).append("div").attr("class","icon close"),s.append("div").attr("class","content"),r?o.transition().style("opacity",1):o.style("opacity",1),o},iD.ui.Modes=function(e){var t=[iD.modes.AddPoint(e),iD.modes.AddLine(e),iD.modes.AddArea(e)];return function(n,a){function r(){e.map().editable()?(o.message(!1),i.attr("disabled",null)):(i.attr("disabled","disabled"),o.message(!0),e.enter(iD.modes.Browse(e)))}var i=n.selectAll("button.add-button").data(t);i.enter().append("button").attr("tabindex",-1).attr("class",function(e){return e.id+" add-button col4"}).on("click.mode-buttons",function(t){e.enter(t)}).call(bootstrap.tooltip().placement("bottom").html(!0).title(function(e){return iD.ui.tooltipHtml(e.description,e.key)}));var o=iD.ui.notice(a).message(!1).on("zoom",function(){e.map().zoom(16)});e.map().on("move.mode-buttons",_.debounce(r,500)),i.append("span").attr("class",function(e){return e.id+" icon icon-pre-text"}),i.append("span").attr("class","label").text(function(e){return e.title}),e.on("enter.editor",function(t){i.classed("active",function(e){return t.button===e.button}),e.container().classed("mode-"+t.id,!0)}),e.on("exit.editor",function(t){e.container().classed("mode-"+t.id,!1)});var s=d3.keybinding("mode-buttons");t.forEach(function(t){s.on(t.key,function(){e.map().editable()&&e.enter(t)})}),d3.select(document).call(s)}},iD.ui.notice=function(e){var n=d3.dispatch("zoom"),a={},r=e.append("div").attr("class","notice"),i=r.append("button").attr("class","zoom-to notice").on("click",n.zoom);return i.append("span").attr("class","icon zoom-in-invert"),i.append("span").attr("class","label").text(t("zoom_in_edit")),a.message=function(t){return t?(e.select(".button-wrap").style("display","none"),r.style("display","block")):(e.select(".button-wrap").style("display","block"),r.style("display","none")),a},d3.rebind(a,n,"on")},iD.ui.preset=function(e,t){function n(n){function r(e){return 0>o.fields.indexOf(e)}function u(e){var t=a(s,[e]),n=t.selectAll("input, textarea").node();n&&n.focus(),d3.select(this).style("opacity",1).transition().style("opacity",0).remove(),p.selectAll("button").node()||p.remove()}n.html(""),i=[],s=n.append("div");var c=t.geometry(e.graph()),d=o.fields.filter(function(e){return e.matchGeometry(c)});d.unshift(e.presets().field("name")),a(s,d);var p=n.append("div").attr("class","col12 more-buttons inspector-inner");l=p.append("div").attr("class","col12 preset-input"),l.selectAll("button").data(e.presets().universal().filter(r)).enter().append("button").attr("class","preset-add-field").on("click",u).call(bootstrap.tooltip().placement("top").title(function(e){return e.label()})).append("span").attr("class",function(e){return"icon "+e.icon})}function a(n,a){var r=n.selectAll("div.form-field").data(a,function(e){return e.id}).enter().append("div").style("opacity",0).attr("class",function(e){return"form-field form-field-"+e.id+" fillL inspector-inner col12"}),o=r.append("label").attr("class","form-label").attr("for",function(e){return"preset-input-"+e.id}).text(function(e){return e.label()});return o.append("button").attr("class","fr icon undo modified-icon").attr("tabindex",-1).on("click",function(n){var a=e.graph().base().entities[t.id],r={};(n.keys||[n.key]).forEach(function(e){r[e]=a?a.tags[e]:void 0}),u.change(r)}),o.append("button").attr("class","fr icon inspect").attr("tabindex",-1).on("click",function(e){n.selectAll("div.tag-help").style("display","none"),d3.select(d3.select(this).node().parentNode.parentNode).select("div.tag-help").style("display","block").call(iD.ui.TagReference(t,{key:e.key}))}),r.transition().style("opacity",1),r.each(function(n){var a=iD.ui.preset[n.type](n,e).on("close",u.close).on("change",u.change);u.on("setTags."+n.id,function(e){a.tags(_.clone(e))}),"address"===n.type&&a.entity(t),i=i.concat(n.key?[n.key]:n.keys),d3.select(this).call(a)}),r.append("div").attr("class","tag-help"),r}var r,i,o,s,l,u=d3.dispatch("change","setTags","close");return n.rendered=function(){return i},n.preset=function(e){return arguments.length?(o=e,n):o},n.change=function(i){function o(e){return e&&!!r[e]}return r=i,l.selectAll("button").each(function(e){(o(e.key)||_.any(e.keys,o))&&(a(s,[e]),d3.select(this).remove())}),s.selectAll("div.form-field").classed("modified",function(n){var a=e.graph().base().entities[t.id];return _.any(n.keys||[n.key],function(e){return a?r[e]!==a.tags[e]:r[e]})}),u.setTags(r),n},d3.rebind(n,u,"on")},iD.ui.PresetGrid=function(e,n){function a(a,l){function u(){0!==k.property("value").length||d3.event.keyCode!==d3.keybinding.keyCodes[""]&&d3.event.keyCode!==d3.keybinding.keyCodes[""]?0===k.property("value").length&&(d3.event.ctrlKey||d3.event.metaKey)&&d3.event.keyCode===d3.keybinding.keyCodes.z?(d3.event.preventDefault(),d3.event.stopPropagation(),e.undo()):d3.event.ctrlKey||d3.event.metaKey||d3.select(this).on("keydown",null):(d3.event.preventDefault(),d3.event.stopPropagation(),iD.operations.Delete([n.id],e)())}function c(){var a=k.property("value");if(13===d3.event.keyCode&&a.length)d(b.selectAll(".grid-entry:first-child").datum());else if(s=o,b.classed("filtered",a.length),a.length){var i=r.search(a);y.text(t("inspector.results",{n:i.collection.length,search:a})),b.data([i.collection]).call(g,o)}else b.data([e.presets().defaults(n,36).collection]).call(g,o)}function d(t){if(t.members){var n=h(b,t,"subgrid");n&&(n.append("div").attr("class","arrow"),n.append("div").attr("class","preset-grid fillL2 cf fl").data([t.members.collection]).call(g,1e3),n.style("max-height","0px").style("padding-bottom","0px").transition().duration(300).style("padding-bottom","20px").style("max-height",150*(t.members.collection.length/3)+200+"px"))}else e.presets().choose(t),i.choose(t)}function p(e){return e.name()}function m(t){var a="preset-icon-fill "+n.geometry(e.graph());if(t.members)a+="category";else for(var r in t.tags)a+=" tag-"+r+" tag-"+r+"-"+t.tags[r];return a}function h(e,t,n){var a,r=e.selectAll("button.grid-entry"),i=e.selectAll(".box-insert"),o=1/0;if(i.node()){if(i.transition().duration(200).style("opacity","0").style("max-height","0px").style("padding-top","0px").style("padding-bottom","0px").each("end",function(){i.remove()}),i.datum()===t&&i.classed(n))return;o=Array.prototype.indexOf.call(i.node().parentNode.childNodes,i.node())}r.each(function(e,n){e===t&&(a=n)});var s=a+3-a%3;s>o&&s++;var l=document.createElement("div");e.node().insertBefore(l,e.node().childNodes[s]);var u=d3.select(l).attr("class","col12 box-insert "+n+" arrow-"+a%3).datum(t);return u}function g(t,a){function r(e){d3.event.stopPropagation();var a=h(t,e,"preset-inspect");if(a){a.style("max-height","0px").style("padding-top","0px").style("padding-bottom","0px").style("opacity","0").transition().duration(200).style("padding-top","10px").style("padding-bottom","20px").style("max-height","200px").style("opacity","1"),a.append("h3").text(e.name());var r={key:Object.keys(e.tags)[0]};"*"!==e.tags[r.key]&&(r.value=e.tags[r.key]),a.append("div").call(iD.ui.TagReference(n,r))}}t.node()===b.node()&&w.style("display",t.data()[0].length>a?"block":"none"),t.selectAll(".preset-inspect, .subgrid").remove();var i=t.selectAll("div.grid-entry-wrap").data(function(e){return e.slice(0,a)},p);i.exit().remove();var o=i.enter().append("div").attr("class","grid-button-wrap col4 grid-entry-wrap").classed("category",function(e){return!!e.members}).classed("current",function(e){return e===l}).append("button").attr("class","grid-entry").on("click",d);o.style("opacity",0).transition().style("opacity",1),o.append("div").attr("class",m);var s=n.geometry(e.graph()),u="line"===s?"other-line":"marker-stroked";o.append("div").attr("class",function(e){return"feature-"+(e.icon||u)+" icon"}),o.append("span").attr("class","label").text(p),o.filter(function(e){return!e.members}).append("button").attr("tabindex",-1).attr("class","preset-help").on("click",r,t).append("span").attr("class","icon inspect"),i.order()}a.html(""),r=e.presets().matchGeometry(n,e.graph());var f=a.append("div").attr("class","header fillL cf"),y=f.append("h3").attr("class","inspector-inner").text(t("inspector.choose"));l?f.append("button").attr("class","preset-choose").on("click",i.choose).append("span").attr("class","icon forward"):f.append("button").attr("class","close").on("click",i.close).append("span").attr("class","icon close");var v=a.append("div").attr("class","fillL2 inspector-body inspector-body-"+n.geometry(e.graph())),b=v.append("div").attr("class","preset-grid fillL cf").data([e.presets().defaults(n,36).collection]),w=v.append("button").attr("class","fillL show-more").text(t("inspector.show_more")).on("click",function(){b.call(g,s+=o)});b.call(g,o);var _=a.append("div").attr("class","preset-grid-search-wrap inspector-inner"),k=_.append("input").attr("class","preset-grid-search major").attr("placeholder","Search").attr("type","search").on("keydown",u).on("keyup",c);_.append("span").attr("class","icon search"),k.node().focus()}var r,i=d3.dispatch("choose","close"),o=9,s=9;return iD.taginfo(),d3.rebind(a,i,"on")},iD.ui.RadialMenu=function(e){var t,n,a=[0,0],r=function(r){function i(e){d3.event.stopPropagation(),e()}function o(e,t){var r=c+t*u,i=0>r?-200:0,o=0;n.style("left",(l+25)*Math.sin(r)+i+a[0]+"px").style("top",(l+25)*Math.cos(r)+o+a[1]+"px").style("display","block").html(iD.ui.tooltipHtml(e.description,e.keys[0]))}function s(){n.style("display","none")}if(e.length){r.node().parentNode.focus(),t=r.append("g").attr("class","radial-menu").attr("transform","translate("+a+")").attr("opacity",0),t.transition().attr("opacity",1);var l=50,u=Math.PI/4,c=-Math.PI/4,d=c+(e.length-1)*u;t.append("path").attr("class","radial-menu-background").attr("d","M"+l*Math.sin(c)+","+l*Math.cos(c)+" A"+l+","+l+" 0 0,0 "+l*Math.sin(d)+","+l*Math.cos(d)).attr("stroke-width",50).attr("stroke-linecap","round");var p=t.selectAll().data(e).enter().append("g").attr("transform",function(e,t){return"translate("+l*Math.sin(c+t*u)+","+l*Math.cos(c+t*u)+")"});p.append("circle").attr("class",function(e){return"radial-menu-item radial-menu-item-"+e.id}).attr("r",15).classed("disabled",function(e){return!e.enabled()}).on("click",i).on("mouseover",o).on("mouseout",s),p.append("use").attr("transform","translate(-10, -10)").attr("clip-path","url(#clip-square-20)").attr("xlink:href",function(e){return"#icon-operation-"+e.id}),n=d3.select(document.body).append("div").attr("class","tooltip-inner radial-menu-tooltip")}};return r.close=function(){t&&t.transition().attr("opacity",0).remove(),n&&n.remove()},r.center=function(e){return arguments.length?(a=e,r):a},r},iD.ui.Restore=function(e){return function(n){if(e.history().lock()&&e.history().restorableChanges()){var a=iD.ui.modal(n);a.select(".modal").attr("class","modal fillL col6");var r=a.select(".content");r.attr("class","cf"),r.append("div").attr("class","modal-section header").append("h3").text(t("restore.heading")),r.append("div").attr("class","modal-section").append("p").text(t("restore.description"));var i=r.append("div").attr("class","modal-section col12"),o=i.append("div").attr("class","button-wrap joined col4"),s=o.append("button").attr("class","save action button col6").text(t("restore.restore")).on("click",function(){e.history().load(),a.remove()});o.append("button").attr("class","cancel button col6").text(t("restore.reset")).on("click",function(){e.history().clearSaved(),a.remove()}),s.node().focus()}}},iD.ui.Save=function(e){function n(){d3.event.preventDefault(),l.hasChanges()&&u.authenticate(function(){o=iD.ui.modal(e.container());var t=l.changes();t.connection=u,o.select(".content").classed("commit-modal",!0).datum(t).call(iD.ui.Commit(e).on("cancel",function(){o.remove()}).on("fix",i).on("save",a))})}function a(n){e.container().select(".shaded").remove();var a=iD.ui.loading(e.container(),t("save.uploading"),!0);u.putChangeset(l.changes(),n.comment,l.imagery_used(),function(i,o){if(a.remove(),i){var u=iD.ui.confirm(e.container());u.select(".modal-section.header").append("h3").text(t("save.error")),u.select(".modal-section.message-text").append("p").text(i.responseText)}else l.reset(),s.flush().redraw(),r(n,o)})}function r(t,n){o=iD.ui.modal(e.container()),o.select(".content").classed("success-modal",!0).datum({id:n,comment:t.comment}).call(iD.ui.Success(u).on("cancel",function(){o.remove()}))}function i(t){var n=t.entity.extent(e.graph());s.centerZoom(n.center(),Math.min(19,s.extentZoom(n))),e.enter(iD.modes.Select(e,[t.entity.id])),o.remove()}var o,s=e.map(),l=e.history(),u=e.connection(),c=iD.ui.cmd("S");return function(a){var r=a.append("button").attr("class","save col12 disabled").attr("tabindex",-1).on("click",n).attr("data-original-title",iD.ui.tooltipHtml(t("save.no_changes"),c)).call(bootstrap.tooltip().placement("bottom").html(!0));r.append("span").attr("class","label").text(t("save.title")),r.append("span").attr("class","count");var i=d3.keybinding("undo-redo").on(c,n);d3.select(document).call(i),e.history().on("change.save",function(){var e=l.hasChanges();r.attr("data-original-title",iD.ui.tooltipHtml(t(e?"save.help":"save.no_changes"),c)),r.classed("disabled",!e).classed("has-count",e),r.select("span.count").text(l.numChanges())})}},iD.ui.SourceSwitch=function(e){function n(){if(d3.event.preventDefault(),!e.history().hasChanges()||window.confirm(t("source_switch.lose_changes"))){var n=d3.select(this).classed("live");e.connection().url(n?"http://localhost:3000":"http://localhost:3000"),e.map().flush(),d3.select(this).text(n?t("source_switch.dev"):t("source_switch.live")).classed("live",!n)}}return function(e){e.append("a").attr("href","#").text(t("source_switch.live")).classed("live",!0).attr("tabindex",-1).on("click",n)}},iD.ui.Spinner=function(e){var t=e.connection();return function(e){var n=e.append("img").attr("src","img/loader-black.gif").style("opacity",0);t.on("loading.spinner",function(){n.transition().style("opacity",1)}),t.on("loaded.spinner",function(){n.transition().style("opacity",0)})}},iD.ui.Splash=function(e){return function(n){if(!e.storage("sawSplash")){e.storage("sawSplash",!0);var a=iD.ui.modal(n);a.select(".modal").attr("class","modal-splash modal");var r=a.select(".content").append("div").attr("class","modal-section fillL");r.append("div").attr("class","logo");var i=r.append("div");i.append("h2").text(t("splash.welcome")),i.append("p").html(t("splash.text",{version:iD.version,website:'<a href="http://ideditor.com/">ideditor.com</a>',github:'<a href="https://github.com/systemed/iD">github.com</a>'}))}}},iD.ui.Success=function(e){function n(n){var r=n.datum(),i=n.append("div").attr("class","header modal-section"),o=n.append("div").attr("class","body");i.append("h3").text(t("just_edited"));var s="";r.comment&&(s='"'+r.comment.substring(0,20)+'" ');var l=(s||"Edited OSM!")+e.changesetUrl(r.id),u=o.append("div").attr("class","cf");u.append("a").attr("class","col6 success-action modal-section osm").attr("target","_blank").attr("href",function(){return e.changesetUrl(r.id)}).text(t("view_on_osm")),u.append("a").attr("class","col6 success-action modal-section twitter").attr("target","_blank").attr("href",function(){return"https://twitter.com/intent/tweet?source=webclient&text="+encodeURIComponent(l)}).text("Tweet");var c=o.append("div").attr("class","modal-section cf");c.append("button").attr("class","action col2").on("click.save",function(){a.cancel()}).append("span").attr("class","label").text("Okay")}var a=d3.dispatch("cancel","save");return d3.rebind(n,a,"on")},iD.ui.TagEditor=function(e,n){function a(r,m){l=r;var h=n.geometry(e.graph());s||(s=p.match(n,e.graph())),m&&(o=s.removeTags(o,h),m.applyTags(o,h),s=m),r.html("");var g=r.append("div").attr("class","header fillL cf");g.append("button").attr("class","preset-reset fl ").on("click",function(){d.choose(s)}).append("span").attr("class","icon back");var f=s.icon||("line"===h?"other-line":"marker-stroked");g.append("h3").attr("class","inspector-inner").text(t("inspector.editing_feature",{feature:s.name()})),g.append("button").attr("class","preset-close fr").on("click",d.close).append("span").attr("class","icon close");var y=r.append("div").attr("class","tag-wrap inspector-body fillL2 inspector-body-"+h);y.append("div").attr("class","col12 inspector-inner fillL2 preset-icon-wrap").append("div").attr("class","fillL").append("span").attr("class",h+" preset-icon icon feature-"+f),u=iD.ui.preset(e,n).preset(s).on("change",i).on("close",d.close),c=iD.ui.Taglist(e,n).on("change",i);var v=y.append("div").attr("class","inspector-preset cf fillL col12").call(u);y.append("div").attr("class","inspector-inner col12 fillL2 additional-tags").call(c,"other"===s.id),n.isNew()||v.append("div").attr("class","col12 inspector-inner").append("a").attr("href","http:/localhost:3000/browse/"+n.type+"/"+n.osmId()).attr("target","_blank").text(t("inspector.view_on_osm")),a.tags(o),i()}function r(e){var t={};for(var n in e)e[n]&&""!==e[n]&&(t[n]=e[n]);return t}function i(e){o=r(_.extend(o,e)),d.changeTags(_.clone(o))}var o,s,l,u,c,d=d3.dispatch("changeTags","choose","close"),p=e.presets();return a.tags=function(t){if(o=_.clone(t),u&&c){var r=p.matchGeometry(n,e.graph()).matchTags(n.update({tags:o}));if(r!==s)return a(l,r);u.change(o);var i=[].concat(Object.keys(s.tags)).concat(u.rendered());c.tags(_.omit(o,i))}return a},d3.rebind(a,d,"on")},iD.ui.TagReference=function(e,n){function a(e){var t,n=iD.detect().locale.toLowerCase();if(t=_.find(e,function(e){return e.lang.toLowerCase()===n}))return t;if(-1!==n.indexOf("-")){var a=n.split("-")[0];if(t=_.find(e,function(e){return e.lang.toLowerCase()===a}))return t}return _.find(e,function(e){return"en"===e.lang.toLowerCase()})}var r=iD.taginfo();return function(e){e.html(""),r.docs(n,function(n,r){if(!n&&r&&(r=a(r)),!r||!r.description)return e.text(t("inspector.no_documentation_key"));var i=e.append("div").attr("class","modal-section fillL2");r.image&&r.image.thumb_url_prefix&&i.append("img").attr("class","wiki-image").attr("src",r.image.thumb_url_prefix+"100"+r.image.thumb_url_suffix),i.append("p").text(r.description),i.append("a").attr("target","_blank").attr("href","http://wiki.openfloorplan.org/wiki/"+r.title).text(t("inspector.reference"))})}},iD.ui.Taglist=function(e,n){function a(e,n){u=e.append("a").attr("href","#").attr("class","hide-toggle").text(t("inspector.additional")).on("click",function(){iD.ui.Taglist.expanded=a.classed("hide"),u.classed("expanded",iD.ui.Taglist.expanded),a.call(iD.ui.Toggle(iD.ui.Taglist.expanded)),e.node().parentNode.scrollTop+=200}).classed("expanded",iD.ui.Taglist.expanded||n);var a=e.append("div").classed("hide",!iD.ui.Taglist.expanded&&!n);c=a.append("ul").attr("class","tag-list");var r=a.append("button").attr("class","add-tag col6").on("click",s);r.append("span").attr("class","icon plus"),r.append("span").attr("class","label").text(t("inspector.new_tag"))}function r(e){u.text(t("inspector.additional")+" ("+Object.keys(e).length+")"),e=d3.entries(e),e.length||(e=[{key:"",value:""}]);var r=c.html("").selectAll("li").data(e,function(e){return e.key});r.exit().remove();var s=r.enter().append("li").attr("class","tag-row");return s.append("div").attr("class","key-wrap col6").append("input").property("type","text").attr("class","key").attr("maxlength",255).property("value",function(e){return e.key}).on("blur",function(e){e.key=this.value,d.change(a.tags())}),s.append("div").attr("class","input-wrap-position col6").append("input").property("type","text").attr("class","value").attr("maxlength",255).property("value",function(e){return e.value}).on("blur",function(e){e.value=this.value,d.change(a.tags())}).on("keydown.push-more",i),s.each(o),s.append("button").attr("tabindex",-1).attr("class","remove minor").on("click",l).append("span").attr("class","icon delete"),s.append("button").attr("tabindex",-1).attr("class","tag-help minor").on("click",function(e){s.selectAll("div.tag-help").style("display","none"),d3.select(d3.select(this).node().parentNode).select("div.tag-help").style("display","block").call(iD.ui.TagReference(n,{key:e.key}))}).append("span").attr("class","icon inspect"),s.append("div").attr("class","tag-help"),r}function i(){9!==d3.event.keyCode||c.selectAll("li:last-child input.value").node()!==this||d3.event.shiftKey||(s(),d3.event.preventDefault())}function o(){function t(e,t){for(var n=[],a=[],r=0;t.length>r;r++)t[r].value.substring(0,e.length)===e?n.push(t[r]):a.push(t[r]);return n.concat(a)}var a=n.geometry(e.graph()),r=d3.select(this),i=r.selectAll("input.key"),o=r.selectAll("input.value");i.call(d3.combobox().fetcher(function(e,n,r){p.keys({debounce:!0,geometry:a,query:e},function(n,a){n||r(t(e,a))})})),o.call(d3.combobox().fetcher(function(e,n,r){p.values({debounce:!0,key:i.property("value"),geometry:a,query:e},function(n,a){n||r(t(e,a))})}))}function s(){var e=a.tags();e[""]="",r(e),c.selectAll("li:last-child input.key").node().focus()}function l(e){var t=a.tags();t[e.key]="",d.change(t),delete t[e.key],r(t)}var u,c,d=d3.dispatch("change"),p=iD.taginfo();return a.tags=function(e){return arguments.length?(r(e),void 0):(e={},c.selectAll("li").each(function(){var t=d3.select(this),n=t.selectAll(".key").property("value"),a=t.selectAll(".value").property("value");""!==n&&(e[n]=a)}),e)},d3.rebind(a,d,"on")},iD.ui.Tail=function(){function e(e){function l(){t=d3.select(document.body).append("div").style("display","none").attr("class","tail tooltip-inner"),n=t.append("div"),e.on("mousemove.tail",c).on("mouseover.tail",p).on("mouseout.tail",d),t.on("mousemove.tail",c),o=e.size()}function u(){t.style("display","block"),i=t.size()}function c(){if(a!==!1){"none"===t.style("display")&&u();var e=d3.event.clientX+i[0]+r>o[0]?-i[0]-r:r;t.classed("left",e>0),t.style(s,"translate("+(~~d3.event.clientX+e)+"px,"+~~d3.event.clientY+"px)")}}function d(){d3.event.relatedTarget!==t.node()&&a!==!1&&t.style("display","none")}function p(){d3.event.relatedTarget!==t.node()&&a!==!1&&u()}d3.select(window).on("resize.tail-size",function(){o=e.size()}),t||l()}var t,n,a=!1,r=25,i=[0,0],o=[0,0],s=iD.util.prefixCSSProperty("Transform");return e.text=function(r){return arguments.length?r===!1?(a=r,t.style("display","none"),e):(a=r,n.text(a),i=t.size(),e):a},e},iD.ui.Toggle=function(e,t){return function(n){n.style("opacity",e?0:1).classed("hide",!1).transition().style("opacity",e?1:0).each("end",function(){d3.select(this).classed("hide",!e),t&&t.apply(this)})}},iD.ui.UndoRedo=function(e){return function(n){var a=bootstrap.tooltip().placement("bottom").html(!0),r=n.append("button").attr("class","col6 disabled").html('<span class="undo icon"/>').on("click",e.undo).call(a),i=n.append("button").attr("class","col6 disabled").html('<span class="redo icon"/>').on("click",e.redo).call(a),o=d3.keybinding("undo").on(iD.ui.cmd("Z"),e.undo).on(iD.ui.cmd("Z"),e.redo);d3.select(document).call(o),e.history().on("change.editor",function(){function n(e){e.property("tooltipVisible")&&e.call(a.show)}var o=e.history().undoAnnotation(),s=e.history().redoAnnotation();r.classed("disabled",!o).attr("data-original-title",iD.ui.tooltipHtml(o||t("nothing_to_undo"),iD.ui.cmd("Z"))).call(n),i.classed("disabled",!s).attr("data-original-title",iD.ui.tooltipHtml(s||t("nothing_to_redo"),iD.ui.cmd("Z"))).call(n)})}},iD.ui.Zoom=function(e){var n=[{id:"zoom-in",title:t("zoom.in"),action:e.zoomIn,key:"+"},{id:"zoom-out",title:t("zoom.out"),action:e.zoomOut,key:"-"}];return function(t){var a=t.selectAll("button").data(n).enter().append("button").attr("tabindex",-1).attr("class",function(e){return e.id}).on("click.editor",function(e){e.action()}).call(bootstrap.tooltip().placement("right").html(!0).title(function(e){return iD.ui.tooltipHtml(e.title,e.key)}));a.append("span").attr("class",function(e){return e.id+" icon"});var r=d3.keybinding("zoom").on("+",function(){e.zoomIn()}).on("-",function(){e.zoomOut()}).on("=",function(){e.zoomIn()}).on("dash",function(){e.zoomOut()
});d3.select(document).call(r)}},iD.ui.preset.address=function(e,t){function n(){function e(e){return e.tags.highway&&e.tags.name&&"way"===e.type}var n=u.extent(t.graph()),a=n.center(),r=iD.geo.metersToCoordinates(a,[200,200]),i=iD.geo.Extent([n[0][0]-r[0],n[0][1]-r[1]],[n[1][0]+r[0],n[1][1]+r[1]]);return t.intersects(i).filter(e).map(function(e){var a=t.projection([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]),r=t.projection(iD.geo.chooseIndex(e,a,t).loc);return{title:e.tags.name,value:e.tags.name,dist:iD.geo.dist(r,a)}}).sort(function(e,t){return e.dist-t.dist})}function a(t){function a(){return iD.behavior.accept().on("accept",c.close)}var u=t.append("div").attr("class","preset-input-wrap");i=u.append("input").property("type","text").attr("placeholder",e.t("placeholders.housename")).attr("class","addr-housename").attr("id","preset-input-"+e.id).on("blur",r).on("change",r).call(a()),o=u.append("input").property("type","text").attr("placeholder",e.t("placeholders.number")).attr("class","addr-number").on("blur",r).on("change",r).call(a()),s=u.append("input").property("type","text").attr("placeholder",e.t("placeholders.street")).attr("class","addr-street").on("blur",r).on("change",r).call(d3.combobox().data(n())),l=u.append("input").property("type","text").attr("placeholder",e.t("placeholders.city")).attr("class","addr-city").on("blur",r).on("change",r).call(a())}function r(){c.change({"addr:housename":i.property("value"),"addr:housenumber":o.property("value"),"addr:street":s.property("value"),"addr:city":l.property("value")})}var i,o,s,l,u,c=d3.dispatch("change","close");return a.entity=function(e){return arguments.length?(u=e,a):u},a.tags=function(e){return i.property("value",e["addr:housename"]||""),o.property("value",e["addr:housenumber"]||""),s.property("value",e["addr:street"]||""),l.property("value",e["addr:city"]||""),a},d3.rebind(a,c,"on")},iD.ui.preset.check=function(e){var t,n,a,r=d3.dispatch("change","close"),i=["","yes","no"],o="",s=function(l){l.classed("checkselect","true"),a=l.append("label").attr("class","preset-input-wrap"),t=a.append("input").property("indeterminate",!0).attr("type","checkbox").attr("id","preset-input-"+e.id),n=a.append("span").text("unknown").attr("class","value"),t.on("click",function(){var t={};t[e.key]=i[(i.indexOf(o)+1)%3],s.tags(t),r.change(t),d3.event.stopPropagation()})};return s.tags=function(r){o=r[e.key]||"",t.property("indeterminate",!o),t.property("checked","yes"===o),n.text(o||"unknown"),a.classed("set",!!o)},d3.rebind(s,r,"on")},iD.ui.preset.combo=function(e){function t(t){function r(e){i.data(e.map(function(e){var t={};return t.title=t.value=e.replace("_"," "),t})),a.attr("placeholder",function(){return 3>e.length?"":e.slice(0,3).join(", ")+"..."})}var i=d3.combobox();a=t.append("input").attr("type","text").attr("id","preset-input-"+e.id).on("change",n).on("blur",n).call(i),e.options?r(e.options):iD.taginfo().values({key:e.key},function(e,t){e||r(_.pluck(t,"value"))})}function n(){var t={};t[e.key]=a.property("value").replace(" ","_"),r.change(t)}var a,r=d3.dispatch("change","close");return t.tags=function(t){a.property("value",t[e.key]||"")},d3.rebind(t,r,"on")},iD.ui.preset.defaultcheck=function(e){var t,n=d3.dispatch("change","close"),a=function(a){t=a.append("input").attr("type","checkbox").attr("id","preset-input-"+e.id).on("change",function(){var a={};a[e.key]=t.property("checked")?e.value||"yes":void 0,n.change(a)})};return a.tags=function(n){t.property("checked",!!n[e.key]&&"no"!==n[e.key])},d3.rebind(a,n,"on")},iD.ui.preset.text=iD.ui.preset.number=iD.ui.preset.tel=iD.ui.preset.email=iD.ui.preset.url=function(e){function t(t){function i(e,t){var a=e.value?parseInt(e.value,10):0;isNaN(a)||(e.value=a+t),n()}if(a=t.append("input").attr("type",e.type).attr("id","preset-input-"+e.id).attr("placeholder",e.placeholder||"").on("blur",n).on("change",n).call(iD.behavior.accept().on("accept",r.close)),"number"==e.type){var o=t.append("div").attr("class","spin-control");o.append("button").attr("class","increment").on("click",function(){i(a.node(),1)}),o.append("button").attr("class","decrement").on("click",function(){i(a.node(),-1)})}}function n(){var t={};t[e.key]=a.property("value"),r.change(t)}var a,r=d3.dispatch("change","close");return t.tags=function(t){a.property("value",t[e.key]||"")},d3.rebind(t,r,"on")},iD.ui.preset.radio=function(e){function t(t){t.classed("preset-radio",!0);var r=t.append("div").attr("class","preset-input-wrap radio-wrap");a=r.selectAll("button").data(e.keys||e.options).enter().append("button").text(function(t){return e.t("options."+t,{"default":t})}).on("click",function(e){a.classed("active",function(t){return e===t}),n()}),r.append("button").on("click",function(){a.classed("active",!1),n()}).append("span").attr("class","icon remove")}function n(){var t={};e.key&&(t[e.key]=null),a.each(function(n){var a=d3.select(this).classed("active");e.key?a&&(t[e.key]=n):t[n]=a?"yes":""}),r.change(t)}var a,r=d3.dispatch("change","close");return t.tags=function(t){a.classed("active",function(n){return e.key?t[e.key]===n:t[n]&&"no"!==t[n]})},d3.rebind(t,r,"on")},iD.ui.preset.textarea=function(e){function t(t){a=t.append("textarea").attr("id","preset-input-"+e.id).attr("placeholder",e.placeholder||"").attr("maxlength",255).on("blur",n).on("change",n).call(iD.behavior.accept().on("accept",r.close))}function n(){var t={};t[e.key]=a.text(),r.change(t)}var a,r=d3.dispatch("change","close");return t.tags=function(t){a.text(t[e.key]||"")},d3.rebind(t,r,"on")},iD.presets=function(e){var t=iD.presets.Preset("other",{tags:{},geometry:["point","vertex","line","area"]}),n=iD.presets.Preset("other/area",{tags:{area:"yes"},geometry:["area"]}),a=iD.presets.Collection([t,n]),r={area:a,line:a,point:a,vertex:a},i={},o=[],s=iD.presets.Collection([]);return a.load=function(e){if(e.fields&&_.forEach(e.fields,function(e,t){i[t]=iD.presets.Field(t,e),e.universal&&o.push(i[t])}),e.presets&&_.forEach(e.presets,function(e,t){a.collection.push(iD.presets.Preset(t,e,i))}),e.categories&&e.categories.forEach(function(e){a.collection.push(iD.presets.Category(e,a))}),e.defaults){var t=_.bind(a.item,a);r={area:iD.presets.Collection(e.defaults.area.map(t)),line:iD.presets.Collection(e.defaults.line.map(t)),point:iD.presets.Collection(e.defaults.point.map(t)),vertex:iD.presets.Collection(e.defaults.vertex.map(t))}}return a},a.field=function(e){return i[e]},a.universal=function(){return o},a.defaults=function(n,a){var i=s.matchGeometry(n,e.graph()).collection.slice(0,4),o=_.uniq(i.concat(r[n.geometry(e.graph())].collection)).slice(0,a-1);return iD.presets.Collection(_.unique(i.concat(o).concat(t)))},a.choose=function(e){return e!==t&&(s=iD.presets.Collection(_.unique([e].concat(s.collection)))),a},a},iD.presets.Category=function(e,t){return e=_.clone(e),e.members=iD.presets.Collection(e.members.map(function(e){return t.item(e)})),e.matchGeometry=function(t,n){return e.geometry.indexOf(t.geometry(n))>=0},e.matchTags=function(){return!1},e.name=function(){return e.id},e.terms=function(){return[]},e},iD.presets.Collection=function(e){var t={collection:e,item:function(t){return _.find(e,function(e){return e.id===t})},match:function(e,n){return t.matchGeometry(e,n).matchTags(e)},matchGeometry:function(t,n){return iD.presets.Collection(e.filter(function(e){return e.matchGeometry(t,n)}))},matchTags:function(t){for(var n,a=-1,r=0;e.length>r;r++){var i=e[r].matchTags(t);i>a&&(a=i,n=e[r])}return n},search:function(n){function a(e){var t=e.indexOf(n);return 0===t||" "===e[t-1]}if(!n)return this;n=n.toLowerCase();var r=_.filter(e,function(e){return e.searchable!==!1}),i=_.filter(r,function(e){return a(e.name().toLowerCase())}).sort(function(e,t){var a=e.name().toLowerCase().indexOf(n)-t.name().toLowerCase().indexOf(n);return 0===a?e.name().length-t.name().length:a}),o=_.filter(r,function(e){return _.any(e.terms()||[],a)}),s=r.map(function(e){return{preset:e,dist:iD.util.editDistance(n,e.name().toLowerCase())}}).filter(function(e){return 3>e.dist+Math.min(n.length-e.preset.name().length,0)}).sort(function(e,t){return e.dist-t.dist}).map(function(e){return e.preset}),l=_.filter(r,function(e){return _.any(e.terms()||[],function(e){return 3>iD.util.editDistance(n,e)+Math.min(n.length-e.length,0)})}),u=t.item("other");return iD.presets.Collection(_.unique(i.concat(o,s,l,u)))}};return t},iD.presets.Field=function(e,n){return n=_.clone(n),n.id=e,n.matchGeometry=function(e){return!n.geometry||n.geometry.indexOf(e)>=0},n.t=function(n,a){return t("presets.fields."+e+"."+n,a)},n.label=function(){return n.t("label",{"default":e})},n},iD.presets.Preset=function(e,n,a){function r(e){return a[e]}return n=_.clone(n),n.id=e,n.fields=(n.fields||[]).map(r),n.matchGeometry=function(e,t){return n.geometry.indexOf(e.geometry(t))>=0},n.matchTags=function(e){var t=n.tags,a=0;for(var r in t)if(e.tags[r]===t[r])a+="area"===r?.5:1;else{if(!("*"===t[r]&&r in e.tags))return-1;a+=.5}return a},n.t=function(n,a){return t("presets.presets."+e+"."+n,a)},n.name=function(){return n.t("name",{"default":e})},n.terms=function(){return n.t("terms",{"default":""}).split(",")},n.removeTags=function(e,t){e=_.omit(e,_.keys(n.tags));for(var a in n.fields){var r=n.fields[a];r.matchGeometry(t)&&r["default"]===e[r.key]&&delete e[r.key]}return e},n.applyTags=function(e,t){for(var a in n.tags)"*"!==n.tags[a]&&(e[a]=n.tags[a]);for(var r in n.fields)r=n.fields[r],r.matchGeometry(t)&&r.key&&!e[r.key]&&(e[r.key]=r["default"]);return e},n},iD.validate=function(e,n){function a(e){if(_.isEmpty(e.tags))return!1;for(var t=e.tags,n=["landuse","amenities","tourism","shop"],a=0;n.length>a;a++)if(void 0!==t[n[a]])return n[a]+"="+t[n[a]];return t.building&&"yes"===t.building?"building=yes":void 0}var r,i=[];e.deleted.length>100&&i.push({message:t("validations.many_deletions",{n:e.deleted.length})});for(var o=0;e.created.length>o;o++){r=e.created[o],"point"===r.geometry(n)&&_.isEmpty(r.tags)&&i.push({message:t("validations.untagged_point"),entity:r}),"line"===r.geometry(n)&&_.isEmpty(r.tags)&&i.push({message:t("validations.untagged_line"),entity:r});var s=r.deprecatedTags();_.isEmpty(s)||i.push({message:t("validations.deprecated_tags",{tags:iD.util.tagText({tags:s})}),entity:r}),"area"===r.geometry(n)&&_.isEmpty(r.tags)&&i.push({message:t("validations.untagged_area"),entity:r}),"line"===r.geometry(n)&&a(r)&&i.push({message:t("validations.tag_suggests_area",{tag:a(r)}),entity:r})}return i.length?[i]:[]}}(),window.locale={_current:"en"},locale.current=function(e){return arguments.length?(void 0!==locale[e]?locale._current=e:locale[e.split("-")[0]]&&(locale._current=e.split("-")[0]),locale):locale._current},locale.en={modes:{add_area:{title:"Area",description:"Add parks, buildings, lakes or other areas to the map.",tail:"Click on the map to start drawing an area, like a park, lake, or building."},add_line:{title:"Line",description:"Add highways, streets, pedestrian paths, canals or other lines to the map.",tail:"Click on the map to start drawing a road, path, or route."},add_point:{title:"Point",description:"Add restaurants, monuments, postal boxes or other points to the map.",tail:"Click on the map to add a point."},browse:{title:"Browse",description:"Pan and zoom the map."},draw_area:{tail:"Click to add points to your area. Click the first point to finish the area."},draw_line:{tail:"Click to add more points to the line. Click on other lines to connect to them, and double-click to end the line."}},operations:{add:{annotation:{point:"Added a point.",vertex:"Added a node to a way."}},start:{annotation:{line:"Started a line.",area:"Started an area."}},"continue":{annotation:{line:"Continued a line.",area:"Continued an area."}},cancel_draw:{annotation:"Canceled drawing."},change_tags:{annotation:"Changed tags."},circularize:{title:"Circularize",description:"Make this round.",key:"O",annotation:{line:"Made a line circular.",area:"Made an area circular."}},orthogonalize:{title:"Orthogonalize",description:"Square these corners.",key:"Q",annotation:{line:"Squared the corners of a line.",area:"Squared the corners of an area."}},"delete":{title:"Delete",description:"Remove this from the map.",annotation:{point:"Deleted a point.",vertex:"Deleted a node from a way.",line:"Deleted a line.",area:"Deleted an area.",relation:"Deleted a relation.",multiple:"Deleted {n} objects."}},connect:{annotation:{point:"Connected a way to a point.",vertex:"Connected a way to another.",line:"Connected a way to a line.",area:"Connected a way to an area."}},disconnect:{title:"Disconnect",description:"Disconnect these ways from each other.",key:"D",annotation:"Disconnected ways."},merge:{title:"Merge",description:"Merge these lines.",key:"C",annotation:"Merged {n} lines."},move:{title:"Move",description:"Move this to a different location.",key:"M",annotation:{point:"Moved a point.",vertex:"Moved a node in a way.",line:"Moved a line.",area:"Moved an area.",multiple:"Moved multiple objects."}},rotate:{title:"Rotate",description:"Rotate this object around its centre point.",key:"R",annotation:{line:"Rotated a line.",area:"Rotated an area."}},reverse:{title:"Reverse",description:"Make this line go in the opposite direction.",key:"V",annotation:"Reversed a line."},split:{title:"Split",description:"Split this into two ways at this point.",key:"X",annotation:"Split a way."}},nothing_to_undo:"Nothing to undo.",nothing_to_redo:"Nothing to redo.",just_edited:"You just edited OpenStreetMap!",browser_notice:"This editor is supported in Firefox, Chrome, Safari, Opera, and Internet Explorer 9 and above. Please upgrade your browser or use Potlatch 2 to edit the map.",view_on_osm:"View on OSM ",zoom_in_edit:"zoom in to edit the map",logout:"logout",report_a_bug:"report a bug",commit:{title:"Save Changes",description_placeholder:"Brief description of your contributions",message_label:"Commit message",upload_explanation:"The changes you upload as {user} will be visible on all maps that use OpenStreetMap data.",save:"Save",cancel:"Cancel",warnings:"Warnings",modified:"Modified",deleted:"Deleted",created:"Created"},contributors:{list:"Contributed by {users}",truncated_list:"Contributed by {users} and {count} others"},geocoder:{title:"Find a place",placeholder:"Find a place",no_results:"Couldn't locate a place named '{name}'"},geolocate:{title:"Show My Location"},inspector:{no_documentation_combination:"There is no documentation available for this tag combination",no_documentation_key:"There is no documentation available for this key",show_more:"Show More",new_tag:"New tag",view_on_osm:"View on OSM",editing_feature:"Editing {feature}",additional:"Additional tags",choose:"Select feature type",results:"{n} results for {search}",reference:"View on OpenStreetMap Wiki ",back_tooltip:"Change feature type"},background:{title:"Background",description:"Background settings",percent_brightness:"{opacity}% brightness",fix_misalignment:"Fix misalignment",reset:"reset"},restore:{heading:"You have unsaved changes",description:"Do you wish to restore changes from a previous editing session?",restore:"Restore",reset:"Reset"},save:{title:"Save",help:"Save changes to OpenStreetMap, making them visible to other users.",no_changes:"No changes to save.",error:"An error occurred while trying to save",uploading:"Uploading changes to OpenStreetMap.",unsaved_changes:"You have unsaved changes"},splash:{welcome:"Welcome to the iD OpenStreetMap editor",text:"This is development version {version}. For more information see {website} and report bugs at {github}."},source_switch:{live:"live",lose_changes:"You have unsaved changes. Switching the map server will discard them. Are you sure you want to switch servers?",dev:"dev"},tag_reference:{description:"Description",on_wiki:"{tag} on wiki.osm.org",used_with:"used with {type}"},validations:{untagged_point:"Untagged point which is not part of a line or area",untagged_line:"Untagged line",untagged_area:"Untagged area",many_deletions:"You're deleting {n} objects. Are you sure you want to do this? This will delete them from the map that everyone else sees on openfloorplan.org.",tag_suggests_area:"The tag {tag} suggests line should be area, but it is not an area",deprecated_tags:"Deprecated tags: {tags}"},zoom:{"in":"Zoom In",out:"Zoom Out"},gpx:{local_layer:"Local GPX file",drag_drop:"Drag and drop a .gpx file on the page"},help:{title:"Help"},presets:{fields:{access:{label:"Access"},address:{label:"Address",placeholders:{housename:"Housename",number:"123",street:"Street",city:"City"}},aeroway:{label:"Type"},amenity:{label:"Type"},atm:{label:"ATM"},barrier:{label:"Type"},bicycle_parking:{label:"Type"},building:{label:"Building"},building_area:{label:"Building"},building_yes:{label:"Building"},capacity:{label:"Capacity"},collection_times:{label:"Collection Times"},construction:{label:"Type"},country:{label:"Country"},crossing:{label:"Type"},cuisine:{label:"Cuisine"},denomination:{label:"Denomination"},denotation:{label:"Denotation"},elevation:{label:"Elevation"},emergency:{label:"Emergency"},entrance:{label:"Type"},fax:{label:"Fax"},fee:{label:"Fee"},highway:{label:"Type"},historic:{label:"Type"},internet_access:{label:"Internet Access",options:{yes:"Yes",no:"No",wlan:"Wifi",wired:"Wired",terminal:"Terminal"}},landuse:{label:"Type"},layer:{label:"Layer"},leisure:{label:"Type"},levels:{label:"Levels"},man_made:{label:"Type"},maxspeed:{label:"Speed Limit"},name:{label:"Name"},natural:{label:"Natural"},network:{label:"Network"},note:{label:"Note"},office:{label:"Type"},oneway:{label:"One Way"},oneway_yes:{label:"One Way"},opening_hours:{label:"Hours"},operator:{label:"Operator"},phone:{label:"Phone"},place:{label:"Type"},power:{label:"Type"},railway:{label:"Type"},ref:{label:"Reference"},religion:{label:"Religion",options:{christian:"Christian",muslim:"Muslim",buddhist:"Buddhist",jewish:"Jewish",hindu:"Hindu",shinto:"Shinto",taoist:"Taoist"}},service:{label:"Type"},shelter:{label:"Shelter"},shop:{label:"Type"},source:{label:"Source"},sport:{label:"Sport"},structure:{label:"Structure",options:{bridge:"Bridge",tunnel:"Tunnel",embankment:"Embankment",cutting:"Cutting"}},surface:{label:"Surface"},tourism:{label:"Type"},water:{label:"Type"},waterway:{label:"Type"},website:{label:"Website"},wetland:{label:"Type"},wheelchair:{label:"Wheelchair Access"},wikipedia:{label:"Wikipedia"},wood:{label:"Type"}},presets:{aeroway:{name:"Aeroway",terms:""},"aeroway/aerodrome":{name:"Airport",terms:"airplane,airport,aerodrome"},"aeroway/helipad":{name:"Helipad",terms:"helicopter,helipad,heliport"},amenity:{name:"Amenity",terms:""},"amenity/bank":{name:"Bank",terms:"coffer,countinghouse,credit union,depository,exchequer,fund,hoard,investment firm,repository,reserve,reservoir,safe,savings,stock,stockpile,store,storehouse,thrift,treasury,trust company,vault"},"amenity/bar":{name:"Bar",terms:""},"amenity/bench":{name:"Bench",terms:""},"amenity/bicycle_parking":{name:"Bicycle Parking",terms:""},"amenity/bicycle_rental":{name:"Bicycle Rental",terms:""},"amenity/cafe":{name:"Cafe",terms:"coffee,tea,coffee shop"},"amenity/cinema":{name:"Cinema",terms:"big screen,bijou,cine,drive-in,film,flicks,motion pictures,movie house,movie theater,moving pictures,nabes,photoplay,picture show,pictures,playhouse,show,silver screen"},"amenity/courthouse":{name:"Courthouse",terms:""},"amenity/embassy":{name:"Embassy",terms:""},"amenity/fast_food":{name:"Fast Food",terms:""},"amenity/fire_station":{name:"Fire Station",terms:""},"amenity/fuel":{name:"Gas Station",terms:""},"amenity/grave_yard":{name:"Graveyard",terms:""},"amenity/hospital":{name:"Hospital",terms:"clinic,emergency room,health service,hospice,infirmary,institution,nursing home,rest home,sanatorium,sanitarium,sick bay,surgery,ward"},"amenity/library":{name:"Library",terms:""},"amenity/marketplace":{name:"Marketplace",terms:""},"amenity/parking":{name:"Parking",terms:""},"amenity/pharmacy":{name:"Pharmacy",terms:""},"amenity/place_of_worship":{name:"Place of Worship",terms:"abbey,basilica,bethel,cathedral,chancel,chantry,chapel,church,fold,house of God,house of prayer,house of worship,minster,mission,mosque,oratory,parish,sacellum,sanctuary,shrine,synagogue,tabernacle,temple"},"amenity/place_of_worship/christian":{name:"Church",terms:"christian,abbey,basilica,bethel,cathedral,chancel,chantry,chapel,church,fold,house of God,house of prayer,house of worship,minster,mission,oratory,parish,sacellum,sanctuary,shrine,tabernacle,temple"},"amenity/place_of_worship/jewish":{name:"Synagogue",terms:"jewish,synagogue"},"amenity/place_of_worship/muslim":{name:"Mosque",terms:"muslim,mosque"},"amenity/police":{name:"Police",terms:"badge,bear,blue,bluecoat,bobby,boy scout,bull,constable,constabulary,cop,copper,corps,county mounty,detective,fed,flatfoot,force,fuzz,gendarme,gumshoe,heat,law,law enforcement,man,narc,officers,patrolman,police"},"amenity/post_box":{name:"Mailbox",terms:"letter drop,letterbox,mail drop,mailbox,pillar box,postbox"},"amenity/post_office":{name:"Post Office",terms:""},"amenity/pub":{name:"Pub",terms:""},"amenity/restaurant":{name:"Restaurant",terms:"bar,cafeteria,caf,canteen,chophouse,coffee shop,diner,dining room,dive*,doughtnut shop,drive-in,eatery,eating house,eating place,fast-food place,greasy spoon,grill,hamburger stand,hashery,hideaway,hotdog stand,inn,joint*,luncheonette,lunchroom,night club,outlet*,pizzeria,saloon,soda fountain,watering hole"},"amenity/school":{name:"School",terms:"academy,alma mater,blackboard,college,department,discipline,establishment,faculty,hall,halls of ivy,institute,institution,jail*,schoolhouse,seminary,university"},"amenity/swimming_pool":{name:"Swimming Pool",terms:""},"amenity/telephone":{name:"Telephone",terms:""},"amenity/theatre":{name:"Theater",terms:"theatre,performance,play,musical"},"amenity/toilets":{name:"Toilets",terms:""},"amenity/townhall":{name:"Town Hall",terms:"village hall,city government,courthouse,municipal building,municipal center"},"amenity/university":{name:"University",terms:""},barrier:{name:"Barrier",terms:""},"barrier/block":{name:"Block",terms:""},"barrier/bollard":{name:"Bollard",terms:""},"barrier/cattle_grid":{name:"Cattle Grid",terms:""},"barrier/city_wall":{name:"City Wall",terms:""},"barrier/cycle_barrier":{name:"Cycle Barrier",terms:""},"barrier/ditch":{name:"Ditch",terms:""},"barrier/entrance":{name:"Entrance",terms:""},"barrier/fence":{name:"Fence",terms:""},"barrier/gate":{name:"Gate",terms:""},"barrier/hedge":{name:"Hedge",terms:""},"barrier/kissing_gate":{name:"Kissing Gate",terms:""},"barrier/lift_gate":{name:"Lift Gate",terms:""},"barrier/retaining_wall":{name:"Retaining Wall",terms:""},"barrier/stile":{name:"Stile",terms:""},"barrier/toll_booth":{name:"Toll Booth",terms:""},"barrier/wall":{name:"Wall",terms:""},building:{name:"Building",terms:""},"building/entrance":{name:"Entrance",terms:""},entrance:{name:"Entrance",terms:""},highway:{name:"Highway",terms:""},"highway/bridleway":{name:"Bridle Path",terms:"bridleway,equestrian trail,horse riding path,bridle road,horse trail"},"highway/bus_stop":{name:"Bus Stop",terms:""},"highway/crossing":{name:"Crossing",terms:"crosswalk,zebra crossing"},"highway/cycleway":{name:"Cycle Path",terms:""},"highway/footway":{name:"Foot Path",terms:"beaten path,boulevard,clearing,course,cut*,drag*,footpath,highway,lane,line,orbit,passage,pathway,rail,rails,road,roadway,route,street,thoroughfare,trackway,trail,trajectory,walk"},"highway/motorway":{name:"Motorway",terms:""},"highway/motorway_link":{name:"Motorway Link",terms:"ramp,on ramp,off ramp"},"highway/path":{name:"Path",terms:""},"highway/primary":{name:"Primary Road",terms:""},"highway/primary_link":{name:"Primary Link",terms:"ramp,on ramp,off ramp"},"highway/residential":{name:"Residential Road",terms:""},"highway/road":{name:"Unknown Road",terms:""},"highway/secondary":{name:"Secondary Road",terms:""},"highway/secondary_link":{name:"Secondary Link",terms:"ramp,on ramp,off ramp"},"highway/service":{name:"Service Road",terms:""},"highway/steps":{name:"Steps",terms:"stairs,staircase"},"highway/tertiary":{name:"Tertiary Road",terms:""},"highway/tertiary_link":{name:"Tertiary Link",terms:"ramp,on ramp,off ramp"},"highway/track":{name:"Track",terms:""},"highway/traffic_signals":{name:"Traffic Signals",terms:"light,stoplight,traffic light"},"highway/trunk":{name:"Trunk Road",terms:""},"highway/trunk_link":{name:"Trunk Link",terms:"ramp,on ramp,off ramp"},"highway/turning_circle":{name:"Turning Circle",terms:""},"highway/unclassified":{name:"Unclassified Road",terms:""},historic:{name:"Historic Site",terms:""},"historic/archaeological_site":{name:"Archaeological Site",terms:""},"historic/boundary_stone":{name:"Boundary Stone",terms:""},"historic/castle":{name:"Castle",terms:""},"historic/memorial":{name:"Memorial",terms:""},"historic/monument":{name:"Monument",terms:""},"historic/ruins":{name:"Ruins",terms:""},"historic/wayside_cross":{name:"Wayside Cross",terms:""},"historic/wayside_shrine":{name:"Wayside Shrine",terms:""},landuse:{name:"Landuse",terms:""},"landuse/allotments":{name:"Allotments",terms:""},"landuse/basin":{name:"Basin",terms:""},"landuse/cemetery":{name:"Cemetery",terms:""},"landuse/commercial":{name:"Commercial",terms:""},"landuse/construction":{name:"Construction",terms:""},"landuse/farm":{name:"Farm",terms:""},"landuse/farmyard":{name:"Farmyard",terms:""},"landuse/forest":{name:"Forest",terms:""},"landuse/grass":{name:"Grass",terms:""},"landuse/industrial":{name:"Industrial",terms:""},"landuse/meadow":{name:"Meadow",terms:""},"landuse/orchard":{name:"Orchard",terms:""},"landuse/quarry":{name:"Quarry",terms:""},"landuse/residential":{name:"Residential",terms:""},"landuse/vineyard":{name:"Vineyard",terms:""},leisure:{name:"Leisure",terms:""},"leisure/garden":{name:"Garden",terms:""},"leisure/golf_course":{name:"Golf Course",terms:""},"leisure/marina":{name:"Marina",terms:""},"leisure/park":{name:"Park",terms:"esplanade,estate,forest,garden,grass,green,grounds,lawn,lot,meadow,parkland,place,playground,plaza,pleasure garden,recreation area,square,tract,village green,woodland"},"leisure/pitch":{name:"Sport Pitch",terms:""},"leisure/pitch/american_football":{name:"American Football Field",terms:""},"leisure/pitch/baseball":{name:"Baseball Diamond",terms:""},"leisure/pitch/basketball":{name:"Basketball Court",terms:""},"leisure/pitch/soccer":{name:"Soccer Field",terms:""},"leisure/pitch/tennis":{name:"Tennis Court",terms:""},"leisure/playground":{name:"Playground",terms:""},"leisure/slipway":{name:"Slipway",terms:""},"leisure/stadium":{name:"Stadium",terms:""},"leisure/swimming_pool":{name:"Swimming Pool",terms:""},man_made:{name:"Man Made",terms:""},"man_made/lighthouse":{name:"Lighthouse",terms:""},"man_made/pier":{name:"Pier",terms:""},"man_made/survey_point":{name:"Survey Point",terms:""},"man_made/water_tower":{name:"Water Tower",terms:""},natural:{name:"Natural",terms:""},"natural/bay":{name:"Bay",terms:""},"natural/beach":{name:"Beach",terms:""},"natural/cliff":{name:"Cliff",terms:""},"natural/coastline":{name:"Coastline",terms:"shore"},"natural/glacier":{name:"Glacier",terms:""},"natural/grassland":{name:"Grassland",terms:""},"natural/heath":{name:"Heath",terms:""},"natural/peak":{name:"Peak",terms:"acme,aiguille,alp,climax,crest,crown,hill,mount,mountain,pinnacle,summit,tip,top"},"natural/scrub":{name:"Scrub",terms:""},"natural/spring":{name:"Spring",terms:""},"natural/tree":{name:"Tree",terms:""},"natural/water":{name:"Water",terms:""},"natural/water/lake":{name:"Lake",terms:"lakelet,loch,mere"},"natural/water/pond":{name:"Pond",terms:"lakelet,millpond,tarn,pool,mere"},"natural/water/reservoir":{name:"Reservoir",terms:""},"natural/wetland":{name:"Wetland",terms:""},"natural/wood":{name:"Wood",terms:""},office:{name:"Office",terms:""},place:{name:"Place",terms:""},"place/hamlet":{name:"Hamlet",terms:""},"place/island":{name:"Island",terms:"archipelago,atoll,bar,cay,isle,islet,key,reef"},"place/locality":{name:"Locality",terms:""},"place/village":{name:"Village",terms:""},power:{name:"Power",terms:""},"power/generator":{name:"Power Plant",terms:""},"power/line":{name:"Power Line",terms:""},"power/pole":{name:"Power Pole",terms:""},"power/sub_station":{name:"Substation",terms:""},"power/tower":{name:"High-Voltage Tower",terms:""},"power/transformer":{name:"Transformer",terms:""},railway:{name:"Railway",terms:""},"railway/abandoned":{name:"Abandoned Railway",terms:""},"railway/disused":{name:"Disused Railway",terms:""},"railway/level_crossing":{name:"Level Crossing",terms:"crossing,railroad crossing,railway crossing,grade crossing,road through railroad,train crossing"},"railway/monorail":{name:"Monorail",terms:""},"railway/rail":{name:"Rail",terms:""},"railway/subway":{name:"Subway",terms:""},"railway/subway_entrance":{name:"Subway Entrance",terms:""},"railway/tram":{name:"Tram",terms:"streetcar"},shop:{name:"Shop",terms:""},"shop/alcohol":{name:"Liquor Store",terms:""},"shop/bakery":{name:"Bakery",terms:""},"shop/beauty":{name:"Beauty Shop",terms:""},"shop/beverages":{name:"Beverage Store",terms:""},"shop/bicycle":{name:"Bicycle Shop",terms:""},"shop/books":{name:"Bookstore",terms:""},"shop/boutique":{name:"Boutique",terms:""},"shop/butcher":{name:"Butcher",terms:""},"shop/car":{name:"Car Dealership",terms:""},"shop/car_parts":{name:"Car Parts Store",terms:""},"shop/car_repair":{name:"Car Repair Shop",terms:""},"shop/chemist":{name:"Chemist",terms:""},"shop/clothes":{name:"Clothing Store",terms:""},"shop/computer":{name:"Computer Store",terms:""},"shop/confectionery":{name:"Confectionery",terms:""},"shop/convenience":{name:"Convenience Store",terms:""},"shop/deli":{name:"Deli",terms:""},"shop/department_store":{name:"Department Store",terms:""},"shop/doityourself":{name:"DIY Store",terms:""},"shop/dry_cleaning":{name:"Dry Cleaners",terms:""},"shop/electronics":{name:"Electronics Store",terms:""},"shop/fishmonger":{name:"Fishmonger",terms:""},"shop/florist":{name:"Florist",terms:""},"shop/furniture":{name:"Furniture Store",terms:""},"shop/garden_centre":{name:"Garden Center",terms:""},"shop/gift":{name:"Gift Shop",terms:""},"shop/greengrocer":{name:"Greengrocer",terms:""},"shop/hairdresser":{name:"Hairdresser",terms:""},"shop/hardware":{name:"Hardware Store",terms:""},"shop/hifi":{name:"Hifi Store",terms:""},"shop/jewelry":{name:"Jeweler",terms:""},"shop/kiosk":{name:"Kiosk",terms:""},"shop/laundry":{name:"Laundry",terms:""},"shop/mall":{name:"Mall",terms:""},"shop/mobile_phone":{name:"Mobile Phone Store",terms:""},"shop/motorcycle":{name:"Motorcycle Dealership",terms:""},"shop/music":{name:"Music Store",terms:""},"shop/newsagent":{name:"Newsagent",terms:""},"shop/optician":{name:"Optician",terms:""},"shop/outdoor":{name:"Outdoor Store",terms:""},"shop/pet":{name:"Pet Store",terms:""},"shop/shoes":{name:"Shoe Store",terms:""},"shop/sports":{name:"Sporting Goods Store",terms:""},"shop/stationery":{name:"Stationery Store",terms:""},"shop/supermarket":{name:"Supermarket",terms:"bazaar,boutique,chain,co-op,cut-rate store,discount store,five-and-dime,flea market,galleria,mall,mart,outlet,outlet store,shop,shopping center,shopping plaza,stand,store,supermarket,thrift shop"},"shop/toys":{name:"Toy Store",terms:""},"shop/travel_agency":{name:"Travel Agency",terms:""},"shop/tyres":{name:"Tire Store",terms:""},"shop/vacant":{name:"Vacant Shop",terms:""},"shop/variety_store":{name:"Variety Store",terms:""},"shop/video":{name:"Video Store",terms:""},tourism:{name:"Tourism",terms:""},"tourism/alpine_hut":{name:"Alpine Hut",terms:""},"tourism/artwork":{name:"Artwork",terms:""},"tourism/attraction":{name:"Tourist Attraction",terms:""},"tourism/camp_site":{name:"Camp Site",terms:""},"tourism/caravan_site":{name:"RV Park",terms:""},"tourism/chalet":{name:"Chalet",terms:""},"tourism/guest_house":{name:"Guest House",terms:"B&B,Bed & Breakfast,Bed and Breakfast"},"tourism/hostel":{name:"Hostel",terms:""},"tourism/hotel":{name:"Hotel",terms:""},"tourism/information":{name:"Information",terms:""},"tourism/motel":{name:"Motel",terms:""},"tourism/museum":{name:"Museum",terms:"exhibition,exhibits archive,foundation,gallery,hall,institution,library,menagerie,repository,salon,storehouse,treasury,vault"},"tourism/picnic_site":{name:"Picnic Site",terms:""},"tourism/theme_park":{name:"Theme Park",terms:""},"tourism/viewpoint":{name:"Viewpoint",terms:""},"tourism/zoo":{name:"Zoo",terms:""},waterway:{name:"Waterway",terms:""},"waterway/canal":{name:"Canal",terms:""},"waterway/dam":{name:"Dam",terms:""},"waterway/ditch":{name:"Ditch",terms:""},"waterway/drain":{name:"Drain",terms:""},"waterway/river":{name:"River",terms:"beck,branch,brook,course,creek,estuary,rill,rivulet,run,runnel,stream,tributary,watercourse"},"waterway/riverbank":{name:"Riverbank",terms:""},"waterway/stream":{name:"Stream",terms:"beck,branch,brook,burn,course,creek,current,drift,flood,flow,freshet,race,rill,rindle,rivulet,run,runnel,rush,spate,spritz,surge,tide,torrent,tributary,watercourse"},"waterway/weir":{name:"Weir",terms:""}}}},locale.zh={modes:{add_area:{title:"",description:"",tail:""},add_line:{title:"",description:"",tail:""},add_point:{title:"",description:"",tail:""},browse:{title:"",description:""},draw_area:{tail:""},draw_line:{tail:""}},operations:{add:{annotation:{point:"",vertex:""}},start:{annotation:{line:"",area:""}},"continue":{annotation:{line:"",area:""}},cancel_draw:{annotation:""},change_tags:{annotation:""},circularize:{title:"",description:"",key:"O",annotation:{line:"",area:""}},orthogonalize:{title:"",description:"",key:"Q",annotation:{line:"",area:""}},"delete":{title:"",description:"",annotation:{point:"",vertex:"",line:"",area:"",relation:"",multiple:"{n}"}},connect:{annotation:{point:"",vertex:"",line:"",area:""}},disconnect:{title:"",description:"",key:"D",annotation:""},merge:{title:"",description:"",key:"C",annotation:"{n}"},move:{title:"",description:"",key:"M",annotation:{point:"",vertex:"",line:"",area:"",multiple:""}},rotate:{title:"",description:"",key:"R",annotation:{line:"",area:""}},reverse:{title:"",description:"",key:"V",annotation:""},split:{title:"",description:"",key:"X",annotation:""}},nothing_to_undo:"",nothing_to_redo:"",just_edited:"OpenStreetMap",browser_notice:"FirefoxChromeSafariOperaInternet Explorer9Potlatch 2",view_on_osm:"OSM",zoom_in_edit:"",logout:"",report_a_bug:"bug",commit:{title:"",description_placeholder:"",message_label:"",upload_explanation:"{user}OpenStreetMap",save:"",cancel:"",warnings:"",modified:"",deleted:"",created:""},contributors:{list:"{users}",truncated_list:"{users}{count}"},geocoder:{title:"",placeholder:"",no_results:"'{name}'"},geolocate:{title:""},inspector:{no_documentation_combination:"",no_documentation_key:"",show_more:"",new_tag:"",view_on_osm:"OSM",editing_feature:"{feature}",additional:"",choose:"",results:"{search}{n}",reference:" OpenStreetMap Wiki ",back_tooltip:""},background:{title:"",description:"",percent_brightness:"{opacity}% ",fix_misalignment:"",reset:""},restore:{description:"",restore:"",reset:""},save:{title:"",help:"OpenStreetMap",no_changes:"",error:"",uploading:"OpenStreetMap",unsaved_changes:""},splash:{welcome:"OpenStreetMapiD",text:"{version}{website}{github}bug"},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"",on_wiki:"wiki.osm.org{tag}",used_with:"{type}"},validations:{untagged_point:"",untagged_line:"",untagged_area:"",many_deletions:"{n}openstreetmap.org",tag_suggests_area:"{tag}",deprecated_tags:"{tags}"},zoom:{"in":"",out:""},imagery:{provided_by:"{source}"},gpx:{local_layer:"GPX",drag_drop:"GPX"},presets:{fields:{access:{label:""},address:{label:"",placeholders:{housename:"",number:"123",street:"",city:""}},aeroway:{label:""},amenity:{label:""},atm:{label:"ATM"},barrier:{label:""},bicycle_parking:{label:""},building:{label:""},building_area:{label:""},building_yes:{label:""},capacity:{label:""},collection_times:{label:""},construction:{label:""},country:{label:""},crossing:{label:""},cuisine:{label:""},denomination:{label:""},denotation:{label:""},elevation:{label:""},emergency:{label:""},entrance:{label:""},fax:{label:""},fee:{label:""},highway:{label:""},historic:{label:""},internet_access:{label:"",options:{wlan:"",wired:"",terminal:""}},landuse:{label:""},layer:{label:""},leisure:{label:""},levels:{label:""},man_made:{label:""},maxspeed:{label:""},name:{label:""},natural:{label:""},network:{label:""},note:{label:""},office:{label:""},oneway:{label:""},oneway_yes:{label:""},opening_hours:{label:""},operator:{label:""},phone:{label:""},place:{label:""},power:{label:""},railway:{label:""},ref:{label:""},religion:{label:"",options:{christian:"",muslim:"",buddhist:"",jewish:"",hindu:"",shinto:"",taoist:""}},service:{label:""},shelter:{label:""},shop:{label:""},source:{label:""},sport:{label:""},structure:{label:"",options:{bridge:"",tunnel:"",embankment:"",cutting:""}},surface:{label:""},tourism:{label:""},water:{label:""},waterway:{label:""},website:{label:""},wetland:{label:""},wheelchair:{label:""},wikipedia:{label:""},wood:{label:""}},presets:{aeroway:{name:""},"aeroway/aerodrome":{name:"",terms:",,"},"aeroway/helipad":{name:"",terms:",,"},amenity:{name:""},"amenity/bank":{name:""},"amenity/bar":{name:""},"amenity/bench":{name:""},"amenity/bicycle_parking":{name:""},"amenity/bicycle_rental":{name:""},"amenity/cafe":{name:"",terms:",,"},"amenity/cinema":{name:""},"amenity/courthouse":{name:""},"amenity/embassy":{name:""},"amenity/fast_food":{name:""},"amenity/fire_station":{name:""},"amenity/fuel":{name:""},"amenity/grave_yard":{name:""},"amenity/hospital":{name:""},"amenity/library":{name:""},"amenity/marketplace":{name:""},"amenity/parking":{name:""},"amenity/pharmacy":{name:""},"amenity/place_of_worship":{name:""},"amenity/place_of_worship/christian":{name:""},"amenity/place_of_worship/jewish":{name:"",terms:","},"amenity/place_of_worship/muslim":{name:"",terms:","},"amenity/police":{name:""},"amenity/post_box":{name:"",terms:",,,"},"amenity/post_office":{name:""},"amenity/pub":{name:""},"amenity/restaurant":{name:""},"amenity/school":{name:""},"amenity/swimming_pool":{name:""},"amenity/telephone":{name:""},"amenity/theatre":{name:""},"amenity/toilets":{name:""},"amenity/townhall":{name:""},"amenity/university":{name:""},barrier:{name:""},"barrier/block":{name:""},"barrier/bollard":{name:""},"barrier/cattle_grid":{name:""},"barrier/city_wall":{name:""},"barrier/ditch":{name:""},"barrier/entrance":{name:""},"barrier/fence":{name:""},"barrier/gate":{name:""},"barrier/lift_gate":{name:""},"barrier/retaining_wall":{name:""},"barrier/toll_booth":{name:""},"barrier/wall":{name:""},building:{name:""},"building/entrance":{name:""},entrance:{name:""},highway:{name:""},"highway/bridleway":{name:"",terms:""},"highway/bus_stop":{name:""},"highway/crossing":{name:"",terms:","},"highway/cycleway":{name:""},"highway/footway":{name:""},"highway/motorway":{name:""},"highway/motorway_link":{name:""},"highway/path":{name:""},"highway/primary":{name:""},"highway/primary_link":{name:""},"highway/residential":{name:""},"highway/road":{name:""},"highway/secondary":{name:""},"highway/secondary_link":{name:""},"highway/service":{name:""},"highway/steps":{name:"",terms:""},"highway/tertiary":{name:""},"highway/tertiary_link":{name:""},"highway/track":{name:""},"highway/traffic_signals":{name:"",terms:",,"},"highway/trunk":{name:""},"highway/trunk_link":{name:""},"highway/turning_circle":{name:""},"highway/unclassified":{name:""},historic:{name:""},"historic/archaeological_site":{name:""},"historic/boundary_stone":{name:""},"historic/castle":{name:""},"historic/memorial":{name:""},"historic/monument":{name:""},"historic/ruins":{name:""},"historic/wayside_cross":{name:""},"historic/wayside_shrine":{name:""},landuse:{name:""},"landuse/allotments":{name:""},"landuse/basin":{name:""},"landuse/cemetery":{name:""},"landuse/commercial":{name:""},"landuse/construction":{name:""},"landuse/farm":{name:""},"landuse/farmyard":{name:""},"landuse/forest":{name:""},"landuse/grass":{name:""},"landuse/industrial":{name:""},"landuse/meadow":{name:""},"landuse/orchard":{name:""},"landuse/quarry":{name:""},"landuse/residential":{name:""},"landuse/vineyard":{name:""},leisure:{name:""},"leisure/garden":{name:""},"leisure/golf_course":{name:""},"leisure/marina":{name:""},"leisure/park":{name:""},"leisure/pitch":{name:""},"leisure/pitch/american_football":{name:""},"leisure/pitch/baseball":{name:""},"leisure/pitch/basketball":{name:""},"leisure/pitch/soccer":{name:""},"leisure/pitch/tennis":{name:""},"leisure/playground":{name:""},"leisure/slipway":{name:""},"leisure/stadium":{name:""},"leisure/swimming_pool":{name:""},man_made:{name:""},"man_made/lighthouse":{name:""},"man_made/pier":{name:""},"man_made/survey_point":{name:""},"man_made/water_tower":{name:""},natural:{name:""},"natural/bay":{name:""},"natural/beach":{name:""},"natural/cliff":{name:""},"natural/coastline":{name:"",terms:""},"natural/glacier":{name:""},"natural/grassland":{name:""},"natural/heath":{name:""},"natural/peak":{name:""},"natural/scrub":{name:""},"natural/spring":{name:""},"natural/tree":{name:""},"natural/water":{name:""},"natural/water/lake":{name:"",terms:","},"natural/water/pond":{name:""},"natural/water/reservoir":{name:""},"natural/wetland":{name:""},"natural/wood":{name:""},office:{name:""},place:{name:""},"place/hamlet":{name:""},"place/island":{name:""},"place/locality":{name:""},"place/village":{name:""},power:{name:""},"power/generator":{name:""},"power/line":{name:""},"power/pole":{name:""},"power/sub_station":{name:""},"power/tower":{name:""},"power/transformer":{name:""},railway:{name:""},"railway/abandoned":{name:""},"railway/disused":{name:""},"railway/level_crossing":{name:""},"railway/monorail":{name:""},"railway/rail":{name:""},"railway/subway":{name:""},"railway/subway_entrance":{name:""},"railway/tram":{name:"",terms:""},shop:{name:""},"shop/alcohol":{name:""},"shop/bakery":{name:""},"shop/beauty":{name:""},"shop/beverages":{name:""},"shop/bicycle":{name:""},"shop/books":{name:""},"shop/boutique":{name:""},"shop/butcher":{name:""},"shop/car":{name:""},"shop/car_parts":{name:""},"shop/car_repair":{name:""},"shop/chemist":{name:""},"shop/clothes":{name:""},"shop/computer":{name:""},"shop/confectionery":{name:""},"shop/convenience":{name:""},"shop/deli":{name:""},"shop/department_store":{name:""},"shop/doityourself":{name:"DIY"},"shop/dry_cleaning":{name:""},"shop/electronics":{name:""},"shop/fishmonger":{name:""},"shop/florist":{name:""},"shop/furniture":{name:""},"shop/garden_centre":{name:""},"shop/gift":{name:""},"shop/greengrocer":{name:""},"shop/hairdresser":{name:""},"shop/hardware":{name:""},"shop/hifi":{name:""},"shop/jewelry":{name:""},"shop/kiosk":{name:""},"shop/laundry":{name:""},"shop/mall":{name:""},"shop/mobile_phone":{name:""},"shop/motorcycle":{name:""},"shop/music":{name:""},"shop/newsagent":{name:""},"shop/optician":{name:""},"shop/outdoor":{name:""},"shop/pet":{name:""},"shop/shoes":{name:""},"shop/sports":{name:""},"shop/stationery":{name:""},"shop/supermarket":{name:""},"shop/toys":{name:""},"shop/travel_agency":{name:""},"shop/tyres":{name:""},"shop/vacant":{name:""},"shop/variety_store":{name:""},"shop/video":{name:""},tourism:{name:""},"tourism/alpine_hut":{name:""},"tourism/artwork":{name:""},"tourism/attraction":{name:""},"tourism/camp_site":{name:""},"tourism/caravan_site":{name:""},"tourism/chalet":{name:""},"tourism/guest_house":{name:""},"tourism/hostel":{name:""},"tourism/hotel":{name:""},"tourism/information":{name:""},"tourism/motel":{name:""},"tourism/museum":{name:""},"tourism/picnic_site":{name:""},"tourism/theme_park":{name:""},"tourism/viewpoint":{name:""},"tourism/zoo":{name:""},waterway:{name:""},"waterway/canal":{name:""},"waterway/dam":{name:""},"waterway/ditch":{name:""},"waterway/drain":{name:""},"waterway/river":{name:""},"waterway/riverbank":{name:""},"waterway/stream":{name:""},"waterway/weir":{name:""}}}},locale.zh_TW={modes:{add_area:{title:"",description:"",tail:""},add_line:{title:"",description:"",tail:""},add_point:{title:"",description:"",tail:""},browse:{title:"",description:""},draw_area:{tail:""},draw_line:{tail:""}},operations:{add:{annotation:{point:"",vertex:""}},start:{annotation:{line:"",area:""}},"continue":{annotation:{line:"",area:""}},cancel_draw:{annotation:""},change_tags:{annotation:""},circularize:{title:"",description:"",key:"O",annotation:{line:"",area:""}},orthogonalize:{title:"",description:"",key:"Q",annotation:{line:"",area:""}},"delete":{title:"",description:"",annotation:{point:"",vertex:"",line:"",area:"",relation:"",multiple:" {n} "}},connect:{annotation:{point:"",vertex:"",line:"",area:""}},disconnect:{title:"",description:"",key:"D",annotation:""},merge:{title:"",description:"",key:"C",annotation:" {n} "},move:{title:"",description:"",key:"M",annotation:{point:"",vertex:"",line:"",area:"",multiple:""}},rotate:{title:"",description:"",key:"R",annotation:{line:"",area:""}},reverse:{title:"",description:"",key:"V",annotation:""},split:{title:"",description:"",key:"X",annotation:""}},nothing_to_undo:"",nothing_to_redo:"",just_edited:"OpenStreetMap",browser_notice:"FirefoxChromeSafariOperaInternet Explorer 9Potlatch 2",view_on_osm:"OSM",zoom_in_edit:"",logout:"",report_a_bug:"",commit:{title:"",description_placeholder:"",upload_explanation:" {user} OpenStreetMap",save:"",cancel:"",warnings:"",modified:"",deleted:"",created:""},contributors:{list:" {users} ",truncated_list:" {users}  {count} "},geocoder:{title:"",placeholder:"",no_results:" '{name}' "},geolocate:{title:""},inspector:{no_documentation_combination:"",no_documentation_key:"",show_more:"",new_tag:"",view_on_osm:"OSM",editing_feature:" {feature}",additional:"",choose:"",results:"{search}  {n} ",reference:"OpenStreetMap Wiki ",back_tooltip:""},background:{title:"",description:"",percent_brightness:"{opacity}%",fix_misalignment:"",reset:""},restore:{description:"",restore:"",reset:""},save:{title:"",help:"OpenStreetMap",no_changes:"",error:"",uploading:"OpenStreetMap",unsaved_changes:""},splash:{welcome:"iD OpenStreetMap",text:" {version} {website}  {github} "},source_switch:{live:"",dev:""},tag_reference:{description:"",on_wiki:"wiki.osm.org {tag}",used_with:" {type} "},validations:{untagged_point:"",untagged_line:"",untagged_area:"",many_deletions:" {n} openstreetmap.org",tag_suggests_area:"{tag} ",deprecated_tags:"{tags}"},zoom:{"in":"",out:""},imagery:{provided_by:" {source} "},gpx:{local_layer:"GPX",drag_drop:".gpx"},presets:{fields:{access:{label:""},address:{label:"",placeholders:{housename:"",number:"123",street:"",city:""}},aeroway:{label:""},amenity:{label:""},atm:{label:""},bicycle_parking:{label:""},building:{label:""},building_area:{label:""},building_yes:{label:""},capacity:{label:""},collection_times:{label:""},construction:{label:""},country:{label:""},crossing:{label:""},cuisine:{label:""},denomination:{label:""},denotation:{label:""},elevation:{label:""},emergency:{label:""},entrance:{label:""},fax:{label:""},fee:{label:""},highway:{label:""},historic:{label:""},internet_access:{label:"",options:{wlan:"",wired:"",terminal:""}},landuse:{label:""},layer:{label:""},leisure:{label:""},levels:{label:""},man_made:{label:""},maxspeed:{label:""},natural:{label:""},network:{label:""},note:{label:""},office:{label:""},oneway:{label:""},opening_hours:{label:""},operator:{label:""},phone:{label:""},place:{label:""},railway:{label:""},ref:{label:""},religion:{label:"",options:{christian:"",muslim:"",buddhist:"",jewish:"",hindu:"",shinto:"",taoist:""}},service:{label:""},shelter:{label:""},shop:{label:""},source:{label:""},sport:{label:""},structure:{label:"",options:{bridge:"",tunnel:"",embankment:"",cutting:""}},surface:{label:""},tourism:{label:""},water:{label:""},waterway:{label:""},website:{label:""},wetland:{label:""},wheelchair:{label:""},wikipedia:{label:""},wood:{label:""}},presets:{aeroway:{name:""},"aeroway/aerodrome":{name:"",terms:""},"aeroway/helipad":{name:"",terms:""},amenity:{name:""},"amenity/bank":{name:"",terms:""},"amenity/bar":{name:""},"amenity/bench":{name:""},"amenity/bicycle_parking":{name:""},"amenity/bicycle_rental":{name:""},"amenity/cafe":{name:"",terms:""},"amenity/cinema":{name:"",terms:""},"amenity/courthouse":{name:""},"amenity/embassy":{name:""},"amenity/fast_food":{name:""},"amenity/fire_station":{name:""},"amenity/fuel":{name:""},"amenity/grave_yard":{name:""},"amenity/hospital":{name:"",terms:""},"amenity/library":{name:""},"amenity/parking":{name:""},"amenity/pharmacy":{name:""},"amenity/place_of_worship":{name:"",terms:""},"amenity/place_of_worship/christian":{name:"",terms:""},"amenity/place_of_worship/jewish":{name:"",terms:""},"amenity/place_of_worship/muslim":{name:"",terms:""},"amenity/police":{name:"",terms:" "},"amenity/post_box":{name:"",terms:""},"amenity/post_office":{name:""},"amenity/pub":{name:""},"amenity/restaurant":{name:""},"amenity/school":{name:""},"amenity/swimming_pool":{name:""},"amenity/telephone":{name:""},"amenity/theatre":{name:""},"amenity/toilets":{name:""},"amenity/townhall":{name:""},"amenity/university":{name:""},building:{name:""},"building/entrance":{name:""},entrance:{name:""},highway:{name:""},"highway/bus_stop":{name:""},"highway/crossing":{name:""},"highway/cycleway":{name:""},"highway/footway":{name:""},"highway/motorway":{name:""},"highway/path":{name:""},"highway/primary":{name:""},"highway/residential":{name:""},"highway/secondary":{name:""},"highway/service":{name:""},"highway/steps":{name:""},"highway/tertiary":{name:""},"highway/track":{name:""},"highway/traffic_signals":{name:""},"highway/trunk":{name:""},"highway/turning_circle":{name:""},"highway/unclassified":{name:""},historic:{name:""},"historic/monument":{name:""},landuse:{name:""},"landuse/allotments":{name:""},"landuse/basin":{name:""},"landuse/cemetery":{name:""},"landuse/commercial":{name:""},"landuse/construction":{name:""},"landuse/farm":{name:""},"landuse/farmyard":{name:""},"landuse/forest":{name:""},"landuse/grass":{name:""},"landuse/industrial":{name:""},"landuse/meadow":{name:""},"landuse/orchard":{name:""},"landuse/quarry":{name:""},"landuse/residential":{name:""},"landuse/vineyard":{name:""},leisure:{name:""},"leisure/garden":{name:""},"leisure/golf_course":{name:""},"leisure/park":{name:""},"leisure/pitch":{name:""},"leisure/pitch/american_football":{name:""},"leisure/pitch/baseball":{name:""},"leisure/pitch/basketball":{name:""},"leisure/pitch/soccer":{name:""},"leisure/pitch/tennis":{name:""},"leisure/playground":{name:""},"leisure/stadium":{name:""},"leisure/swimming_pool":{name:""},man_made:{name:""},"man_made/lighthouse":{name:""},"man_made/pier":{name:""},"man_made/survey_point":{name:""},"man_made/water_tower":{name:""},natural:{name:""},"natural/bay":{name:""},"natural/beach":{name:""},"natural/cliff":{name:""},"natural/coastline":{name:"",terms:""},"natural/glacier":{name:""},"natural/grassland":{name:""},"natural/heath":{name:""},"natural/peak":{name:""},"natural/scrub":{name:""},"natural/spring":{name:""},"natural/tree":{name:""},"natural/water":{name:""},"natural/water/lake":{name:""},"natural/water/pond":{name:""},"natural/water/reservoir":{name:""},"natural/wetland":{name:""},"natural/wood":{name:""},office:{name:""},place:{name:""},"place/hamlet":{name:""},"place/island":{name:""},"place/locality":{name:""},"place/village":{name:""},"power/sub_station":{name:""},railway:{name:""},"railway/level_crossing":{name:""},"railway/rail":{name:""},"railway/subway":{name:""},"railway/subway_entrance":{name:""},shop:{name:""},"shop/butcher":{name:""},"shop/supermarket":{name:""},tourism:{name:""},"tourism/alpine_hut":{name:""},"tourism/artwork":{name:""},"tourism/attraction":{name:""},"tourism/camp_site":{name:""},"tourism/caravan_site":{name:""},"tourism/chalet":{name:""},"tourism/guest_house":{name:""},"tourism/hostel":{name:""},"tourism/hotel":{name:""},"tourism/information":{name:""},"tourism/motel":{name:""},"tourism/museum":{name:""},"tourism/picnic_site":{name:""},"tourism/theme_park":{name:""},"tourism/viewpoint":{name:""},"tourism/zoo":{name:""},waterway:{name:""},"waterway/canal":{name:""},"waterway/dam":{name:""},"waterway/ditch":{name:""},"waterway/drain":{name:""},"waterway/river":{name:""},"waterway/riverbank":{name:""},"waterway/stream":{name:""},"waterway/weir":{name:""}}}},locale.da={modes:{add_area:{title:"Omrde",description:"Tilfj parker, bygninger, ser, eller andre omrder til kortet.",tail:"Klik p kortet for at indtegne et omrde fx en park, s eller bygning."},add_line:{title:"Linje",description:"Linjer kan vre veje, gader eller stier selv kanaler kan vre linjer.",tail:"Klik p kortet for at indtegne en vej, sti eller rute."},add_point:{title:"Punkt",description:"Restauranter, mindesmrker og postkasser er punkter.",tail:"Klik p kortet for at tilfje et punkt."},browse:{title:"Gennemse",description:"Trk rundt og zoom p kortet."},draw_area:{tail:"Klik her for at tilfje punkter til dit omrde. Klik p frste punkt igen for at frdiggre omrdet."},draw_line:{tail:"Klik her for at tilfje flere punkter til linjen. Klik p andre linjer for at forbinde dem og dobbeltklik for at afslutte linjen."}},operations:{add:{annotation:{point:"Tilfjede et punkt.",vertex:"Tilfjede en node til en vej."}},start:{annotation:{line:"Startede en linje.",area:"Startede et omrde."}},"continue":{annotation:{line:"Fortsatte en linje.",area:"Fortsatte et omrde."}},cancel_draw:{annotation:"Annullerede indtegning."},change_tags:{annotation:"ndret tags."},circularize:{title:"Cirkularisere",description:"Lav denne rund.",key:"O",annotation:{line:"Lavede en linje rund.",area:"Lave et omrde rundt."}},orthogonalize:{title:"Ortogonalisering",description:"Gr disse hjrner firkantet.",key:"Q",annotation:{line:"Lavede hjrner p en linje firkantet.",area:"Lavede hjrner p et omrde firkantet."}},"delete":{title:"Slet",description:"Fjern dette fra kortet.",annotation:{point:"Slettede et punkt.",vertex:"Slettede en node fra en vej.",line:"Slettede en linje.",area:"Slettede et omrde.",relation:"Sletede en relation.",multiple:"Slettede {n} objekter."}},connect:{annotation:{point:"Forbandt en vej til et punkt.",vertex:"Forbandt en vej til en anden vej.",line:"Forbandt en vej til en linje.",area:"Forbandt en vej til et omrde."}},disconnect:{title:"Afbryd",description:"Afbryd disse veje fra hinanden.",key:"D",annotation:"Afbrd vejene."},merge:{title:"Flet",description:"Flet disse linjer.",key:"C",annotation:"Flettede {n} linjer."},move:{title:"Flyt",description:"Flyt dette til en anden lokation.",key:"M",annotation:{point:"Flyttede et punkt.",vertex:"Flyttede en node i en vej.",line:"Flyttede en linje.",area:"Flyttede et omrde."}},reverse:{title:"Omvendt",description:"Lad denne linje g i modsat retning.",key:"V",annotation:"Omvendte en linje."},split:{title:"Del op",description:"Del op i to veje ved dette punkt.",key:"X",annotation:"Del en vej op."}},nothing_to_undo:"Ingenting at fortryde.",nothing_to_redo:"Ingenting at gendanne.",just_edited:"Du har lige rettet i OpenStreetMap!",browser_notice:"Dette vrktj er understttet i Firefox, Chrome, Safari, Opera og Internet Explorer 9 og hjere. Vr venlig at opgradere din browser eller benyt Potlatch 2 for at rette i kortet.",view_on_osm:"Vis p OSM",zoom_in_edit:"zoom ind for at rette p kortet",logout:"log ud",report_a_bug:"rapportere en fejl",commit:{title:"Gem ndringer",description_placeholder:"Kort beskrivelse af dine bidrag",upload_explanation:"Dine ndringer vil som brugernavn {user} blive synligt p alle kort der bruger OpenStreetMap data.",save:"Gem",cancel:"Fortryd",warnings:"Advarsler",modified:"Modificeret",deleted:"Slettede",created:"Lavede"},contributors:{list:"Vis bidrag fra {users}",truncated_list:"Vis bidrag fra {users} og {count} andre"},geocoder:{title:"Find et sted",placeholder:"find et sted",no_results:"Kunne ikke finde '{name}'"},geolocate:{title:"Vis min lokalitet"},inspector:{no_documentation_combination:"Der er ingen dokumentation for denne tag kombination",no_documentation_key:"Der er ingen dokumentation tilgngelig for denne ngle",new_tag:"Nyt tag",view_on_osm:"Vis p OSM"},background:{title:"Baggrund",description:"Baggrundsindstillinger",percent_brightness:"{opacity}% lysstyrke",fix_misalignment:"Lav fejljustering",reset:"nulstil"},restore:{description:"Du har ndringer fra forrige session som ikke er gemt. nsker du at gendanne disse ndringer?",restore:"Gendan",reset:"Nulstil"},save:{title:"Gem",help:"Gem ndringer til OpenStreetMap vil gre dem synlige for andre brugere.",error:"Der skete en fejl da du prvede at gemme",uploading:"Gemmer nu ndringer til OpenStreetMap.",unsaved_changes:"Du har ndringer der ikke er gemt endnu"},splash:{welcome:"Velkommen til iD OpenStreetMap vrktjet",text:"Dette er udviklingsversion {version}. Mere information se {website} og rapportere fejl p {github}."},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"Beskrivelse",on_wiki:"{tag} p wiki.osm.org",used_with:"brugt med {type}"},validations:{untagged_point:"Mangler et tag p punkt som ikke er del af en linje eller omrde",untagged_line:"Mangler tag p linje",untagged_area:"Mangler tag p omrde",many_deletions:"You're deleting {n} objects. Are you sure you want to do this? This will delete them from the map that everyone else sees on openstreetmap.org.",tag_suggests_area:"Dette tag {tag} mener denne linje skule vre et omrde, men dette er ikke et omrde",deprecated_tags:"Unskede tags: {tags}"},zoom:{"in":"Zoom ind",out:"Zoom ud"}},locale.nl={modes:{add_area:{title:"Vlak",description:"Voeg parken, gebouwen, meren of andere vlakken aan de kaart toe.",tail:"Klik in de kaart om het tekenen van een vlak zoals een park, gebouw of meer te starten."},add_line:{title:"Lijn",description:"Lijnen zijn bijvoorbeeld rijkswegen, straten, voetpaden of kanalen.",tail:"Klik in de kaart om het tekenen van straat, pad of route te starten."},add_point:{title:"Punt",description:"Restaurants, monumenten en brievenbussen zijn bijvoorbeeld punten.",tail:"Klik in de kaart om een punt toe te voegen."},browse:{title:"Navigatie",description:"Verschuif en zoom in op de kaart."},draw_area:{tail:"Klik om punten aan het vlak toe te voegen. Klik op het eerste punt om het vlak te sluiten."},draw_line:{tail:"Klik om meer punten aan de lijn toe te voegen. Klik op een andere lijn om de lijnen te verbinden en dubbelklik om de lijn af te sluiten."}},operations:{add:{annotation:{point:"Punt toegevoegd.",vertex:"Knoop aan een weg toegevoegd."}},start:{annotation:{line:"Lijn begonnen.",area:"Vlak begonnen."}},"continue":{annotation:{line:"Lijn voortgezet.",area:"Vlak voortgezet."}},cancel_draw:{annotation:"Tekenen afgebroken."},change_tags:{annotation:"Tags aangepast."},circularize:{title:"Rond maken",description:"Maak dit rond.",key:"O",annotation:{line:"Maak een lijn rond.",area:"Maak een vlak rond."}},orthogonalize:{title:"Haaks maken",description:"Maak deze hoeken haaks.",key:"Q",annotation:{line:"Hoeken van een lijn zijn haaks gemaakt.",area:"Hoeken van een vlak zijn haaks gemaakt."}},"delete":{title:"Verwijderen",description:"Verwijder dit van de kaart.",annotation:{point:"Punt verwijderd.",vertex:"Knoop uit een weg verwijderd.",line:"Lijn verwijderd.",area:"Vlak verwijderd.",relation:"Relatie verwijderd.",multiple:"{n} objecten verwijderd."}},connect:{annotation:{point:"Weg aan een punt verbonden.",vertex:"Weg aan een andere weg verbonden.",line:"Weg aan een lijn  verbonden.",area:"Weg aan een vlak verbonden."}},disconnect:{title:"Losmaken",description:"Maak deze wegen van elkaar los.",key:"D",annotation:"Wegen losgemaakt."},merge:{title:"Samenvoegen",description:"Voeg deze lijnen samen.",key:"C",annotation:"{n} lijnen samengevoegd."},move:{title:"Verschuiven",description:"Verschuif dit object naar een andere plek.",key:"M",annotation:{point:"Punt verschoven.",vertex:"Knoop van een weg verschoven.",line:"Lijn verschoven.",area:"Vlak verschoven."}},reverse:{title:"Omdraaien",description:"Draai de richting van deze lijn om.",key:"V",annotation:"Lijnrichting omgedraaid."},split:{title:"Splitsen",description:"Splits deze weg op het geselecteerde punt.",key:"X",annotation:"Weg opgesplitst."}},nothing_to_undo:"Niets om ongedaan te maken.",nothing_to_redo:"Niets om opnieuw uit te voeren.",just_edited:"Je hebt zojuist OpenStreetMap aangepast!",browser_notice:"Deze editor wordt door Firefox, Chrome, Safari, Opera en Internet Explorer (versie 9 en hoger) ondersteund. Download een nieuwere versie van je browser of gebruik Potlatch 2 om de kaart aan te passen.",view_on_osm:"Bekijk op OSM",zoom_in_edit:"Zoom in om de kaart aan te passen.",logout:"Afmelden",report_a_bug:"Meld een softwareprobleem",commit:{title:"Aanpassingen opslaan",description_placeholder:"Een korte omschrijving van je bijdragen",upload_explanation:"Aanpassingen die je als {user} uploadt worden zichtbaar op alle kaarten die de gegevens van OpenStreetMap gebruiken.",save:"Opslaan",cancel:"Afbreken",warnings:"Waarschuwingen",modified:"Aangepast",deleted:"Verwijderd",created:"Aangemaakt"},contributors:{list:"Deze kaartuitsnede bevat bijdragen van:",truncated_list:"Deze kaartuitsnede bevat bijdragen van: {users} en {count} anderen"},geocoder:{title:"Zoek een plaats",placeholder:"Zoek een plaats",no_results:"De plaats '{name}' kan niet worden gevonden"},geolocate:{title:"Toon mijn locatie"},inspector:{no_documentation_combination:"Voor deze tag is geen documentatie beschikbaar.",no_documentation_key:"Voor deze sleutel is geen documentatie beschikbaar",new_tag:"Nieuwe tag",view_on_osm:"Bekijk op OSM",additional:"Additional tags",choose:"What are you adding?",results:"{n} results for {search}"},background:{title:"Achtergrond",description:"Achtergrondinstellingen",percent_brightness:"{opacity}% helderheid",fix_misalignment:"Repareer de verkeerde ligging",reset:"Ongedaan maken"},restore:{description:"Er zijn niet-opgeslagen aanpassingen uit een vorige sessie. Wil je deze aanpassingen behouden?",restore:"Behouden",reset:"Ongedaan maken"},save:{title:"Opslaan",help:"Sla de aanpassingen bij OpenStreetMap op om deze voor andere gebruikers zichtbaar te maken",error:"Bij het opslaan is een fout opgetreden",uploading:"De aanpassingen worden naar OpenStreetMap gepload.",unsaved_changes:"Je hebt niet-opgeslagen aanpassingen"},splash:{welcome:"Welkom bij de iD OpenStreetMap editor",text:" Dit is een ontwikkelversie {version}. Voor meer informatie bezoek {website} of meld problemen op {github}."},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"Omschrijving",on_wiki:"{tag} op wiki.osm.org",used_with:"gebruikt met {type}"},validations:{untagged_point:"Punt zonder tags, dat geen onderdeel is van een lijn of vlak",untagged_line:"Lijn zonder tags",untagged_area:"Vlak zonder tags",many_deletions:"You're deleting {n} objects. Are you sure you want to do this? This will delete them from the map that everyone else sees on openstreetmap.org.",tag_suggests_area:"De tag {tag} suggereert dat de lijn een vlak is, maar het is geen vlak",deprecated_tags:"Afgeschafte tags: {tags}"},zoom:{"in":"Inzoomen",out:"Uitzoomen"}},locale.fr={modes:{add_area:{title:"Polygone",description:"Les polygones peuvent tre des parcs, des batments, des lacs ou tout autre objet surfacique.",tail:"Cliquez sur la carte pour ajouter un polygone tel qu'un parc, un lac ou un btiment."},add_line:{title:"Ligne",description:"Les lignes peuvent tre des autoroutes, des routes, des chemins ou encore des caneaux.",tail:"Cliquez sur la carte pour ajouter une nouvelle ligne telle qu'une route ou un nouveau chemin."},add_point:{title:"Point",description:"Les points peuvent tre des restaurants, des monuments, ou encore des boites aux lettres.",tail:"Cliquez sur la carte pour ajouter un point tel qu'un restaurant ou un monument."},browse:{title:"Navigation",description:"Naviguer ou zoomer sur la carte."},draw_area:{tail:"Cliquez pour ajouter un point  la zone. Cliquez sur le dernier point pour fermer la zone."},draw_line:{tail:"Cliquez pour ajouter un point  la ligne. Cliquez sur une autre ligne pour les connecter, puis fates un double-clique pour terminer la ligne."}},operations:{add:{annotation:{point:"Ajouter un point.",vertex:"Ajouter un noeud  une ligne."}},start:{annotation:{line:"Commencer une nouvelle ligne.",area:"Commencer un polygone."}},"continue":{annotation:{line:"Continuer une ligne.",area:"Continuer un polygone."}},cancel_draw:{annotation:"Annuler un ajout."},change_tags:{annotation:"Modifier les tags."},circularize:{title:"Arrondir",description:"Crer un cercle.",key:"O",annotation:{line:"Crer un cercle linaire.",area:"Crer un cercle surfacique (disque)."}},orthogonalize:{title:"Orthogonaliser",description:"Rendre une forme orthogonale.",key:"Q",annotation:{line:"Orthogonaliser une ligne orthogonale.",area:"Orthogonaliser un polygone orthogonale."}},"delete":{title:"Supprimer",description:"Supprime l'lment de la carte.",annotation:{point:"Supprime un point.",vertex:"Supprime le noeud d'une ligne.",line:"Supprime une ligne.",area:"Supprime un polygone.",relation:"Supprime une relation.",multiple:"Supprime {n} objets."}},connect:{annotation:{point:"Joindre une ligne  un point.",vertex:"Joindre les noeuds  une ligne.",line:"Joindre les chemins ensemble.",area:"Joindre une ligne  un polygone."}},disconnect:{title:"Sparer",description:"Spare les lignes l'une de l'autre.",key:"D",annotation:"Spare les lignes."},merge:{title:"Fusionner",description:"Fusionne les lignes.",key:"C",annotation:"Fusionne les {n} ligne."},move:{title:"Dplacer",description:"Dplace l'lment  un autre endroit.",key:"M",annotation:{point:"Dplace un point.",vertex:"Dplace le noeud d'une ligne.",line:"Dplace une ligne.",area:"Dplace un polygone.",multiple:"Dplace un groupe d'objets."}},rotate:{title:"Rotation",description:"Fait pivoter cet objet en fonction de son centrode.",key:"R",annotation:{line:"Pivoter la ligne.",area:"Pivoter un polyone."}},reverse:{title:"Inverser",description:"Inverse le sens d'une ligne.",key:"V",annotation:"Inverse le sens d'une ligne."},split:{title:"Couper",description:"Coupe une ligne en deux par rapport au point slectionn.",key:"X",annotation:"Coupe une ligne."}},nothing_to_undo:"Rien  annuler.",nothing_to_redo:"Rien  refaire.",just_edited:"Vous venez de participer  OpenStreetMap!",browser_notice:"Les navigateurs supports par cet diteur sont : Firefox, Chrome, Safari, Opera et Internet Explorer (version 9 et suprieures). Pour diter la carte, veuillez mettre  jour votre navigateur ou utiliser Potlatch 2.",view_on_osm:"Consulter dans OSM",zoom_in_edit:"Zoomer pour modifier la carte",logout:"Dconnexion",report_a_bug:"Signaler un bug",commit:{title:"Sauvegarder vos modifications",description_placeholder:"Description succinte de vos contributions",upload_explanation:"{user} : les modifications apportes seront visibles par l'ensemble des services utilisant les donnes d'OpenStreetMap.",save:"Sauvegarder",cancel:"Annuler",warnings:"Attention",modified:"Modifi",deleted:"Supprim",created:"Cr"},contributors:{list:"Contributions ralises par {users}",truncated_list:"Contributions ralises par {users} et {count} autres personnes"},geocoder:{title:"Trouver un emplacement",placeholder:"Trouver un endroit",no_results:"Impossible de localiser l'endroit nomm '{name}'"},geolocate:{title:"Me localiser"},inspector:{no_documentation_combination:"Aucune documentation n'est disponible pour cette combinaison de tag",no_documentation_key:"Aucune documentation n'est disponible pour cette cl",show_more:"Plus d'infornations",new_tag:"Nouveau tag",view_on_osm:"Visualiser sur OSM",editing_feature:"dition de {feature}",additional:"Tags complmentaires",choose:"Que souhaitez vous ajouter?",results:"{n} rsultats pour {search}",reference:"Consulter sur le Wiki d'OpenStreetMap",back_tooltip:"Changer le type de l'objet "},background:{title:"Fond de carte",description:"Paramtres du fond de carte",percent_brightness:"{opacity}% luminosit",fix_misalignment:"Corriger le dcalage",reset:"rinitialiser"},restore:{description:"Vous avez des changements non sauvegards d'une prcdente dition. Souhaitez-vous restaurer ces changements?",restore:"Restaurer",reset:"Annuler"},save:{title:"Sauvegarder",help:"Envoie des modifications au serveyr OpenStreetMap afin qu'elles soient visibles par les autres contributeurs.",no_changes:"Aucune modification  sauvegarder",error:"Une erreur est survenue lors de l'enregistrement des donnes",uploading:"Envoie des modifications vers OpenStreetMap.",unsaved_changes:"Vous avez des modifications non enregistres"},splash:{welcome:"Bienvenue sur ID l'editeur en ligne d'OpenStreetMap",text:"Cette version {version}, est une version de dveloppement. Si vous souhaitez plus d'informations, veuillez consulter {website} ou pour signaler un bug   {github}."},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"Description",on_wiki:"{tag} sur le wiki.osm.org",used_with:"Utilis avec {type}"},validations:{untagged_point:"Point sans aucun tag ne faisant partie ni d'une ligne, ni d'un polygone",untagged_line:"Ligne sans aucun tag",untagged_area:"Polygone sans aucun tag",many_deletions:"You're deleting {n} objects. Are you sure you want to do this? This will delete them from the map that everyone else sees on openstreetmap.org.",tag_suggests_area:"Ce tag {tag} suppose que cette ligne devrait tre un polygone, or ce n'est pas le cas",deprecated_tags:"Tags obsoltes : {tags}"},zoom:{"in":"Zoomer",out:"Dzoomer"},imagery:{provided_by:"Image provenant de {source}"},gpx:{local_layer:"Fichier GPX personnel",drag_drop:"Glisser et dposer un fichier .gpx sur la page"},presets:{fields:{address:{label:"Adresse",placeholders:{number:"123",street:"Rue",city:"Ville"}},aeroway:{label:"Type"},amenity:{label:"Type"},bicycle_parking:{label:"Type"},building:{label:"Btiment "},building_area:{label:"Btiment"},building_yes:{label:"Btiment"},capacity:{label:"Capacit"},construction:{label:"Type"},crossing:{label:"Type"},cuisine:{label:"Cuisine"},denomination:{label:"Denomination "},elevation:{label:"Elevation "},entrance:{label:"Type"},fax:{label:"Fax"},highway:{label:"Type"},historic:{label:"Type"},internet_access:{label:"Accs Internet",options:{wlan:"Wifi"}},landuse:{label:"Type"},layer:{label:"Couche"},leisure:{label:"Type"},levels:{label:"Niveaux"},man_made:{label:"Type"},maxspeed:{label:"Limite de vitesse"},note:{label:"Note"},office:{label:"Type"},oneway:{label:"Sens unique"},opening_hours:{label:"Heures"},operator:{label:"Operateur "},phone:{label:"Telephone "},place:{label:"Type"},railway:{label:"Type"},religion:{label:"Religion",options:{christian:"Christianisme",muslim:"Musulmane",buddhist:"Budhiste ",jewish:"Juive",hindu:"Indouiste ",taoist:"Taoiste "}},service:{label:"Type"},shop:{label:"Type"},source:{label:"Source"},sport:{label:"Sport"},surface:{label:"Surface"},tourism:{label:"Type"},water:{label:"Type"},waterway:{label:"Type"},website:{label:"Site Internet"},wetland:{label:"Type"},wikipedia:{label:"Wikipedia"},wood:{label:"Type"}},presets:{"aeroway/aerodrome":{name:"Aeroport "},"amenity/bank":{name:"Banque"},"amenity/bar":{name:"Bar"},"amenity/bicycle_parking":{name:"Parc  velos "},"amenity/bicycle_rental":{name:"Location de velos "},"amenity/cafe":{name:"Cafe "},"amenity/cinema":{name:"Cinema "},"amenity/fast_food":{name:"Fast Food"},"amenity/fire_station":{name:"Caserne de pompier"},"amenity/grave_yard":{name:"Cimetire"},"amenity/hospital":{name:"Hopital "},"amenity/library":{name:"Bibliotheque "},"amenity/parking":{name:"Parking "},"amenity/pharmacy":{name:"Pharmacie"},"amenity/place_of_worship":{name:"Lieu de culte"},"amenity/place_of_worship/christian":{name:"Eglise "},"amenity/place_of_worship/jewish":{name:"Cynagogue "},"amenity/place_of_worship/muslim":{name:"Mosque "},"amenity/police":{name:"Poste de police"},"amenity/post_box":{name:"Boite aux lettres"},"amenity/pub":{name:"Pub"},"amenity/restaurant":{name:"Restaurant"},"amenity/school":{name:"Ecole "},"amenity/toilets":{name:"Toiletes "},"amenity/university":{name:"Universite "},building:{name:"Batiment "},entrance:{name:"Entree "},"highway/bus_stop":{name:"Arret de bus "},"highway/crossing":{name:"Passage pieton "},"highway/primary":{name:"Route principale"},"highway/residential":{name:"Route residentielle "},"highway/secondary":{name:"Route secondaire"},"highway/steps":{name:"Escaliers"},"highway/tertiary":{name:"Route tertiaire"},"highway/traffic_signals":{name:"Feux tricolores"},"highway/turning_circle":{name:"Rond point"},historic:{name:"Site historique"},"historic/monument":{name:"Monument"},"landuse/cemetery":{name:"Cimetiere "},"landuse/commercial":{name:"Commerciale"},"landuse/construction":{name:"Construction"},"landuse/farm":{name:"Ferme"},"landuse/forest":{name:"Fort"},"landuse/grass":{name:"Herbe"},"landuse/industrial":{name:"Industrielle"},"landuse/residential":{name:"Residentielle "},"leisure/golf_course":{name:"Parcours de golf"},"leisure/park":{name:"Parc"},"leisure/pitch/tennis":{name:"Court de tennis"},"man_made/lighthouse":{name:"Phare"},"natural/bay":{name:"Baie"},"natural/beach":{name:"Plage"},"natural/tree":{name:"Arbre"},"natural/water/lake":{name:"Lac"},"place/island":{name:"Ile "},"place/village":{name:"Village"},shop:{name:"Magasin"},"shop/butcher":{name:"Boucher "},"shop/supermarket":{name:"Supermarche "},tourism:{name:"Tourisme"},"tourism/museum":{name:"Musee "}}}},locale.de={modes:{add_area:{title:"Flche",description:"Fge Parks, Gebude, Seen oder andere Flchen zur Karte hinzu.",tail:"Klicke in die Karte, um das Zeichnen einer Flche wie einen Park, einen See oder Gebude zu starten."},add_line:{title:"Linie",description:"Linien knnen Autobahnen, Straen, Fuwege oder sogar Kanle sein.",tail:"Klicke in die Karte, um das Zeichnen einer Strae eines Pfades oder einer Route zu starten."},add_point:{title:"Punkt",description:"Restaurants, Denkmler und Briefksten sind Punkte",tail:"Klicke in die Karte, um einen Punkt hinzuzufgen."},browse:{title:"Navigation",description:"Verschieben und Vergrern/Verkleinern des Kartenausschnitts."},draw_area:{tail:"Klicke, um Punkte zur Flche hinzuzufgen. Klicke auf den ersten Punkt, um die Flche abzuschlieen."},draw_line:{tail:"Klicke, um mehr Punkte zur Linie hizuzufgen. Klicke auf eine andere Linie, um die Linien zu verbinden und klicke doppelt, um die Linie zu beenden."}},operations:{add:{annotation:{point:"Punkt hinzugefgt.",vertex:"Sttzpunkt einem Weg hinzugefgt."}},start:{annotation:{line:"Linie begonnen.",area:"Flche begonnen."}},"continue":{annotation:{line:"Linie fortgesetzt.",area:"Flche fortgesetzt."}},cancel_draw:{annotation:"Zeichnen abgebrochen."},change_tags:{annotation:"Tags verndert."},circularize:{title:"Abrunden",description:"Runde dies ab.",key:"O",annotation:{line:"Runde eine Linie ab.",area:"Runde eine Flche ab."}},orthogonalize:{title:"Rechtwinkligkeit herstellen",description:"Diese Ecken rechtwinklig ausrichten.",key:"Q",annotation:{line:"Die Ecken einer Linie rechtwinklig ausgerichtet.",area:"Die Ecken einer Flche rechtwinklig ausgerichtet."}},"delete":{title:"Lschen",description:"Lsche dies aus der Karte.",annotation:{point:"Punkt gelscht.",vertex:"Sttzpunkt aus einem Weg gelscht.",line:"Linie gelscht.",area:"Flche gelscht.",relation:"Verbindung gelscht.",multiple:"{n} Objekte gelscht."}},connect:{annotation:{point:"Weg mit einem Punkt verbunden.",vertex:"Weg mit einem anderem Weg verbunden.",line:"Weg mit einer Linie verbunden.",area:"Weg mit einer Flche verbunden."}},disconnect:{title:"Trennen",description:"Trenne diese Wege voneinander.",key:"D",annotation:"Wege getrennt."},merge:{title:"Vereinigen",description:"Vereinige diese Linien.",key:"C",annotation:"{n} Linien vereinigt."},move:{title:"Verschieben",description:"Verschiebe dieses Objekt an einen anderen Ort.",key:"M",annotation:{point:"Punkt verschoben.",vertex:"Sttzpunkt in einen Weg veschoben.",line:"Linie verschoben.",area:"Flche verschoben.",multiple:"Mehrere Objekte verschoben."}},rotate:{title:"Drehen",description:"Dieses Objekt um seinen Mittelpunkt drehen.",key:"R",annotation:{line:"Linie gedreht.",area:"Flche gedreht."}},reverse:{title:"Umkehren",description:"ndere die Richtung dieser Linie.",key:"V",annotation:"Linienrichtung umgekehrt."},split:{title:"Teilen",description:"Teile dies in zwei Wege an diesem Punkt.",key:"X",annotation:"Weg geteilt."}},nothing_to_undo:"Nichts zum Rckgngigmachen.",nothing_to_redo:"Nichts zum Wiederherstellen.",just_edited:"Sie haben gerade OpenStreetMap editiert!",browser_notice:"Dieser Editor wird von Firefox, Chrome, Safari, Opera, und Internet Explorer (Version 9 und hher) untersttzt. Bitte aktualisieren Sie Ihren Browser oder nutzen Sie Potlatch 2, um die Karte zu modifizieren.",view_on_osm:"Auf OpenStreetMap anschauen",zoom_in_edit:"Hineinzoomen, um die Karte zu bearbeiten",logout:"Abmelden",report_a_bug:"Programmfehler melden",commit:{title:"nderungen speichern",description_placeholder:"Eine kurze Beschreibung deiner Beitrge",upload_explanation:"nderungen, die du als {user} hochldst werden sichtbar auf allen Karte, die OpenStreetMap nutzen.",save:"Speichern",cancel:"Abbrechen",warnings:"Warnungen",modified:"Verndert",deleted:"Gelscht",created:"Erstellt"},contributors:{list:"Diese Kartenansicht enthlt Beitrge von:",truncated_list:"Diese Kartenansicht enthlt Beitrge von: {users} und {count} anderen"},geocoder:{title:"Suche einen Ort",placeholder:"suche einen Ort",no_results:"Der Ort '{name}' konnte nicht gefunden werden"},geolocate:{title:"Zeige meine Position"},inspector:{no_documentation_combination:"Fr dieses Attribut ist keine Dokumentation verfgbar.",no_documentation_key:"Fr dises Schlsselwort ist keine Dokumentation verfgbar",show_more:"Zeige mehr",new_tag:"Neues Attribut",view_on_osm:"auf OpenStreetMap ansehen",editing_feature:"In Bearbeitung {feature}",additional:"Weitere Merkmale",choose:"Eigenschafts-Typ auswhlen",results:"{n} Resultate fr {search}",reference:"In der OpenSteetMap Wiki anschauen ",back_tooltip:"Eigenschafts-Typ ndern"},background:{title:"Hintergrund",description:"Hintergrundeinstellungen",percent_brightness:"{opacity}% Helligkeit",fix_misalignment:"Fehlerhafte Ausrichtung reparieren",reset:"Zurcksetzen"},restore:{description:"Es gibt ungespeicherte nderungen aus einer vorherigen Sitzung. Mchtest du diese nderungen wiederherstellen?",restore:"Wiederherstellen",reset:"Zurcksetzen"},save:{title:"Speichern",help:"Speichere nderungen auf OpenStreetMap, um diese fr andere Nutzer sichtbar zu machen.",no_changes:"Keine zu speichernden nderungen.",error:"Beim Speichern ist ein Fehler aufgetreten",uploading:"nderungen werden zu OpenStreetMap hochgeladen.",unsaved_changes:"Ungespeicherte nderungen vorhanden"},splash:{welcome:"Willkommen beim iD OpenStreetMap-Editor",text:"Dies ist eine Entwicklungsversion {version}. Fr weitere Informationen besuche {website} und melde Fehler unter {github}."},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"Beschreibung",on_wiki:"{tag} auf wiki.osm.org",used_with:"benutzt mit {type}"},validations:{untagged_point:"Punkt ohne Attribute, der kein Teil einer Linie oder Flche ist",untagged_line:"Linie ohne Attribute",untagged_area:"Flche ohne Attribute",many_deletions:"You're deleting {n} objects. Are you sure you want to do this? This will delete them from the map that everyone else sees on openstreetmap.org.",tag_suggests_area:"Das Attribut {tag} suggeriert eine Flche, ist aber keine Flche",deprecated_tags:"Veraltete Attribute: {tags}"},zoom:{"in":"Hineinzoomen",out:"Herauszoomen"},imagery:{provided_by:"Bilddaten von {source}"},presets:{fields:{access:{label:"Zugang"},address:{label:"Adresse",placeholders:{housename:"Hausname",number:"123",street:"Strae",city:"Stadt"}},aeroway:{label:"Typ"},atm:{label:"Geldautomat"},building:{label:"Gebude"},capacity:{label:"Kapazitt"},fax:{label:"Fax"},internet_access:{label:"Internetzugang",options:{wlan:"Wifi"}},levels:{label:"Etagen"},maxspeed:{label:"Hchstgeschwindigkeit"},note:{label:"Notiz"},oneway:{label:"Einbahnstrae"},phone:{label:"Telefon"},religion:{label:"Religion"},source:{label:"Quelle"},sport:{label:"Sport"},surface:{label:"Oberflche"},website:{label:"Webseite"},wikipedia:{label:"Wikipedia"}},presets:{"aeroway/aerodrome":{name:"Flughafen"},"aeroway/helipad":{name:"Hubschrauberlandeplatz"},"amenity/bank":{name:"Bank"},"amenity/bar":{name:"Bar"},"amenity/bench":{name:"Bank"},"amenity/bicycle_parking":{name:"Fahrradparkplatz"},"amenity/bicycle_rental":{name:"Fahrradverleih"},"amenity/cinema":{name:"Kino"},"amenity/fuel":{name:"Tankstelle"},"amenity/grave_yard":{name:"Friedhof"},"amenity/hospital":{name:"Krankenhaus"},"amenity/library":{name:"Bibliothek"},"amenity/parking":{name:"Parkplatz"},"amenity/pharmacy":{name:"Apotheke"},"amenity/place_of_worship/christian":{name:"Kirche"},"amenity/place_of_worship/muslim":{name:"Moschee"},"amenity/police":{name:"Polizei"},"amenity/post_box":{name:"Briefkasten"},"amenity/pub":{name:"Pub"},"amenity/restaurant":{name:"Restaurant"},"amenity/school":{name:"Schule"},"amenity/telephone":{name:"Telefon"},"amenity/toilets":{name:"Toilette"},"amenity/townhall":{name:"Rathaus"},"amenity/university":{name:"Universitt"},entrance:{name:"Eingang"},highway:{name:"Strae/Weg"},"highway/bus_stop":{name:"Bushaltestelle"},"highway/crossing":{name:"Fugngerberweg"},"highway/cycleway":{name:"Radweg"},"highway/footway":{name:"Fuweg"},"highway/path":{name:"Pfad"},"highway/steps":{name:"Treppen"},"highway/track":{name:"Feld-/Waldweg"},"highway/traffic_signals":{name:"Ampeln"},"highway/turning_circle":{name:"Wendestelle"},historic:{name:"Historische Sttte"},"historic/monument":{name:"Monument"},"landuse/allotments":{name:"Kleigartenanlage"},"landuse/forest":{name:"Wald"},"landuse/grass":{name:"Gras"},"landuse/industrial":{name:"Industrie"},"landuse/meadow":{name:"Weide"},"landuse/residential":{name:"Wohngebiet"},"leisure/golf_course":{name:"Golfplatz"},"leisure/park":{name:"Park"},"leisure/pitch/american_football":{name:"American Football Feld"},"leisure/pitch/basketball":{name:"Basketballfeld"},"leisure/pitch/soccer":{name:"Fuballplatz"},"leisure/pitch/tennis":{name:"Tennisplatz"},"leisure/playground":{name:"Spieplatz"},"natural/beach":{name:"Strand"},"natural/cliff":{name:"Klippe"},"natural/coastline":{name:"Kstenlinie"},"natural/glacier":{name:"Gletscher"},"natural/scrub":{name:"Gestrbb"},"natural/spring":{name:"Quelle"},"natural/tree":{name:"Baum"},"natural/water":{name:"Wasser"},"natural/water/lake":{name:"See"},"natural/water/pond":{name:"Teich"},"natural/wood":{name:"Wald"},office:{name:"Bro"},"place/island":{name:"Insel"},"place/village":{name:"Dorf"},railway:{name:"Eisenbahn"},"railway/subway":{name:"U-Bahn"},"shop/butcher":{name:"Fleischer"},"shop/supermarket":{name:"Supermarkt"},tourism:{name:"Tourismus"},"tourism/artwork":{name:"Kunst"},"tourism/attraction":{name:"Touristenattracktion"},"tourism/camp_site":{name:"Campingplatz"},"tourism/hotel":{name:"Hotel"},"tourism/information":{name:"Information"},"tourism/museum":{name:"Museum"},"tourism/picnic_site":{name:"Picknickplatz"},"tourism/theme_park":{name:"Themenpark"},"tourism/zoo":{name:"Zoo"},"waterway/canal":{name:"Kanal"},"waterway/dam":{name:"Damm"},"waterway/river":{name:"Fluss"},"waterway/stream":{name:"Bach"},"waterway/weir":{name:"Wehr"}}}},locale.it={modes:{add_area:{title:"Area",description:"Aggiungi parchi, edifici, laghi, o altre aree alla mappa.",tail:"Clicca sulla mappa per iniziare a disegnare un'area, come un parco, un lago, o un edificio."},add_line:{title:"Linea",description:"Aggiungi strade, vie, percorsi pedonali, canali od altre linee alla mappa.",tail:"Clicca sulla mappa per iniziare a disegnare una strada, un percorso, o un itinerario."},add_point:{title:"Punto",description:"Ristoranti, monumenti, e cassette postali sono punti.",tail:"Clicca sulla mappa per inserire un punto."},browse:{title:"Naviga",description:"Muovi ed ingrandisci la mappa."},draw_area:{tail:"Clicca per aggiungere punti all'area. Clicca sul primo punto per completarla."},draw_line:{tail:"Clicca per aggiungere pi punti alla linea. Clicca su altre linee per connetterle, e clicca due volte per terminare la linea."}},operations:{add:{annotation:{point:"Aggiunto un punto.",vertex:"Aggiunto un punto ad una linea."}},start:{annotation:{line:"Iniziata una linea.",area:"Iniziata un'area."}},"continue":{annotation:{line:"Continuata una linea.",area:"Continuata un'area."}},cancel_draw:{annotation:"Cancellato il disegno."},change_tags:{annotation:"Cambiati i tag."},circularize:{title:"Rendi rotondo",description:"Fallo diventare rotondo.",key:"O",annotation:{line:"Linea resa rotonda.",area:"Area resa rotonda."}},orthogonalize:{title:"Ortogonalizza",description:"Ortogonalizza questi angoli.",key:"Q",annotation:{line:"Gli angoli della linea sono stati resi ortogonali.",area:"Gli angoli dell'area sono stati resi ortogonali."}},"delete":{title:"Cancella",description:"Cancella questo dalla mappa.",annotation:{point:"Cancellato un punto.",vertex:"Cancellato un punto da una linea.",line:"Cancellata una linea.",area:"Cancellata un'area.",relation:"Cancellata una relazione.",multiple:"Cancellati {n} oggetti."}},connect:{annotation:{point:"Connessa una linea ad un punto.",vertex:"Connessa una linea ad un'altra.",line:"Connessa una strada ad una linea.",area:"Connessa una linea ad un'area."}},disconnect:{title:"Disconnetti",description:"Disconnetti queste linee tra loro.",key:"D",annotation:"Linee disconnesse."},merge:{title:"Unisci",description:"Unisci queste linee.",key:"C",annotation:"Unite {n} linee."},move:{title:"Muovi",description:"Muovi questo in una posizione differente.",key:"M",annotation:{point:"Mosso un punto.",vertex:"Mosso un nodo su una linea.",line:"Mossa una linea.",area:"Mossa un'area.",multiple:"Spostati diversi oggetti."}},rotate:{title:"Ruota",description:"Ruota questo oggetto intorno al suo centro.",key:"R",annotation:{line:"Ruotata una linea.",area:"Ruotata un'area."}},reverse:{title:"Cambia direzione",description:"Fai andare questa linea nella direzione opposta.",key:"V",annotation:"Cambiata direzione ad una linea."},split:{title:"Dividi",description:"Dividi in questo punto le due linee.",key:"X",annotation:"Divisa una linea."}},nothing_to_undo:"Niente da ripristinare.",nothing_to_redo:"Niente da rifare.",just_edited:"Hai appena modificato OpenStreetMap!",browser_notice:"Questo editor  supportato in Firefox, Chrome, Safari, Opera, e Internet Explorer 9 e superiori. Aggiorna il tuo browser o usa Potlatch 2 per modificare la mappa.",view_on_osm:"Guarda su OSM",zoom_in_edit:"ingrandisci per modificare la mappa",logout:"logout",report_a_bug:"segnala un bug",commit:{title:"Salva le modifiche",description_placeholder:"Una breve descrizione delle tue modifiche",upload_explanation:"I cambiamenti che carichi come {user} saranno visibili su tutte le mappe che usano i dati di OpenStreetMap.",save:"Salva",cancel:"Annulla",warnings:"Avvertimenti",modified:"Modificati",deleted:"Cancellati",created:"Creati"},contributors:{list:"Stai vedendo i contributi di {users}",truncated_list:"Stai vedendo i contributi di {users} ed altri {count}"},geocoder:{title:"Trova un luogo",placeholder:"Trova un luogo",no_results:"Non trovo un luogo chiamato '{name}'"},geolocate:{title:"Mostra la mia posizione"},inspector:{no_documentation_combination:"Non c' documentazione per questa combinazione di tag",no_documentation_key:"Non c' documentazione per questa chiave",show_more:"Mostra di pi",new_tag:"Nuovo Tag",view_on_osm:"Mostra su OSM",additional:"Tag aggiuntivi",choose:"Seleziona il tipo di caratteristica",results:"{n} risultati per {search}",reference:"Vedi sulla Wiki di OpenStreetMap ",back_tooltip:"Cambia il tipo di caratteristica"},background:{title:"Sfondo",description:"Impostazioni dello sfondo",percent_brightness:"{opacity}% luminosit",fix_misalignment:"Allinea",reset:"reset"},restore:{description:"Hai modifiche non salvate da una sessione precedente. Vuoi ripristinare questi cambiamenti?",restore:"Ripristina",reset:"Reset"},save:{title:"Salva",help:"Salva i cambiamenti su OpenStreetMap, rendendoli visibili ad altri utenti.",no_changes:"Nessuna modifica da salvare.",error:"E' accaduto un errore mentre veniva tentato il salvataggio",uploading:"Caricamento delle modifiche su OpenStreetMap.",unsaved_changes:"Hai modifiche non salvate"},splash:{welcome:"Benvenuti nell'editor OpenStreetMap iD",text:"Questa  la versione di sviluppo {version}. Per maggiori informazioni vedi {website} e segnala i bug su {github}."},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"Descrizione",on_wiki:"{tag} su wiki.osm.org",used_with:"usato con {type}"},validations:{untagged_point:"Punto senza tag che non  parte di una linea o di un'area",untagged_line:"Linea senza tag",untagged_area:"Area senza tag",many_deletions:"You're deleting {n} objects. Are you sure you want to do this? This will delete them from the map that everyone else sees on openstreetmap.org.",tag_suggests_area:"Il tag {tag} fa pensare che la linea sia un'area, ma non rappresenta un'area",deprecated_tags:"Tag deprecati: {tags}"},zoom:{"in":"Ingrandisci",out:"Riduci"},presets:{fields:{access:{label:"Accesso"},address:{label:"Indirizzo",placeholders:{housename:"Nome della casa",number:"123",street:"Strada",city:"Citt"}},aeroway:{label:"Tipo"},amenity:{label:"Tipo"},atm:{label:"Bancomat"},bicycle_parking:{label:"Tipo"},building:{label:"Edificio"},building_area:{label:"Edificio"},building_yes:{label:"Edificio"},capacity:{label:"Capienza"},collection_times:{label:"Orari di raccolta"},construction:{label:"Tipo"},crossing:{label:"Tipo"},cuisine:{label:"Cucina"},denomination:{label:"Confessione"},denotation:{label:"Denotazione"},elevation:{label:"Altitudine"},emergency:{label:"Emergenza"},entrance:{label:"Tipo"},fax:{label:"Fax"},fee:{label:"Tariffa"},highway:{label:"Tipo"},historic:{label:"Tipo"},internet_access:{label:"Accesso ad Internet",options:{wlan:"Wifi",wired:"Via cavo",terminal:"Terminale"}},landuse:{label:"Tipo"},layer:{label:"Livello"},leisure:{label:"Tipo"},levels:{label:"Piani"},man_made:{label:"Tipo"},maxspeed:{label:"Limite di velocit"},natural:{label:"Naturale"},network:{label:"Rete"},note:{label:"Nota"},office:{label:"Tipo"},oneway:{label:"Senso unico"},opening_hours:{label:"Ore"},operator:{label:"Operatore"},phone:{label:"Telefono"},place:{label:"Tipo"},railway:{label:"Tipo"},ref:{label:"Riferimento"},religion:{label:"Religione",options:{christian:"Cristiana",muslim:"Musulmana",buddhist:"Buddista",jewish:"Ebraica",hindu:"Ind",shinto:"Shintoista",taoist:"Taoista"}},service:{label:"Tipo"},shelter:{label:"Riparo"},shop:{label:"Tipo"},source:{label:"Fonte"},sport:{label:"Sport"},surface:{label:"Superficie"},tourism:{label:"Tipo"},water:{label:"Tipo"},waterway:{label:"Tipo"},website:{label:"Sito web"},wetland:{label:"Tipo"},wikipedia:{label:"Wikipedia"},wood:{label:"Tipo"}},presets:{aeroway:{name:"Pista aeroportuale"},"aeroway/aerodrome":{name:"Aeroporto"},"aeroway/helipad":{name:"Elisuperficie"},amenity:{name:"Servizi"},"amenity/bank":{name:"Banca"},"amenity/bar":{name:"Bar"},"amenity/bench":{name:"Panchina"},"amenity/bicycle_parking":{name:"Parcheggio biciclette"},"amenity/bicycle_rental":{name:"Noleggio biciclette"},"amenity/cafe":{name:"Caff"},"amenity/cinema":{name:"Cinema"},"amenity/fast_food":{name:"Fast Food"},"amenity/fire_station":{name:"Caserma dei pompieri"},"amenity/fuel":{name:"Stazione di servizio"},"amenity/grave_yard":{name:"Cimitero"},"amenity/hospital":{name:"Ospedale"},"amenity/library":{name:"Biblioteca"},"amenity/parking":{name:"Parcheggio"},"amenity/pharmacy":{name:"Farmacia"},"amenity/place_of_worship":{name:"Luogo di culto"},"amenity/place_of_worship/christian":{name:"Chiesa"},"amenity/place_of_worship/jewish":{name:"Sinagoga"},"amenity/place_of_worship/muslim":{name:"Moschea"},"amenity/police":{name:"Forze di polizia"},"amenity/post_box":{name:"Buca delle lettere"},"amenity/post_office":{name:"Ufficio Postale"},"amenity/pub":{name:"Pub"},"amenity/restaurant":{name:"Ristorante"},"amenity/school":{name:"Scuola"},"amenity/swimming_pool":{name:"Piscina"},"amenity/telephone":{name:"Telefono"},"amenity/toilets":{name:"Bagni"},"amenity/townhall":{name:"Municipio"},"amenity/university":{name:"Universit"},building:{name:"Edificio"},entrance:{name:"Entrata"},highway:{name:"Strada"},"highway/bus_stop":{name:"Fermata dell'autobus"},"highway/crossing":{name:"Attraversamento"},"highway/cycleway":{name:"Percorso ciclabile"},"highway/footway":{name:"Percorso pedonale"},"highway/motorway":{name:"Autostrada"},"highway/path":{name:"Sentiero"},"highway/primary":{name:"Strada di importanza nazionale"},"highway/residential":{name:"Strada residenziale"},"highway/secondary":{name:"Strada di importanza regionale"},"highway/service":{name:"Strada di servizio"},"highway/steps":{name:"Scale"},"highway/tertiary":{name:"Strada di importanza locale"},"highway/track":{name:"Strada ad uso agricolo / forestale"},"highway/traffic_signals":{name:"Semaforo"},"highway/trunk":{name:"Superstrada"},"highway/turning_circle":{name:"Slargo per inversione"},"highway/unclassified":{name:"Viabilit ordinaria"},historic:{name:"Sito storico"},"historic/monument":{name:"Monumento"},landuse:{name:"Uso del suolo"},"landuse/allotments":{name:"Orti in concessione"},"landuse/basin":{name:"Bacino"},"landuse/cemetery":{name:"Cimitero"},"landuse/commercial":{name:"Commerciale"},"landuse/construction":{name:"Costruzione"},"landuse/farm":{name:"Agricolo"},"landuse/farmyard":{name:"Fattoria"},"landuse/forest":{name:"Foresta"},"landuse/grass":{name:"Erba"},"landuse/industrial":{name:"Industriale"},"landuse/meadow":{name:"Coltivazione erbacea"},"landuse/orchard":{name:"Frutteto"},"landuse/quarry":{name:"Cava"},"landuse/residential":{name:"Residenziale"},"landuse/vineyard":{name:"Vigneto"},leisure:{name:"Svago"},"leisure/garden":{name:"Giardino"},"leisure/golf_course":{name:"Campo da Golf"},"leisure/park":{name:"Parco"},"leisure/pitch":{name:"Campo da gioco"},"leisure/pitch/american_football":{name:"Campo da Football Americano"},"leisure/pitch/baseball":{name:"Diamante da Baseball"},"leisure/pitch/basketball":{name:"Campo da basket"},"leisure/pitch/soccer":{name:"Campo di calcio"},"leisure/pitch/tennis":{name:"Campo da tennis"},"leisure/playground":{name:"Campetto"},"leisure/swimming_pool":{name:"Piscina"},man_made:{name:"Costruzioni civili"},"man_made/lighthouse":{name:"Faro"},"man_made/pier":{name:"Molo"},"man_made/survey_point":{name:"Punto geodetico"},"man_made/water_tower":{name:"Torre Idrica"},natural:{name:"Naturale"},"natural/bay":{name:"Baia"},"natural/beach":{name:"Spiaggia"},"natural/cliff":{name:"Scogliera"},"natural/coastline":{name:"Linea di costa"},"natural/glacier":{name:"Ghiacciaio"},"natural/grassland":{name:"Prateria"},"natural/heath":{name:"Brughiera"},"natural/peak":{name:"Picco"},"natural/scrub":{name:"Macchia mediterranea"},"natural/spring":{name:"Sorgente"},"natural/tree":{name:"Albero"},"natural/water":{name:"Specchio d'acqua"},"natural/water/lake":{name:"Lago"},"natural/water/pond":{name:"Stagno"},"natural/water/reservoir":{name:"Bacino idrico"},"natural/wetland":{name:"Zona umida"},"natural/wood":{name:"Foresta"},office:{name:"Uffici"},place:{name:"Luogo"},"place/hamlet":{name:"Paese"},"place/island":{name:"Isola"},"place/locality":{name:"Localit"},"place/village":{name:"Villaggio"},"power/sub_station":{name:"Sottostazione"},railway:{name:"Ferrovia"},"railway/level_crossing":{name:"Passaggio a livello"},"railway/rail":{name:"Binario"},"railway/subway":{name:"Metropolitana"},"railway/subway_entrance":{name:"Entrata di metropolitana"},shop:{name:"Negozio"},"shop/butcher":{name:"Macellaio"},"shop/supermarket":{name:"Supermercato"},tourism:{name:"Turismo"},"tourism/alpine_hut":{name:"Rifugio"},"tourism/artwork":{name:"Opera d'arte"},"tourism/attraction":{name:"Attrazione turistica"},"tourism/camp_site":{name:"Campeggio"},"tourism/caravan_site":{name:"Sosta per camper"},"tourism/chalet":{name:"Chalet"},"tourism/guest_house":{name:"Affittacamere"},"tourism/hostel":{name:"Ostello"},"tourism/hotel":{name:"Albergo"},"tourism/information":{name:"Informazioni"},"tourism/motel":{name:"Motel"},"tourism/museum":{name:"Museo"},"tourism/picnic_site":{name:"Area picnic"},"tourism/theme_park":{name:"Parco a tema"},"tourism/viewpoint":{name:"Punto panoramico"},"tourism/zoo":{name:"Zoo"},waterway:{name:"Corso d'acqua"},"waterway/canal":{name:"Canale"},"waterway/dam":{name:"Diga"},"waterway/ditch":{name:"Fossato"},"waterway/drain":{name:"Canale di scolo"},"waterway/river":{name:"Fiume"},"waterway/riverbank":{name:"Argine"},"waterway/stream":{name:"Torrente"},"waterway/weir":{name:"Sbarramento"}}}},locale.ja={modes:{add_area:{title:"",description:"",tail:""},add_line:{title:"",description:"",tail:""},add_point:{title:"",description:"",tail:""},browse:{title:"",description:""},draw_area:{tail:""},draw_line:{tail:"2"}},operations:{add:{annotation:{point:"",vertex:""}},start:{annotation:{line:"",area:""}},"continue":{annotation:{line:"",area:""}},cancel_draw:{annotation:""},change_tags:{annotation:""},circularize:{title:"",description:"",key:"O",annotation:{line:"",area:""}},orthogonalize:{title:"",description:"90",key:"Q",annotation:{line:"90",area:"90"}},"delete":{title:"",description:"",annotation:{point:"",vertex:"",line:"",area:"",relation:"",multiple:"{n} "}},connect:{annotation:{point:"",vertex:"",line:"",area:""}},disconnect:{title:"",description:"",key:"D",annotation:""},merge:{title:"",description:"",key:"C",annotation:"{n} "},move:{title:"",description:"",key:"M",annotation:{point:"",vertex:"",line:"",area:"",multiple:"Moved multiple objects."}},rotate:{title:"Rotate",description:"Rotate this object around its centre point.",key:"R",annotation:{line:"Rotated a line.",area:"Rotated an area."}},reverse:{title:"",description:"",key:"V",annotation:""},split:{title:"",description:"",key:"X",annotation:""}},nothing_to_undo:"",nothing_to_redo:"",just_edited:"OpenStreetMap",browser_notice:" Firefox, Chrome, Safari, Opera,  Internet Explorer 9 Potlatch 2",view_on_osm:"OSM",zoom_in_edit:"",logout:"",report_a_bug:"",commit:{title:"",upload_explanation:" {user} OpenStreetMap",save:"Save",cancel:"",warnings:"",modified:"",deleted:"",created:""},contributors:{list:"{users} ",truncated_list:"{users}  {count} "},geocoder:{title:"",placeholder:"",no_results:"'{name}' "},geolocate:{title:""},inspector:{no_documentation_combination:"",no_documentation_key:"",new_tag:"",view_on_osm:""},background:{title:"",description:"",percent_brightness:"{opacity}% ",fix_misalignment:"",reset:""},restore:{description:"",restore:"",reset:""},save:{help:"OpenStreetMap",error:"",uploading:"OpenStreetMap",unsaved_changes:""},splash:{welcome:"iD ",text:" {version}  {website}  {github} "},source_switch:{live:"",dev:""},tag_reference:{description:""},validations:{untagged_point:"",untagged_line:"",untagged_area:"",tag_suggests_area:" {tag} ",deprecated_tags:": {tags}"},zoom:{"in":"",out:""}},locale.lv={modes:{add_area:{title:"Apgabals",description:"Pievieno parkus, kas, ezerus un citus apgabalus.",tail:"Klikiniet uz kartes, lai sktu zmt apgabalu, piemram, parku, ezeru, vai ku."},add_line:{title:"Lnija",description:"Pievieno ceus, ielas, takas kanlus un citas lnijas.",tail:"Klikiniet uz kartes, lai sktu zmt lniju, piemram, ceu vai taku."},add_point:{title:"Punkts",description:"Pievieno restornus, pieminekus, veikalus un citus punktus.",tail:"Klikiniet uz kartes, lai pievienotu intereu punktu."},browse:{title:"Prlkot",description:"Prlko karti."},draw_area:{tail:"Klikiniet, lai pievienotu mezglus apgabalam. Lai beigtu zmt apgabalu, klikiniet uz skuma mezgla."},draw_line:{tail:"Klikiniet, lai pievienotu mezglus lnijai. Lai savienotu ar citm linijm, klikiniet uz tm. Dubultklikis nobeidz lniju."}},operations:{add:{annotation:{point:"Punkts pievienots.",vertex:"Mezgls pievienots lnijai."}},start:{annotation:{line:"Lnija ieskta.",area:"Apgabals ieskts."}},"continue":{annotation:{line:"Lnija turpinta.",area:"Apgabals turpints."}},cancel_draw:{annotation:"Zmana atcelta."},change_tags:{annotation:"Apzmjumi mainti."},circularize:{title:"Prveidot par apveida",description:"Prveidot o objektu par apveida.",key:"O",annotation:{line:"Lnija prveidota par apveida.",area:"Apgabals prveidots par apveida."}},orthogonalize:{title:"Ortogonalizt",description:"Prveidot, lai visi lei btu taisnlei.",key:"Q",annotation:{line:"Lnijas lei prvedoti par taisnleiem.",area:"Apgabala lei prvedoti par taisnleiem."}},"delete":{title:"Dzst",description:"Izdzst no kartes.",annotation:{point:"Punkts dzsts.",vertex:"Mezgls dzests.",line:"Lnija dzsta.",area:"Apgabals dzsts.",relation:"Relcija dzsta.",multiple:"{n} objekti dzsti."}},connect:{annotation:{point:"Lnija savienota ar punktu.",vertex:"Lnija savienota ar citu.",line:"Lnija savienota ar lniju.",area:"Lnija savienota ar apgabalu."}},disconnect:{title:"Atvienot",description:"Atvieno lnijas.",key:"D",annotation:"Lnijas atvienotas."},merge:{title:"Sapludint",description:"Sapludint lnijas.",key:"C",annotation:"{n} lnijas sapludintas."},move:{title:"Prvietot",description:"Prvieto objektu.",key:"M",annotation:{point:"Punkts prvietots.",vertex:"Mezgls prvietots.",line:"Lnija prvietota.",area:"Apgabals prvietots.",multiple:"Vairki objekti prvietoti."}},rotate:{title:"Pagriezt",description:"Pagriezt o objektu ap t centru.",key:"R",annotation:{line:"Lnija pagriezta.",area:"Apgabals pagriezts."}},reverse:{title:"Maint virzienu",description:"Maint lnijas virzienu.",key:"V",annotation:"Lnijas virziens maints."},split:{title:"Sadalt",description:"Sadalt lniju pie  punkta.",key:"X",annotation:"Lnija sadalta."}},nothing_to_undo:"Nav nek, ko atcelt",nothing_to_redo:"Nav nek, ko atsaukt",just_edited:"Js nupat redijt OpenStreetMap",browser_notice:"is redaktors tiek atbalstts ar Firefox, Chrome, Safari, Opera, un Internet Explorer 9 un jaunku. Ldzu, atjauniniet savu prlkprogrammu vai izmantojiet Potlatch 2 kartes redianai",view_on_osm:"Aplkot OSM kart",zoom_in_edit:"pietuviniet, lai labotu karti",logout:"atslgties",report_a_bug:"ziot par kdu",commit:{title:"Saglabt izmaias",description_placeholder:"ss apraksts par jsu ieguldjumu",upload_explanation:"Izmaias, kuras js augupieldjat k {user}, bs pieejamas viss karts, kuras izmanto OpenStreetMap datus.",save:"Saglabt",cancel:"Atcelt",warnings:"Brdinjumi",modified:"Maints",deleted:"Dzsts",created:"Izveidots"},contributors:{list:"{users} papildinjumi redzami",truncated_list:"{users} un {count} citu papildinjumi redzami"},geocoder:{title:"Atrast vietu",placeholder:"meklt vietu",no_results:"Nevar atrast vietu '{name}'"},geolocate:{title:"Pardt manu atraans vietu"},inspector:{no_documentation_combination:"ai apzmjumu kombincijai nav piejama dokumentcija",no_documentation_key:"ai vrtbai nav piejama dokumentcija",new_tag:"Jauns apzmjums",view_on_osm:"Apskatt OSM",additional:"Papildus apzmjumi",choose:"Izvlieties objekta tipu",results:"Atrasti {n} rezultti mekljot {search}",reference:"Skatt OpenStreetMap wiki ",back_tooltip:"Maint objekta tipu"},background:{title:"Fons",description:"Fona iestatjumi",percent_brightness:"{opacity}% caurspdgums",fix_misalignment:"Labot fona nobdi",reset:"Atiestatt"},restore:{description:"Jums ir nesaglabtas izmaias no iepriekjs laboanas sesijas. Vai vlaties ieldt s izmaias?",restore:"Ieldt",reset:"Atmest"},save:{title:"Saglabt",help:"Saglab izmaias, padarot ts redzamas citiem.",no_changes:"Nav izmaiu, ko saglabt.",error:"Kda. Nevarja saglabt izmaias",uploading:"Augupield izmaias",unsaved_changes:"Jums ir nesaglabtas izmaias"},splash:{welcome:"Laipni lgti iD OpenStreetMap redaktor",text:" ir izstrdes versija {version}. Papildus informcijai skatt {website} un ziot par kdm {github}."},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"Apraksts",on_wiki:"{tag} wiki.osm.org",used_with:"izmantots kop ar {type}"},validations:{untagged_point:"Neapzmts punkts",untagged_line:"Neapzmta lnija",untagged_area:"Neapzmts apgabals",many_deletions:"Js dzat {n} objektus. Vai tiem vlaties to dart? Tie tiks izdzsti no kartes, ko visi var aplkt openstreetmap.org.",tag_suggests_area:"Apzmjums {tag} parasti tiek lietots apgabaliem, bet objekts nav apgabals",deprecated_tags:"Novecojui apzmjumi: {tags}"},zoom:{"in":"Pietuvint",out:"Attlint"},presets:{fields:{access:{label:"Piekuve"},address:{label:"Adrese",placeholders:{number:"123",street:"Iela",city:"Pilsta"}},aeroway:{label:"Tips"},amenity:{label:"Tips"},atm:{label:"Bankomts"},bicycle_parking:{label:"Tips"},building:{label:"ka"},building_area:{label:"ka"},building_yes:{label:"ka"},capacity:{label:"Ietilpba"},construction:{label:"Tips"},crossing:{label:"Tips"},fee:{label:"Maksa"},highway:{label:"Tips"},historic:{label:"Tips"},internet_access:{label:"Interneta piekuve",options:{wlan:"Bezvadu internets",wired:"Kabeinternets"}},landuse:{label:"Tips"},layer:{label:"Lmenis"},leisure:{label:"Tips"},levels:{label:"Stvu skaits"},man_made:{label:"Tips"},maxspeed:{label:"truma ierobeojums"},oneway:{label:"Vienvirziena"},opening_hours:{label:"Darba laiks"},place:{label:"Tips"},railway:{label:"Tips"},religion:{label:"Reliija",options:{christian:"Kristietieu",muslim:"Musulmau",buddhist:"Budistu",hindu:"Hinduistu",shinto:"Sintoistu",taoist:"Taoistu"}},service:{label:"Tips"},shelter:{label:"Pajumte"},shop:{label:"Tips"},source:{label:"Avots"},sport:{label:"Sports"},surface:{label:"Segums"},tourism:{label:"Tips"},water:{label:"Tips"},waterway:{label:"Tips"},wetland:{label:"Tips"},wood:{label:"Tips"}}}},locale.pl={modes:{add_area:{title:"Obszar",description:"Obaszary mog by na przykad parkami, budynkami, jeziorami.",tail:"Kliknij na map aby zacz rysowa obszar, na przykad park, jezioro lub budynek."},add_line:{title:"Linia",description:"Linie mog by na przykad jezdniami, ciekami dla pieszych lub nawet kanaami.",tail:"Kliknij na map aby zacz rysowa lini, na przykad drog, ciek lub tras."},add_point:{title:"Punkt",description:"Punkty mog by na przykad restauracjami, pomnikami i skrzynkami pocztowymi.",tail:"Kliknij na map aby doda punkt, na przykad restauracj, pomnik lub skrzynk pocztow."},browse:{title:"Przegldaj",description:"Przesuwaj i zmieniaj skal mapy."},draw_area:{tail:"Kliknij aby doda punkty do obszaru. Kliknij na pierwszy punkt aby skoczy rysowanie obszaru."},draw_line:{tail:"Kliknij aby doda punkty do linii. Kliknij na inne linie aby je poczy, a dwa razy kliknij na lini aby skoczy j rysowa."}},operations:{add:{annotation:{point:"Dodano punkt.",vertex:"Dodano wze do drogi."}},start:{annotation:{line:"Zaczto lini.",area:"Zaczto obszar."}},"continue":{annotation:{line:"Kontynuacja linii.",area:"Kontynuacja obszaru."}},cancel_draw:{annotation:"Przestano rysowa."},change_tags:{annotation:"Zmieniono tagi."},circularize:{title:"Zaokrglij",description:"Wyrwnaj na okrgu.",key:"O",annotation:{line:"Zaokrglij lini.",area:"Zaokrglij obszar."}},orthogonalize:{title:"Ortogonalizuj",description:"Spraw, aby te kty byy proste.",key:"Q",annotation:{line:"Zortogonalizowano kty linii.",area:"Zortogonalizowano kty obszaru."}},"delete":{title:"Usu",description:"Usu to z mapy.",annotation:{point:"Usunito punkt.",vertex:"Usunito wze z drogi.",line:"Usunito lini.",area:"Usunito obszar.",relation:"Usunito relacj.",multiple:"Usunito {n} obietw/obiekty."}},connect:{annotation:{point:"Poczono drog z punktem.",vertex:"Poczono dwie drogi.",line:"Poczono drog z lini.",area:"Poczono drog z obszarem."}},disconnect:{title:"Rozcz",description:"Rozcz te dwie drogi.",key:"D",annotation:"Rozczono drogi."},merge:{title:"Scal",description:"Scal te linie.",key:"C",annotation:"Scalono {n} linii."},move:{title:"Przesu",description:"Przesu to w inne miejsce.",key:"M",annotation:{point:"Przesunito punkt.",vertex:"Przesunito wze drogi.",line:"Przesunito lini.",area:"Przesunito obszar."}},reverse:{title:"Odwr",description:"Spraw by ta linia biega w przeciwnym kierunku.",key:"V",annotation:"Odwrcono lini."},split:{title:"Rozdziel",description:"Rozdziel to na dwie drogi w tym punkcie.",key:"X",annotation:"Rozdzielono drog."}},nothing_to_undo:"Nie ma nic do cofnicia.",nothing_to_redo:"Nie ma nic do powtrzenia.",just_edited:"Wanie wprowadzie zmiany w OpenStreetMap!!",browser_notice:"Ten edytor dziaa w Firefox, Chrome, Safari, Opera, and Internet Explorer 9 i wyszych. Zaktualizuj swoj przegldark lub uyj Potlatch 2 aby edytowa map.",view_on_osm:"Poka w OSM",zoom_in_edit:"zwiksz skal aby edytowa map",logout:"wyloguj",report_a_bug:"zgo bd",commit:{title:"Zapisz zmiany",description_placeholder:"Krtki opis twoich zmian",upload_explanation:"Zmiany ktre wylesz jako {user} bd widoczne na wszystkich mapach uywajcych danych OpenStreetMap.",save:"Zapisz",cancel:"Anuluj",warnings:"Ostrzeenia",modified:"Zmodyfikowano",deleted:"Usunito",created:"Utworzono"},contributors:{list:"Przegldanie wkadu uytkownikw {users}",truncated_list:"Przegldanie wkadu uytkownikwy {users} {count} innych"},geocoder:{title:"Znajd miejsce",placeholder:"znajd miejsce",no_results:"Nie mona znale miejsca o nazwie '{name}'"},geolocate:{title:"Poka moj pozycj."},inspector:{no_documentation_combination:"Nie ma dokumentacji dla tej kombinacji tagu.",no_documentation_key:"Nie ma dokumentacji dla tego klucza",new_tag:"Nowy tag",view_on_osm:"Zobacz w OSM"},background:{title:"To",description:"Ustawienia ta",percent_brightness:"jasno {opacity}%",fix_misalignment:"Wyrwnaj podkad",reset:"resetuj"},restore:{description:"Masz niezapisane zmiany z poprzedniej sesji. Chcesz je przywrci?",restore:"Przywr",reset:"Resetuj"},save:{title:"Zapisz",help:"Zapisz zmiany na OpenStreetMap, aby byy one widoczne dla innych",error:"Wystpi bd podczas prby zapisu.",uploading:"Wysyanie zmian do OpenStreetMap.",unsaved_changes:"Masz niezapisane zmiany."},splash:{welcome:"Witaj w edytorze iD map OpenStreetMap",text:"To jest wersja rozwojowa {version}. Informacji szukaj na {website} i zgaszaj bdy na {github}."},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"Opis",on_wiki:"{tag} na wiki.osm.org",used_with:"uywany z {type}"},validations:{untagged_point:"Nieopisany punkt, ktry nie jest czci linii lub obszaru.",untagged_line:"Nieopisana linia.",untagged_area:"Nieopisany obszar.",many_deletions:"You're deleting {n} objects. Are you sure you want to do this? This will delete them from the map that everyone else sees on openstreetmap.org.",tag_suggests_area:"Tag {tag} sugeruje, e linia powinna by obszarem, ale nim nie jest.",deprecated_tags:"Przestarzae tagi: {tags}"},zoom:{"in":"Powiksz",out:"Zmniejsz"}},locale.pt={modes:{add_area:{title:"rea",description:"Adicione parques, edifcios, lagos, ou outras reas ao mapa.",tail:"Clique no mapa para comear a desenhar uma rea, como um parque, lago ou edifcio."},add_line:{title:"Linha",description:"Linhas podem ser auto-estradas, ruas, caminhos pedestres e inclusive canais.",tail:"Clique no mapa para comear a desenhar uma estrada, caminho ou rota."},add_point:{title:"Ponto",description:"Restaurantes, monumentos e caixas postais podem ser pontos.",tail:"Clique no mapa para adicionar um ponto."},browse:{title:"Navegar",description:"Faa zoom e mova o mapa"},draw_area:{tail:"Clique para adicionar pontos  sua rea. Carregue no primeiro ponto para terminar a rea."},draw_line:{tail:"Clique para adicionar mais pontos  linha. Clique em outras linhas para ligar, e duplo-clique para terminar a linha."}},operations:{add:{annotation:{point:"Adicione um Ponto.",vertex:"Adicione um vrtice a um caminho"}},start:{annotation:{line:"Linha iniciada.",area:"rea iniciada."}},"continue":{annotation:{line:"Linha continuada.",area:"rea continuada."}},cancel_draw:{annotation:"Desenho cancelado."},change_tags:{annotation:"Tags alteradas."},circularize:{title:"Circularizar",description:"Fazer isto circular.",key:"O",annotation:{line:"Fazer uma linha circular.",area:"Fazer uma rea circular."}},orthogonalize:{title:"Esquadrar",description:"Esquadrar estes cantos.",key:"E",annotation:{line:"Cantos da linha esquadrados.",area:"Cantos da rea esquadrados."}},"delete":{title:"Remover",description:"Remover isto do mapa.",annotation:{point:"Ponto eliminado.",vertex:"Vrtice elimnado de la ruta.",line:"Linha eliminada.",area:"rea eliminada.",relation:"Relaco eliminada.",multiple:"{n} objetos eliminados."}},connect:{annotation:{point:"Rota ligada a um ponto.",vertex:"Rota ligada a outra.",line:"Rota ligada a uma linha.",area:"Rota ligada a uma rea."}},disconnect:{title:"Desligar",description:"Desligar rotas umas das outras.",key:"D",annotation:"Rotas desligadas."},merge:{title:"Combinar",description:"Combinar linhas.",key:"C",annotation:"{n} linhas combinadas."},move:{title:"Mover",description:"Mover para outra localizao.",key:"M",annotation:{point:"Ponto movido,",vertex:"Vrtice movido.",line:"Linha movida.",area:"rea movida,",multiple:"Mltiplos objectos movidos."}},rotate:{title:"Rodar",description:"Rodar este objecto sobre o seu ponto central.",key:"R",annotation:{line:"Linha rodada.",area:"rea rodade."}},reverse:{title:"Inverter",description:"Inverter direco da linha.",key:"I",annotation:"Direco da linha revertida."},split:{title:"Dividir",description:"Dividir em duas rotas este ponto.",key:"D",annotation:"Dividir rota."}},nothing_to_undo:"Nada a desfazer.",nothing_to_redo:"Nada a refazer.",just_edited:"Acaba de editar o OpenStreetMap!",browser_notice:"Este editor suporta Firefox, Chrome, Safari, Opera e Internet Explorer 9 ou superior. Por favor actualize o seu browser ou utilize Potlatch 2 para editar o mapa.",view_on_osm:"Ver em OSM",zoom_in_edit:"Aproxime-se para editar o mapa",logout:"Encerrar sesso",report_a_bug:"Reportar un erro",commit:{title:"Guardar Alteraes",description_placeholder:"Breve descrio das suas contribuies",upload_explanation:"As alteraes que envia como {user} sero visveis em todos os mapas que utilizem dados do OpenStreetMap.",save:"Guardar",cancel:"Cancelar",warnings:"Avisos",modified:"Modificado",deleted:"Removido",created:"Criado"},contributors:{list:"A ver contribuies de {users}",truncated_list:"A ver contribuies de {users} e mais {count} outros"},geocoder:{title:"Encontrar Um Local",placeholder:"encontrar um local",no_results:"No foi possvel encontrar o local chamado '{name}'"},geolocate:{title:"Mostrar a minha localizao"},inspector:{no_documentation_combination:"No h documentao disponvel para esta combinao de tags",no_documentation_key:"No h documentao disponvel para esta tecla",show_more:"Mostrar Mais",new_tag:"Nova tag",view_on_osm:"Ver em OSM",editing_feature:"Editando {feature}",additional:"Tags adicionais",choose:"O que est a adicionar?",results:"{n} resultados para {search}",reference:"Ver na Wiki do OpenStreetMap"},background:{title:"Fundo",description:"Configurao de fundo",percent_brightness:"{opacity}% brilho",fix_misalignment:"Arranjar desalinhamento",reset:"reiniciar"},restore:{heading:"Tem alteraes por guardar",description:"Tem alteraes por guardar de uma prvia sesso de edio. Deseja restaurar estas alteraes?",restore:"Restaurar",reset:"Descartar"},save:{title:"Guardar",help:"Guardar alteraes no OpenStreetMap, tornando-as visveis a outros utilizadores.",no_changes:"No h alteraes para guardar.",error:"Um erro ocorreu ao tentar guardar",uploading:"Enviando alteraes para OpenStreetMap.",unsaved_changes:"Tem alteraes por guardar"},splash:{welcome:"Bemvindo ao editor OpenStreetMap iD",text:"Esta  a verso de desenvolvimento {version}. Para mais informao visite {website} e reporte erros em {github}."},source_switch:{live:"ao vivo",lose_changes:"Tem alteraes por guardar. Mudando o servidor de mapas ir perd-las. Tem a certeza que deseja mudar de servidores?",dev:"dev"},tag_reference:{description:"Descrio",on_wiki:"{tag} em wiki.osm.org",used_with:"usado com {type}"},validations:{untagged_point:"Punto sin etiquetar que no es parte de una lnea ni de un rea.",untagged_line:"Linha sem tag",untagged_area:"rea sem tags",many_deletions:"Est a eliminar {n} objectos. Tem a certeza que deseja continuar? Esta operao eliminar os objectos do mapa que outros vem em openstreetmap.org.",tag_suggests_area:"A tag {tag} sugere que esta linha devia ser uma rea, mas no  uma rea.",deprecated_tags:"Tags obsoletas: {tags}"},zoom:{"in":"Aproximar",out:"Afastar"},imagery:{provided_by:"Imagens disponibilizadas por {source}"},gpx:{local_layer:"Ficheiro GPX local",drag_drop:"Arraste um ficheiro .gpx para a pgina"},help:{title:"Ajuda"},presets:{fields:{access:{label:"Acesso"},address:{label:"Morada",placeholders:{housename:"Nome de casa",number:"123",street:"Rua",city:"Cidade"}},aeroway:{label:"Tipo"},amenity:{label:"Tipo"},atm:{label:"MB"},bicycle_parking:{label:"Tipo"},building:{label:"Edifcio"},building_area:{label:"Edifcio"},building_yes:{label:"Edifcio"},capacity:{label:"Capacidade"},construction:{label:"Tipo"},crossing:{label:"Tipo"},cuisine:{label:"Cozinha"},denomination:{label:"Denominao"},denotation:{label:"Denotao"},elevation:{label:"Elevao"},emergency:{label:"Emergncia"},entrance:{label:"Tipo"},fax:{label:"Fax"},fee:{label:"Tarifa"},highway:{label:"Tipo"},historic:{label:"Tipo"},internet_access:{label:"Acesso  Internet",options:{wlan:"Wifi"}},maxspeed:{label:"Limite de Velocidade"},natural:{label:"Natural"},network:{label:"Rede"},note:{label:"Nota"},office:{label:"Tipo"},oneway:{label:"Sentido nico"},opening_hours:{label:"Horas"},operator:{label:"Operador"},phone:{label:"Telefone"},place:{label:"Tipo"},railway:{label:"Tipo"},religion:{label:"Religio",options:{christian:"Cristo",muslim:"Muulmano",buddhist:"Budista",jewish:"Judeu"}},shelter:{label:"Abrigo"},shop:{label:"Tipo"},source:{label:"Fonte"},sport:{label:"Desporto"},surface:{label:"Superfcie"},tourism:{label:"Tipo"},water:{label:"Tipo"},waterway:{label:"Tipo"},website:{label:"Website"},wetland:{label:"Tipo"},wikipedia:{label:"Wikipedia"},wood:{label:"Tipo"}},presets:{"aeroway/aerodrome":{name:"Aeroporto"},amenity:{name:"Amenidade"},"amenity/bank":{name:"Banco"},"amenity/bar":{name:"Bar"},"amenity/bench":{name:"Banco"},"amenity/bicycle_parking":{name:"Parque de Bicicletas"},"amenity/bicycle_rental":{name:"Aluguer de Bicicletas"},"amenity/cafe":{name:"Caf"},"amenity/cinema":{name:"Cinema"},"amenity/fire_station":{name:"Quartel de Bombeiros"},"amenity/grave_yard":{name:"Cemitrio"},"amenity/hospital":{name:"Hospital"},"amenity/library":{name:"Biblioteca"},"amenity/parking":{name:"Estacionamento"},"amenity/pharmacy":{name:"Farmcia"},"amenity/place_of_worship":{name:"Local de Orao"},"amenity/place_of_worship/christian":{name:"Igreja"},"amenity/place_of_worship/jewish":{name:"Sinagoga"},"amenity/place_of_worship/muslim":{name:"Mesquita"},"amenity/police":{name:"Polcia"},"amenity/post_box":{name:"Caixa de Correio"},"amenity/post_office":{name:"Estao de Correios"},"amenity/pub":{name:"Bar"},"amenity/restaurant":{name:"Restaurante"},"amenity/school":{name:"Escola"},"amenity/telephone":{name:"Telefone"},"amenity/toilets":{name:"Casas de Banho"},"amenity/townhall":{name:"Cmara Municipal"},"amenity/university":{name:"Universidade"},building:{name:"Edifcio"},entrance:{name:"Entrada"},highway:{name:"Autoestrada"},"highway/bus_stop":{name:"Paragem de Autocarro"},"highway/crossing":{name:"Passadeira"},"highway/cycleway":{name:"Ciclovia"},"highway/primary":{name:"Estrada Principal"},"highway/residential":{name:"Estrada Residencial"},"highway/secondary":{name:"Estrada Secundria"},"highway/service":{name:"Estrada de Servio"},"highway/steps":{name:"Passos"},"highway/track":{name:"Pista"},"landuse/cemetery":{name:"Cemitrio"},"landuse/commercial":{name:"Comercial"},"landuse/construction":{name:"Construo"},"landuse/farm":{name:"Quinta"},"landuse/farmyard":{name:"Quintal"},"landuse/forest":{name:"Floresta"},"landuse/grass":{name:"Relva"},"landuse/industrial":{name:"Industrial"},"leisure/golf_course":{name:"Campo de Golf"},"leisure/park":{name:"Parque"},"leisure/pitch":{name:"Campo de Desporto"},"leisure/pitch/tennis":{name:"Campo de Tnis"},"man_made/water_tower":{name:"Torre de gua"},natural:{name:"Natural"},"natural/bay":{name:"Baa"},"natural/beach":{name:"Praia"},"natural/cliff":{name:"Penhasco"},"natural/coastline":{name:"Linha Costeira"},"natural/water":{name:"gua"},"natural/water/lake":{name:"Lago"},"place/island":{name:"Ilha"},"place/locality":{name:"Localidade"},"place/village":{name:"Aldeia"},"railway/subway":{name:"Metro"},"railway/subway_entrance":{name:"Entrada de Metro"},shop:{name:"Loja"},"shop/butcher":{name:"Talho"},"shop/supermarket":{name:"Supermercado"},tourism:{name:"Turismo"},"tourism/camp_site":{name:"Parque de Campismo"},"tourism/hotel":{name:"Hotal"},"tourism/museum":{name:"Musei"},"waterway/canal":{name:"Canal"},"waterway/river":{name:"Rio"}}}},locale.ru={modes:{add_area:{title:"",description:" , ,      .",tail:"  ,      , ,   ."},add_line:{title:"",description:"   , ,  ,  , .",tail:"  ,    ,   ."},add_point:{title:"",description:"   , ,  .",tail:"  ,   ."},browse:{title:"",description:"   ."},draw_area:{tail:",     .     ."},draw_line:{tail:",     .    ,   ,    ."}},operations:{add:{annotation:{point:" .",vertex:"   ."}},start:{annotation:{line:"  .",area:"  ."}},"continue":{annotation:{line:" .",area:" ."}},cancel_draw:{annotation:" ."},change_tags:{annotation:" ."},circularize:{title:"",description:"   .",key:"O",annotation:{line:"   .",area:"   ."}},orthogonalize:{title:"",description:"  .",key:"Q",annotation:{line:"   .",area:"  ."}},"delete":{title:"",description:"   .",annotation:{point:" .",vertex:"   .",line:" .",area:" .",relation:" .",multiple:" {n} ."}},connect:{annotation:{point:"   .",vertex:"    .",line:"    .",area:"   ."}},disconnect:{title:"",description:"  .",key:"D",annotation:" ."},merge:{title:"",description:"  .",key:"C",annotation:" {n} ."},move:{title:"",description:"    .",key:"M",annotation:{point:" .",vertex:"  .",line:" .",area:" .",multiple:"  ."}},rotate:{title:"",description:"   .",annotation:{line:" .",area:" ."}},reverse:{title:"",description:"     .",key:"V",annotation:" ."},split:{title:"",description:"      .",key:"X",annotation:" ."}},nothing_to_undo:" .",nothing_to_redo:" .",just_edited:"     OpenStreetMap!",browser_notice:"     Firefox, Chrome, Safari, Opera  Internet Explorer  9  . ,       Potlatch 2.",view_on_osm:"  OSM",zoom_in_edit:"  ",logout:"",report_a_bug:"  ",commit:{title:" ",description_placeholder:"   ",upload_explanation:",     {user},    ,    OpenStreetMap.",save:"",cancel:"",warnings:"",modified:"",deleted:"",created:""},contributors:{list:"   {users}",truncated_list:"   {users}   {count} "},geocoder:{title:" ",placeholder:" ",no_results:"      {name}"},geolocate:{title:"  "},inspector:{no_documentation_combination:"       ",no_documentation_key:"    ",new_tag:" ",view_on_osm:"  OSM",additional:"Additional tags",choose:"What are you adding?",results:"{n} results for {search}",reference:"   OpenStreetMap ",back_tooltip:"  "},background:{title:"",description:" ",percent_brightness:" {opacity}%",fix_misalignment:" ",reset:""},restore:{description:"       .  ?",restore:"",reset:""},save:{title:"",help:"     OpenStreetMap,     ",no_changes:" .",error:"    ",uploading:"    OpenStreetMap.",unsaved_changes:"    "},splash:{welcome:"!  iD,   OpenStreetMap",text:"    {version}.    {website},     {github}."},source_switch:{live:"",dev:""},tag_reference:{description:"",on_wiki:"{tag}   OSM",used_with:"  {type}"},validations:{untagged_point:"         ",untagged_line:"  ",untagged_area:"  ",many_deletions:"  {n} .    ?      ,       openstreetmap.org.",tag_suggests_area:" {tag}     ,    ",deprecated_tags:" : {tags}"},zoom:{"in":"",out:""}},locale.es={modes:{add_area:{title:"rea",description:"Agregar parques, edificios, lagos u otras zonas en el mapa",tail:"Haz clic en el mapa para empezar a dibujar un rea. Parques, lagos o edificios"},add_line:{title:"Lnea",description:"Las lneas pueden ser autopistas, calles, pasos peatonales o canales.",tail:"Haz clic para dibujar en el mapa, una calle, camino o ruta."},add_point:{title:"Punto",description:"Un punto puede ser un restaurante, un monumento, un buzn... etc.",tail:"Haz clic para agregar un punto en el mapa"},browse:{title:"Navegar",description:"Acercar y mover el mapa"},draw_area:{tail:"Haz clic para agregar vrtices en tu rea. Haz clic de nuevo en el primer vrtice para cerrar el rea."},draw_line:{tail:"Hacer clic para agregar ms vrtices a la lnea. Hacer clic en otras lneas para conectarlas, y doble clic para terminar."}},operations:{add:{annotation:{point:"Punto agregado",vertex:"Vrtice aadido a la ruta"}},start:{annotation:{line:"Lnea iniciada",area:"rea iniciada"}},"continue":{annotation:{line:"Lnea continuada.",area:"rea continuada."}},cancel_draw:{annotation:"Dibujo cancelado."},change_tags:{annotation:"Etiquetas cambiadas."},circularize:{title:"Redondear",description:"Redondear esto.",key:"O",annotation:{line:"Redondear lnea.",area:"Redondear rea."}},orthogonalize:{title:"Escuadrar",description:"Escuadrar esquinas.",key:"E",annotation:{line:"Esquinas de la lnea escuadrados.",area:"Esquinas del rea escuadrados."}},"delete":{title:"Eliminar",description:"Eliminar del mapa.",annotation:{point:"Punto eliminado.",vertex:"Vrtice elimnado de la ruta.",line:"Lnea eliminada.",area:"rea eliminada.",relation:"Relacin eliminada.",multiple:"{n} objetos eliminados."}},connect:{annotation:{point:"Punto conectado a la lnea.",vertex:"Ruta conectada a otra lnea.",line:"Lnea conectada a la lnea.",area:"Lnea conectada al rea."}},disconnect:{title:"Desconectar",description:"Desconectar lneas.",key:"D",annotation:"Lneas desconectadas."},merge:{title:"Combinar",description:"Combinar lneas.",key:"C",annotation:"{n} lneas combinadas."},move:{title:"Mover",description:"Mover a otra ubicacin.",key:"M",annotation:{point:"Punto movido",vertex:"Vertice movido",line:"Lnea movida",area:"rea movida"}},reverse:{title:"Invertir",description:"Invertir sentido de la linea.",key:"I",annotation:"Sentido de la lnea invertido."},split:{title:"Dividir",description:"Dividir en dos en ste punto.",key:"D",annotation:"Dividir ruta."}},nothing_to_undo:"Nada que deshacer",nothing_to_redo:"Nada que rehacer",just_edited:"Acabas de editar OpenStreetMap!",browser_notice:"Este editor soporta Firefox, Chrome, Safari, Opera e Internet Explorer 9 o superior. Por favor actualiza tu navegador o utiliza Potlatch 2 para editar el mapa.",view_on_osm:"Ver en OSM",zoom_in_edit:"Acerca para editar el mapa",logout:"Cerrar sesin",report_a_bug:"Reportar un error",commit:{title:"Guardar Cambios",description_placeholder:"Breve descripcin de tus contribuciones",upload_explanation:"Los cambios que subes como {user} sern visibles en todos los mapas que usen datos de OpenStreetMap.",save:"Guardar",cancel:"Cancelar",warnings:"Avisos",modified:"Modificado",deleted:"Borrado",created:"Creado"},contributors:{list:"Viendo las contribuciones de {users}",truncated_list:"Viendo las contribuciones de {users} y {count} ms"},geocoder:{title:"Buscar un lugar",placeholder:"buscar un lugar",no_results:"No se pudo encontrar el lugar llamado '{name}'"},geolocate:{title:"Mostrar mi Localizacin"},inspector:{no_documentation_combination:"No hay documentacin disponible para esta combinacin de etiquetas",no_documentation_key:"No hay documentacin disponible para esta tecla",new_tag:"Nueva etiqueta",view_on_osm:"Ver en OSM"},background:{title:"Fondo",description:"Configuracin de fondo",percent_brightness:"{opacity}% brillo",fix_misalignment:"Alinear",reset:"reiniciar"},restore:{description:"Tienes cambios no guardados de una sesin de edicin previa. Quieres recuperar tus cambios?",restore:"Restaurar",reset:"Descartar"},save:{title:"Guardar",help:"Guardar los cambios en OpenStreetMap hacindolos visibles a otros usuarios.",error:"Ha ocurrido un error tratando de guardar",uploading:"Subiendo cambios a OpenStreetMap",unsaved_changes:"Tienes cambios sin guardar"},splash:{welcome:"Bienvenido al editor de OpenStreetMap iD",text:"Esto es una versin {version} de desarrollo. Para ms informacin visita {website} y reporta cualquier error en {github}."},source_switch:{live:"en vivo",dev:"dev"},tag_reference:{description:"Descripcin",on_wiki:"{tag} en wiki.osm.org",used_with:"usado con {type}"},validations:{untagged_point:"Punto sin etiquetar que no es parte de una lnea ni de un rea.",untagged_line:"Lnea sin etiquetar",untagged_area:"rea sin etiquetar",many_deletions:"You're deleting {n} objects. Are you sure you want to do this? This will delete them from the map that everyone else sees on openstreetmap.org.",tag_suggests_area:"La etiqueta {tag} sugiere que esta lnea debera ser una rea, pero no lo es.",deprecated_tags:"Etiquetas obsoletas: {tags}"},zoom:{"in":"Acercar",out:"Alejar"}},locale.sv={modes:{add_area:{title:"Omrde",description:"Lgg till parker, byggnader, sjar, eller andra omrden till kartan.",tail:"Klicka p kartan fr att brja rita ett omrde, typ en park, sj eller byggnad."},add_line:{title:"Linje",description:"Linjer kan vara vgar, gator, stigar, kanaler etc.",tail:"Klicka p kartan fr att rita en vg, stig eller vattendrag."},add_point:{title:"Punkt",description:"Restauranter, minnesmrken och postkontor kan vara punkter.",tail:"Klicka p kartan fr att lgga till en punkt."},browse:{title:"Blddra",description:"Panera runt och zooma kartan."},draw_area:{tail:"Klicka hr fr att lgga till punkter till ditt omrde. Klicka p frste punkten igen for att avsluta omrdet."},draw_line:{tail:"Klicka hr fr att lgga till fler punkter till linjen. Klicka p andra linjer for att knyta ihop dem och dubbelklicka fr att slutfra linjen."}},operations:{add:{annotation:{point:"Lagt till en punkt.",vertex:"Lagt till en nod till en linje."}},start:{annotation:{line:"Startat en linje.",area:"Startat ett omrde."}},"continue":{annotation:{line:"Fortsatt en linje.",area:"Fortsatt ett omrde."}},cancel_draw:{annotation:"Avbrt ritning."},change_tags:{annotation:"ndrat tagg."},circularize:{title:"Cirkularisera",description:"Gr denna rund.",key:"O",annotation:{line:"Gjorde en linje rund.",area:"Gjorde ett omrde runt."}},orthogonalize:{title:"Ortogonalisering",description:"Gr kvadrat-hrn.",key:"Q",annotation:{line:"Gjort hrnen p en linje fyrkantiga.",area:"Gjort hrnen p ett omrde fyrkantiga."}},"delete":{title:"Ta bort",description:"Tag bort detta frn kartan.",annotation:{point:"Tagit bort en punkt.",vertex:"Tagit bort en nod frn en vg.",line:"Tagit bort en linje.",area:"Tagit bort ett omrde.",relation:"Tagit bort en relation.",multiple:"Tagit bort {n} objekt."}},connect:{annotation:{point:"Forbandt en vej til et punkt.",vertex:"Forbandt en vej til en anden vej.",line:"Forbandt en vej til en linje.",area:"Forbandt en vej til et omrde."}},disconnect:{title:"Bryt av",description:"Bryt av dessa vgar frn varandra.",key:"D",annotation:"Bryt av linjen."},merge:{title:"Sammanfoga",description:"Sammanfoga dessa linjer.",key:"C",annotation:"Sammanfogade {n} linjer."},move:{title:"Flytta",description:"Flytta detta till ett annan stlle.",key:"M",annotation:{point:"Flyttade en punkt.",vertex:"Flyttade en nod i en vg.",line:"Flyttade en linje.",area:"Flyttade ett omrde.",multiple:"Flyttade flera objekt."}},rotate:{title:"Rotera",description:"Rotera detta objekt runt dess centerpunkt.",key:"R",annotation:{line:"Roterade en linje.",area:"Roterade ett omrde."}},reverse:{title:"Byt riktning",description:"Byt riktning p linjen.",key:"V",annotation:"Bytte riktning p en linje."},split:{title:"Dela upp",description:"Dela upp vgen till tv vgar vid den hr punkten.",key:"X",annotation:"Delade upp."}},nothing_to_undo:"Inget att ngra.",nothing_to_redo:"Inget att upprepa.",just_edited:"Du har nu redigerat OpenStreetMap!",browser_notice:"Denna redigerare funkar i Firefox, Chrome, Safari, Opera och Internet Explorer 9 och hgre. Uppgradera din webblsare eller anvnd Potlatch 2 fr att redigera p kartan.",view_on_osm:"Visa p OSM",zoom_in_edit:"Zooma in fr att fixa p kartan",logout:"logga ut",report_a_bug:"rapportera ett fel",commit:{title:"Spara ndringar",description_placeholder:"Kort beskrivning av dina ndringar",upload_explanation:"ndringar du uppladdar som {user} kommer att kunna ses p alla kartor som anvndar OpenStreetMap data.",save:"Spara",cancel:"Avbryt",warnings:"Varningar",modified:"ndrat",deleted:"Borttaget",created:"Skapat"},contributors:{list:"Visa bidrag frn {users}",truncated_list:"Visa bidrag frn {users} och {count} andra"},geocoder:{title:"Hitta ett stlle",placeholder:"Hitta ett stlle",no_results:"Kunde inte hitta '{name}'"},geolocate:{title:"Visa var jag r"},inspector:{no_documentation_combination:"Der er ingen dokumentation for denne tag kombination",no_documentation_key:"Det finns inget dokumentation fr denna nyckel.",new_tag:"Ny tagg",view_on_osm:"Visa p OSM",additional:"Fler taggar",choose:"Vad lgger du till?",results:"{n} skresult fr {search}",reference:"Visa OpenStreetMap Wiki "},background:{title:"Bakgrund",description:"Bakgrundsinstllningar",percent_brightness:"{opacity}% ljusstyrka",fix_misalignment:"Fixa feljustering",reset:"terstll"},restore:{description:"Du har ndringar frn frra sessiones som inte har sparats. Vill du spara dessa ndringar?",restore:"terstll",reset:"terstll"},save:{title:"Spara",help:"Spara ndringer till OpenStreetMap s att andra anvndare kan se dem.",no_changes:"Inget att spara.",error:"Ngot gick fel vid sparandet",uploading:"Dina ndringer sparas nu till OpenStreetMap.",unsaved_changes:"Du har icke-sparade ndringer."},splash:{welcome:"Vlkommen till iD OpenStreetMap redigerare",text:"Detta r utvecklingsversion {version}. Mer information besk {website} och rapportera fel p {github}."},source_switch:{live:"live",dev:"dev"},tag_reference:{description:"Beskrivning",on_wiki:"{tag} p wiki.osm.org",used_with:"anvnds med {type}"},validations:{untagged_point:"Otaggad punkt som inte r del av linje eller omrde",untagged_line:"Otaggad linje",untagged_area:"Otaggat omrde",many_deletions:"Du hller p att ta bort {n} objekt. r du helt sker? Detta tar bort dem fr alla som anvnder openstreetmap.org.",tag_suggests_area:"Denna tagg {tag} indikerar att denna linje borde vara ett omrde, men detta r inte ett omrde",deprecated_tags:"Unskade taggar: {tags}"},zoom:{"in":"Zooma in",out:"Zooma ut"}},locale.tr={modes:{add_area:{title:"Alan",description:"Park, bina, gl ve benzeri alanlar haritaya ekle.",tail:"Park, gl ya da bina gibi alanlar izmek iin haritaya tklayn."},add_line:{title:"izgi",description:"Yollar, sokaklar, patikalar ya da kanallar izgi ile izilebilir.",tail:"Yol, patika yada rota izmek iin haritaya tklayn."},add_point:{title:"Nokta",description:"Restoranlar, antlar ya da posta kutular nokta ile gsterilebilir.",tail:"Nokta eklemek iin haritaya tklayn."},browse:{title:"Dola",description:"Harita zerinde dolan ve yakla."},draw_area:{tail:"Alannza nokta eklemek iin tklaynz. lk noktaya tklayarak alan izimini bitirebilirsiniz."},draw_line:{tail:"izgiye daha fazla nokta eklemek iin tklaynz. Dier izgilerle balamak iin stlerine tklynz ve bitirmek iin de son noktada ift tklaynz."}},operations:{add:{annotation:{point:"Nokta eklendi.",vertex:"izgiye bir nod eklendi."}},start:{annotation:{line:"izgi izimi balatld.",area:"Alan izimi balatld."}},"continue":{annotation:{line:"izgiye devam edildi.",area:"Alana devam edildi."}},cancel_draw:{annotation:"izim iptal edildi."},change_tags:{annotation:"Etiketler deitirildi."},circularize:{title:"Daireletir",description:"Yuvarlak hale getir",key:"O",annotation:{line:"izgiyi daireletirin.",area:"Alan daireletirin."}},orthogonalize:{title:"Dorultmak",description:"Keleri dorultun.",key:"Q",annotation:{line:"izginin keleri dorultuldu.",area:"Alann keleri dorultuldu."}},"delete":{title:"Sil",description:"Haritan bunu sil.",annotation:{point:"Bir nokta silindi.",vertex:"Yoldan bir nod silindi.",line:"Bir izgi silindi.",area:"Bir alan silindi.",relation:"Bir iliki silindi.",multiple:"{n} adet obje silindi."}},connect:{annotation:{point:"Taraf bir noktaya baland.",vertex:"Bir taraf dierine baland.",line:"Taraf bir izgiye baland.",area:"Taraf bir alana baland."}},disconnect:{title:"Birbirinden Ayr",description:"Her iki taraf da ayr.",key:"D",annotation:"Taraflar birbirinden ayrld."},merge:{title:"Birletir",description:"Bu izgileri birletir.",key:"C",annotation:"{n} adet izgi birletirildi."},move:{title:"Ta",description:"Bunu farkl bir konuma ta.",key:"M",annotation:{point:"Bir nokta tand.",vertex:"Yoldan bir nokta tand.",line:"Bir izgi tand.",area:"Bir alan tand."}},reverse:{title:"Ters evir",description:"Bu izgiyi ters ynde evir.",key:"V",annotation:"izgi ters evrildi."},split:{title:"Ayr",description:"Bu yolu bu noktadan ikiye ayr.",key:"X",annotation:"Yolu ayr."}},nothing_to_undo:"Geri alnacak birey yok.",nothing_to_redo:"Tekrar yaplacak birey yok.",just_edited:"u an OpenStreetMap'de bir deiiklik yaptnz!",browser_notice:"Bu editr sadece Firefox, Chrome, Safari, Opera ile Internet Explorer 9 ve st tarayclarda almaktadr. Ltfen taraync gncelleyin ya da Potlatch 2'yi kullanarak haritada gncelleme yapnz.",view_on_osm:"OSM stnde Gr",zoom_in_edit:"Gncelleme yapmak iin haritada yaknlamalsnz",logout:"k",report_a_bug:"Hata rapor et",commit:{title:"Deiiklikleri kaydet",description_placeholder:"Katk salayanlar hakknda ksa aklama",upload_explanation:"{user} kullancs olarak yaptnz deiiklikler tm OpenStreetMap kullanan haritalarda grnr olacaktr.",save:"Kaydet",cancel:"ptal",warnings:"Uyarlar",modified:"Deitirildi",deleted:"Silindi",created:"Oluturuldu"},contributors:{list:"{users} tarafndan yaplan katklar grnmektedir",truncated_list:"{users} ve dier {count} tarafndan yaplan katklar grnmektedir"},geocoder:{title:"Bir Yer Bul",placeholder:"bir yer bul",no_results:"'{name}' ismindeki yer bulunamad"},geolocate:{title:"Konumumu gster"},inspector:{no_documentation_combination:"Bu etiket kombinasyonu iin dkmantasyon bulunmamaktadr.",no_documentation_key:"Bu anahtar iin dkmantasyon bulunmamaktadr.",new_tag:"Yeni Etiket",view_on_osm:"OSM zerinde gr",additional:"Ekstra etiketler",choose:"Neyi ekliyorsunuz?",results:"{n} results for {search}"},background:{title:"Arkaplan",description:"Arkaplan Ayarlar",percent_brightness:"{opacity}% parlaklk",fix_misalignment:"Yanl hizalamay dzelt",reset:"Sfrla"},restore:{description:"Daha nceki oturumunuzdan kaydedilmemi deiiklikler var. Bu deiiklikleri geri getirmek ister misiniz?",restore:"Geri Getir",reset:"Sfrla"},save:{title:"Kaydet",help:"Dier kullanclarn yaptnz deiiklikleri grmesi iin OpenStreetMap'e kaydediniz.",error:"Kaydederken bir hata olutu",uploading:"Deiiklikleriniz OpenStreetMap'e gnderiliyor.",unsaved_changes:"Kaydedilmemi deiiklikleriniz var"},splash:{welcome:"OpenStreetMap Editr iD'ye hogeldiniz",text:"Bu {version} versiyonu gelitirme versiyonudur. Daha fazla bilgi iin {website} sitesine bakabilirsiniz ve hatalar {github} sitesine raporlayabilirsiniz."},source_switch:{live:"canl",dev:"gelitirme"},tag_reference:{description:"Aklama",on_wiki:"wiki.osm.org sitesindeki {tag} ",used_with:"{type} ile birlikte"},validations:{untagged_point:"Herhangi bir izgi ya da alana balants olmayan ve etiketlenmemi bir nokta.",untagged_line:"Etiketlenmemi izgi",untagged_area:"Etiketlenmemi alan",many_deletions:"u an {n} adet objeyi siliyorsunuz. Bunu yapmak istediinize emin misiniz? Bu ilem ile ilgili objelerin tamam herkesin ziyaret ettii openstreetmap.org zerinden de silinmi olacaktr.",tag_suggests_area:"{tag} etiketi burann alan olmasn tavsiye ediyor ama alan deil.",deprecated_tags:"Kullanmdan kaldrlm etiket : {tags}"},zoom:{"in":"Yakla",out:"Uzakla"}},locale.uk={modes:{add_area:{title:"",description:" , ,     .",tail:"  ,     , ,   ."},add_line:{title:"",description:"  , , ,  , .",tail:"  ,    ,   ."},add_point:{title:"",description:", ,  .",tail:"  ,   ."},browse:{title:"",description:"   ."},draw_area:{tail:",     .    ,   ."},draw_line:{tail:",      .    ,    ,     ."}},operations:{add:{annotation:{point:" .",vertex:"   ."}},start:{annotation:{line:"  .",area:"  ."}},"continue":{annotation:{line:" .",area:" ."}},cancel_draw:{annotation:" ."},change_tags:{annotation:" ."},circularize:{title:"",description:"  .",key:"O",annotation:{line:"   .",area:"   ."}},orthogonalize:{title:"",description:"  .",key:"Q",annotation:{line:"  .",area:"  ."}},"delete":{title:"",description:"   .",annotation:{point:" .",vertex:"   .",line:" .",area:" .",relation:" .",multiple:" {n} ."}},connect:{annotation:{point:"   .",vertex:"    .",line:"    .",area:"   ."}},disconnect:{title:"",description:"    .",key:"D",annotation:" ."},merge:{title:"",description:" .",key:"C",annotation:" {n} ."},move:{title:"",description:"    .",key:"M",annotation:{point:" .",vertex:"  .",line:" .",area:" .",multiple:"  ."}},rotate:{title:"",description:"    .",key:"R",annotation:{line:"  .",area:" ."}},reverse:{title:"",description:"    .",key:"V",annotation:"  ."},split:{title:"",description:"      .",key:"X",annotation:" ."}},nothing_to_undo:" .",nothing_to_redo:" .",just_edited:"     OpenStreetMap!",browser_notice:"     Firefox, Chrome, Safari, Opera  Internet Explorer  9  .   ,       Potlatch 2.",view_on_osm:"  ",zoom_in_edit:",  ",logout:"",report_a_bug:"  ",commit:{title:" ",description_placeholder:"   ",upload_explanation:",     {user},    ,    OpenStreetMap.",save:"",cancel:"",warnings:"",modified:"",deleted:"",created:""},contributors:{list:"  : {users}",truncated_list:"   {users}   {count} "},geocoder:{title:" ",placeholder:" ",no_results:"  '{name}'"},geolocate:{title:" "},inspector:{no_documentation_combination:"     ",no_documentation_key:"    ",show_more:"",new_tag:" ",view_on_osm:"  ",editing_feature:" {feature}",additional:" ",choose:"  ",results:" {n}    {search}",reference:"  OpenStreetMap Wiki ",back_tooltip:"  "},background:{title:"",description:" ",percent_brightness:" {opacity}%",fix_misalignment:" ",reset:""},restore:{description:"       .  ?",restore:"",reset:""},save:{title:"",help:"     OpenStreetMap,      .",no_changes:"   .",error:"    ",uploading:"   OpenStreetMap.",unsaved_changes:"   "},splash:{welcome:"    OpenStreetMap iD",text:"   {version}.   {website},     {github}."},source_switch:{live:"",dev:""},tag_reference:{description:"",on_wiki:"{tag}  wiki.osm.org",used_with:"  {type}"},validations:{untagged_point:"  ,       ",untagged_line:"  ",untagged_area:"   ",tag_suggests_area:" {tag}    ,     ",deprecated_tags:" : {tags}"},zoom:{"in":"",out:""},imagery:{provided_by:"  {source}"},gpx:{local_layer:"  GPX",drag_drop:"  .gpx  "},presets:{fields:{access:{label:""},address:{label:"",placeholders:{housename:"",number:"",street:"",city:""}},aeroway:{label:""},amenity:{label:""},atm:{label:""},barrier:{label:""},bicycle_parking:{label:""},building:{label:""},building_area:{label:""},building_yes:{label:""},capacity:{label:""},collection_times:{label:"  "},construction:{label:""},country:{label:""},crossing:{label:""},cuisine:{label:""},denomination:{label:""},denotation:{label:""},elevation:{label:""},emergency:{label:" "},entrance:{label:""},fax:{label:""},fee:{label:""},highway:{label:""},historic:{label:""},internet_access:{label:"  ",options:{wlan:"Wifi",wired:"",terminal:""}},landuse:{label:""},layer:{label:""},leisure:{label:""},levels:{label:""},man_made:{label:""},maxspeed:{label:" "},natural:{label:""},network:{label:""},note:{label:""},office:{label:""},oneway:{label:" "},opening_hours:{label:""},operator:{label:""},phone:{label:""},place:{label:""},power:{label:""},railway:{label:""},ref:{label:""},religion:{label:"",options:{christian:"",muslim:"",buddhist:"",jewish:"",hindu:"",shinto:"",taoist:""}},service:{label:""},shelter:{label:""},shop:{label:""},source:{label:""},sport:{label:""},structure:{label:"",options:{bridge:"",tunnel:"",embankment:"",cutting:""}},surface:{label:""},tourism:{label:""},water:{label:""},waterway:{label:""},website:{label:""},wetland:{label:""},wheelchair:{label:"  "},wikipedia:{label:""},wood:{label:""}},presets:{aeroway:{name:""},"aeroway/aerodrome":{name:"",terms:",,"},"aeroway/helipad":{name:" ",terms:", ,"},amenity:{name:""},"amenity/bank":{name:"",terms:" ,, ,,,, ,,,,,,,,,,,, ,"},"amenity/bar":{name:""},"amenity/bench":{name:""},"amenity/bicycle_parking":{name:"-"},"amenity/bicycle_rental":{name:" "},"amenity/cafe":{name:"",terms:",,"},"amenity/cinema":{name:""},"amenity/courthouse":{name:""},"amenity/embassy":{name:""},"amenity/fast_food":{name:"-"},"amenity/fire_station":{name:" "},"amenity/fuel":{name:""},"amenity/grave_yard":{name:""},"amenity/hospital":{name:""},"amenity/library":{name:""},"amenity/marketplace":{name:""},"amenity/parking":{name:""},"amenity/pharmacy":{name:""},"amenity/place_of_worship":{name:" "},"amenity/place_of_worship/christian":{name:""},"amenity/place_of_worship/jewish":{name:"",terms:","},"amenity/place_of_worship/muslim":{name:"",terms:","},"amenity/police":{name:"/"},"amenity/post_box":{name:" "},"amenity/post_office":{name:""},"amenity/pub":{name:""},"amenity/restaurant":{name:""},"amenity/school":{name:""},"amenity/swimming_pool":{name:""},"amenity/telephone":{name:""},"amenity/theatre":{name:"",terms:",,,"},"amenity/toilets":{name:""},"amenity/townhall":{name:"  "},"amenity/university":{name:""},barrier:{name:""},"barrier/block":{name:""},"barrier/bollard":{name:""},"barrier/cattle_grid":{name:"  "},"barrier/city_wall":{name:" "},"barrier/cycle_barrier":{name:"  "},"barrier/ditch":{name:""},"barrier/entrance":{name:""},"barrier/fence":{name:""},"barrier/gate":{name:""},"barrier/hedge":{name:" "},"barrier/kissing_gate":{name:" "},"barrier/lift_gate":{name:""},"barrier/retaining_wall":{name:" "},"barrier/stile":{name:"/"},"barrier/toll_booth":{name:"   "},"barrier/wall":{name:""},building:{name:""},"building/entrance":{name:""},entrance:{name:""},highway:{name:""},"highway/bridleway":{name:""},"highway/bus_stop":{name:" "},"highway/crossing":{name:""},"highway/cycleway":{name:"-"},"highway/footway":{name:""},"highway/motorway":{name:""},"highway/path":{name:""},"highway/primary":{name:" "},"highway/residential":{name:"  "},"highway/secondary":{name:" "},"highway/service":{name:" "},"highway/steps":{name:""},"highway/tertiary":{name:" "},"highway/track":{name:""},"highway/traffic_signals":{name:""},"highway/trunk":{name:""},"highway/turning_circle":{name:"  "},"highway/unclassified":{name:"  "},historic:{name:" "},"historic/archaeological_site":{name:" "},"historic/boundary_stone":{name:" "},"historic/castle":{name:""},"historic/memorial":{name:""},"historic/monument":{name:""},"historic/ruins":{name:""},"historic/wayside_cross":{name:" "},"historic/wayside_shrine":{name:" "},landuse:{name:""},"landuse/allotments":{name:"/"},"landuse/basin":{name:""},"landuse/cemetery":{name:""},"landuse/commercial":{name:" "},"landuse/construction":{name:""},"landuse/farm":{name:""},"landuse/farmyard":{name:" "},"landuse/forest":{name:" "},"landuse/grass":{name:""},"landuse/industrial":{name:""},"landuse/meadow":{name:""},"landuse/orchard":{name:""},"landuse/quarry":{name:""},"landuse/residential":{name:" "},"landuse/vineyard":{name:""},leisure:{name:""},"leisure/garden":{name:""},"leisure/golf_course":{name:"  "},"leisure/marina":{name:"  "},"leisure/park":{name:""},"leisure/pitch":{name:" "},"leisure/pitch/american_football":{name:"   "},"leisure/pitch/baseball":{name:" "},"leisure/pitch/basketball":{name:" "},"leisure/pitch/soccer":{name:" "},"leisure/pitch/tennis":{name:" "},"leisure/playground":{name:" "},"leisure/slipway":{name:""},"leisure/stadium":{name:""},"leisure/swimming_pool":{name:""},man_made:{name:" "},"man_made/lighthouse":{name:""},"man_made/pier":{name:""},"man_made/survey_point":{name:" "},"man_made/water_tower":{name:" "},natural:{name:""},"natural/bay":{name:""},"natural/beach":{name:""},"natural/cliff":{name:"/"},"natural/coastline":{name:" ",terms:" "},"natural/glacier":{name:""},"natural/grassland":{name:""},"natural/heath":{name:"/"},"natural/peak":{name:""},"natural/scrub":{name:""},"natural/spring":{name:""},"natural/tree":{name:""},"natural/water":{name:""},"natural/water/lake":{name:""},"natural/water/pond":{name:""},"natural/water/reservoir":{name:""},"natural/wetland":{name:" "},"natural/wood":{name:""},office:{name:""},place:{name:""},"place/hamlet":{name:""},"place/island":{name:""},"place/locality":{name:""},"place/village":{name:""},power:{name:""},"power/generator":{name:""},"power/line":{name:" "},"power/pole":{name:""},"power/sub_station":{name:""},"power/tower":{name:" "},"power/transformer":{name:""},railway:{name:""},"railway/abandoned":{name:" "},"railway/disused":{name:",   "},"railway/level_crossing":{name:" "},"railway/monorail":{name:""},"railway/rail":{name:""},"railway/subway":{name:""},"railway/subway_entrance":{name:"  "},"railway/tram":{name:""},shop:{name:"/"},"shop/bakery":{name:""},"shop/beverages":{name:""},"shop/bicycle":{name:""},"shop/books":{name:""},"shop/boutique":{name:""},"shop/butcher":{name:" "},"shop/car":{name:""},"shop/car_parts":{name:""},"shop/car_repair":{name:""},"shop/chemist":{name:" "},"shop/clothes":{name:""},"shop/computer":{name:""},"shop/confectionery":{name:""},"shop/convenience":{name:"-"},"shop/deli":{name:"/ "},"shop/department_store":{name:""},"shop/doityourself":{name:" "},"shop/dry_cleaning":{name:""},"shop/electronics":{name:""},"shop/fishmonger":{name:""},"shop/florist":{name:""},"shop/furniture":{name:""},"shop/garden_centre":{name:"- "},"shop/gift":{name:""},"shop/greengrocer":{name:""},"shop/hairdresser":{name:""},"shop/hardware":{name:" "},"shop/hifi":{name:" "},"shop/jewelry":{name:" "},"shop/kiosk":{name:""},"shop/laundry":{name:""},"shop/mall":{name:" "},"shop/mobile_phone":{name:" "},"shop/motorcycle":{name:""},"shop/music":{name:" "},"shop/optician":{name:""},"shop/outdoor":{name:"   "},"shop/pet":{name:"  "},"shop/shoes":{name:""},"shop/sports":{name:""},"shop/stationery":{name:""},"shop/supermarket":{name:""},"shop/toys":{name:""},"shop/travel_agency":{name:" "},"shop/tyres":{name:"  "},"shop/vacant":{name:"  "},"shop/variety_store":{name:""},"shop/video":{name:""},tourism:{name:""},"tourism/alpine_hut":{name:" "},"tourism/artwork":{name:" "},"tourism/attraction":{name:" "},"tourism/camp_site":{name:""},"tourism/caravan_site":{name:"-"},"tourism/chalet":{name:""},"tourism/guest_house":{name:" "},"tourism/hostel":{name:""},"tourism/hotel":{name:""},"tourism/information":{name:""},"tourism/motel":{name:""},"tourism/museum":{name:""},"tourism/picnic_site":{name:"  "},"tourism/theme_park":{name:" "},"tourism/viewpoint":{name:" "},"tourism/zoo":{name:""},waterway:{name:" "},"waterway/canal":{name:""},"waterway/dam":{name:""},"waterway/ditch":{name:""},"waterway/drain":{name:" "},"waterway/river":{name:""},"waterway/riverbank":{name:" "},"waterway/stream":{name:""},"waterway/weir":{name:""}}}},locale.vi={modes:{add_area:{title:"Vng",description:"Thm cng vin, ta nh, h nc, hoc vng khc vo bn .",tail:"Nhn vo bn   bt u v vng."},add_line:{title:"ng",description:"Thm con ng, li i b, dng nc, hoc ng k khc vo bn .",tail:"Nhn vo bn   bt u v ng k."},add_point:{title:"im",description:"Thm nh hng, i k nim, hm th, hoc a im khc.",tail:"Nhn vo bn   thm a im."},browse:{title:"Duyt",description:"Di chuyn v thu phng bn ."},draw_area:{tail:"Nhn  thm nt vo vng. Nhn nt u tin  hon thnh vng."},draw_line:{tail:"Nhn  thm nt vo ng k. Nhn vo ng khc  ni ng li. Nhn p  hon thnh ng."}},operations:{add:{annotation:{point:"Thm a im.",vertex:"Thm nt vo li."}},start:{annotation:{line:"Bt u v ng k.",area:"Bt u v vng."}},"continue":{annotation:{line:"V tip ng k.",area:"V tip vng."}},cancel_draw:{annotation:"Hy v i tng."},change_tags:{annotation:"Thay i th."},circularize:{title:"Lm Trn",description:"Lm trn mt i tng.",key:"O",annotation:{line:"Lm trn mt ng k.",area:"Lm trn mt vng."}},orthogonalize:{title:"Lm Vung gc",description:"Lm vung gc mt i tng.",key:"Q",annotation:{line:"Lm vung gc mt ng k.",area:"Lm vung gc mt vng."}},"delete":{title:"Xa",description:"Xa i tng ny khi bn .",annotation:{point:"Xa a im.",vertex:"Xa nt khi li.",line:"Xa ng k.",area:"Xa vng.",relation:"Xa quan h.",multiple:"Xa {n} i tng."}},connect:{annotation:{point:"Ni lin li vi a im.",vertex:"Ni lin ng k vi ng khc.",line:"Ni lin li vi ng k.",area:"Ni lin ng k vi vng."}},disconnect:{title:"Tho g",description:"G cc li ny khi nhau.",key:"G",annotation:"Tho g li."},merge:{title:"Hp nht",description:"Hp nht cc ng k ny.",key:"H",annotation:"Hp nht {n} ng k."},move:{title:"Di chuyn",description:"Di chuyn i tng ny sang ch khc.",key:"D",annotation:{point:"Di chuyn a im.",vertex:"Di chuyn nt trong li.",line:"Di chuyn ng k.",area:"Di chuyn vng.",multiple:"Di chuyn hn mt i tng."}},rotate:{title:"Xoay",description:"Xoay i tng ny quanh trung tm.",key:"X",annotation:{line:"Xoay ng k.",area:"Xoay vng."}},reverse:{title:"o ngc",description:"o nguc chiu ng k ny.",key:"V",annotation:"o ngc ng k."},split:{title:"Chia ct",description:"Ct i li ny ti nt c chn.",key:"C",annotation:"Ct i mt li."}},nothing_to_undo:"Khng c g  hon tc.",nothing_to_redo:"Khng c g  lm li.",just_edited:"Bn va sa i OpenStreetMap!",browser_notice:"Chng trnh v bn  ny chy tt trong Firefox, Chrome, Safari, Opera, v Internet Explorer 9 tr ln. Xin vui lng nng cp trnh duyt ca bn hoc sa i bn  trong Potlatch 2.",view_on_osm:"Xem ti OSM",zoom_in_edit:"phng to  sa i bn ",logout:"ng xut",report_a_bug:"bo co li",commit:{title:"Lu cc Thay i",description_placeholder:"Tm lc cc ng gp ca bn",message_label:"Tm lc sa i",upload_explanation:"Cc thay i bn thc hin di tn {user} s xut hin trn tt c cc bn  s dng d liu OpenStreetMap.",save:"Lu",cancel:"Hy b",warnings:"Cnh bo",modified:" Thay i",deleted:" Xa",created:" To"},contributors:{list:"ang xem cc ng gp ca {users}",truncated_list:"ang xem cc ng gp ca {users} v {count} ngi khc"},geocoder:{title:"Tm kim a phng",placeholder:"Tm kim a phng",no_results:"Khng tm thy a phng vi tn {name}"},geolocate:{title:"Nhy ti V tr ca Ti"},inspector:{no_documentation_combination:"Khng c ti liu v t hp th ny",no_documentation_key:"Khng c ti liu v cha kha ny",show_more:"Xem thm",new_tag:"Th mi",view_on_osm:"Xem ti OSM",editing_feature:"ang sa {feature}",additional:"Cc th nng cao",choose:"Chn loi i tng",results:"{n} kt qu cho {search}",reference:"Tra cu OpenStreetMap Wiki ",back_tooltip:"Thay i loi i tng"},background:{title:"Hnh nn",description:"Ty chn hnh nn",percent_brightness:"Sng {opacity}%",fix_misalignment:"Chnh li hnh nn b chch",reset:"t li"},restore:{heading:"Bn c thay i cha lu",description:"Bn c thay i cha lu t mt phin lm vic trc y. Bn c mun khi phc cc thay i ny khng?",restore:"Khi phc",reset:"t li"},save:{title:"Lu",help:"Lu cc thay i vo OpenStreetMap  cho mi ngi xem.",no_changes:"Khng c thay i no  lu.",error:" xut hin li khi lu",uploading:"ang ti cc thay i ln OpenStreetMap.",unsaved_changes:"Bn c Thay i Cha lu"},splash:{welcome:"Cho mng bn n vi iD, chng trnh sa i OpenStreetMap",text:"y l phin bn ang pht trin {version}. Xem thm thng tin ti {website} v bo co li ti {github}."},source_switch:{live:"tht",lose_changes:"Bn c cc thay i cha lu. Cc thay i ny s b mt khi bn i my ch bn . Bn c chc chn mun i my ch?",dev:"th"},tag_reference:{description:"Miu t",on_wiki:"{tag} ti wiki.osm.org",used_with:"c s dng vi {type}"},validations:{untagged_point:"a im khng c th m khng trc thuc ng k hoc vng",untagged_line:"ng k khng c th",untagged_area:"Vng khng c th",many_deletions:"Bn c chc chn mun xa {n} i tng? Cc i tng ny s b xa khi bn  cng cng ti openstreetmap.org.",tag_suggests_area:"Th {tag} c l dnh cho vng nhng c gn vo ng k",deprecated_tags:"Th b phn i: {tags}"},zoom:{"in":"Phng to",out:"Thu nh"},imagery:{provided_by:"Hnh nh do {source} cung cp"},gpx:{local_layer:"Tp tin GPX a phng",drag_drop:"Ko th mt tp tin .gpx vo trang"},help:{title:"Tr gip"},presets:{fields:{access:{label:"Quyn Truy cp"},address:{label:"a ch",placeholders:{housename:"Tn nh",number:"123",street:"Tn ng",city:"Thnh ph"}},aeroway:{label:"Loi"},amenity:{label:"Loi"},atm:{label:"My Rt tin"},barrier:{label:"Kiu"},bicycle_parking:{label:"Kiu"},building:{label:"Ta nh"},building_area:{label:"Ta nh"},building_yes:{label:"Ta nh"},capacity:{label:"S Ch u Xe"},collection_times:{label:"Gi Ly th"},construction:{label:"Kiu"},country:{label:"Quc gia"},crossing:{label:"Kiu"},cuisine:{label:"m thc"},denomination:{label:"Gio phi"},denotation:{label:"Tm Quan trng"},elevation:{label:"Cao "},emergency:{label:"Khn cp"},entrance:{label:"Kiu"},fax:{label:"S Fax"},fee:{label:"Ph"},highway:{label:"Kiu"},historic:{label:"Loi"},internet_access:{label:"Truy cp Internet",options:{wlan:"Wi-Fi",wired:"Qua dy in",terminal:"My tnh cng cng"}},landuse:{label:"Mc ch"},layer:{label:"Lp"},leisure:{label:"Loi"},levels:{label:"S Tng"},man_made:{label:"Loi"},maxspeed:{label:"Tc  Ti a"},name:{label:"Tn"},natural:{label:"Thin nhin"},network:{label:"H thng"},note:{label:"Ch thch"},office:{label:"Kiu"},oneway:{label:"Mt chiu"},oneway_yes:{label:"Mt chiu"},opening_hours:{label:"Gi M ca"},operator:{label:"C quan Ch qun"},phone:{label:"S in thoi"},place:{label:"Kiu"},power:{label:"Kiu"},railway:{label:"Kiu"},ref:{label:"S"},religion:{label:"Tn gio",options:{christian:"Kit gio",muslim:"Hi gio",buddhist:"Pht gio",jewish:"Do Thi gio",hindu:"n  gio",shinto:"Thn o",taoist:"o gio"}},service:{label:"Kiu"},shelter:{label:"Ch che"},shop:{label:"Kiu"},source:{label:"Ngun"},sport:{label:"Mn Th thao"},structure:{label:"Cu trc",options:{bridge:"Cu",tunnel:"ng hm",embankment:"ng p cao",cutting:"ng x"}},surface:{label:"Mt"},tourism:{label:"Loi"},water:{label:"Loi"},waterway:{label:"Loi"},website:{label:"Trang Web"},wetland:{label:"Loi"},wheelchair:{label:"i Xe ln c"},wikipedia:{label:"Wikipedia"},wood:{label:"Loi"}},presets:{aeroway:{name:"Hng khng"},"aeroway/aerodrome":{name:"Sn bay",terms:"my bay,phi c,tu bay,sn bay,phi trng"},"aeroway/helipad":{name:"Sn bay Trc thng",terms:"my bay trc thng,my bay ln thng,sn bay trc thng,sn bay ln thng,phi trng trc thng,sn  trc thng,sn p trc thng"},amenity:{name:"Tin nghi"},"amenity/bank":{name:"Ngn hng",terms:"ngn hng,nh bng,ngn hng cng on,nh bng cng on,cng on tn dng"},"amenity/bar":{name:"Qun ru"},"amenity/bench":{name:"Gh"},"amenity/bicycle_parking":{name:"Ch u Xe p"},"amenity/bicycle_rental":{name:"Ch Mn Xe p"},"amenity/cafe":{name:"Qun C ph",terms:"c ph,qun c ph,tr,qun tr"},"amenity/cinema":{name:"Rp phim",terms:"rp phim,rp in nh,xi n, xi-n,xin,phim,in nh"},"amenity/courthouse":{name:"Ta"},"amenity/embassy":{name:"Ta i s"},"amenity/fast_food":{name:"Nh hng n nhanh"},"amenity/fire_station":{name:"Trm Cu ha"},"amenity/fuel":{name:"Cy xng"},"amenity/grave_yard":{name:"Ngha a"},"amenity/hospital":{name:"Bnh vin",terms:"bnh vin,nh thng,phng khm khn cp,phng khn cp"},"amenity/library":{name:"Th vin"},"amenity/marketplace":{name:"Ch phin"},"amenity/parking":{name:"Bi u xe"},"amenity/pharmacy":{name:"Nh thuc"},"amenity/place_of_worship":{name:"Ni Th phng",terms:"ni th phng,nh th,gio x,thnh ng,hi ng"},"amenity/place_of_worship/christian":{name:"Nh th",terms:"nh th,Kit gio,Kit gio,Thin Cha gio,o Thin Cha,gio x,thnh ng"},"amenity/place_of_worship/jewish":{name:"Nh th Do Thi gio",terms:"Do Thi gio,o Do Thi,hi ng"},"amenity/place_of_worship/muslim":{name:"Nh th Hi gio",terms:"Hi gio,nh th"},"amenity/police":{name:"n Cnh st",terms:"cnh st,s cnh st,n cnh st,trm cnh st,sen m,s sen m,i sen m,hin binh,s hin binh,n hin binh,cng an,s cng an,n cng an,trm cng an"},"amenity/post_box":{name:"Hm th",terms:"hm th,hp th,thng th"},"amenity/post_office":{name:"Bu in"},"amenity/pub":{name:"Qun ru Pub"},"amenity/restaurant":{name:"Nh hng",terms:"qun n,nh hng,tim n,nh n,phng n,qun n nhanh,nh hng n nhanh,qun n qua loa,cng tin,cng-tin,xe y,qun ru,qun bia,tim ru,hiu ch c,qun ch nng,qun ph,tim ph,qun cm,qun bnh cun,tim bnh cun,qun bnh m,tim bnh m,qun bnh xo,tim bnh xo,qun ch,tim ch,qun gi cun,qun bn,qun hi sn,qun g,qun c ri,qun c-ri,tim c ri, tim c-ri"},"amenity/school":{name:"Nh trng",terms:"trng,trng hc,nh trng,hc vin,trng t,trng t thc,trng cng,trng cng lp,tiu hc,trng tiu hc,trung hc,trng trung hc,trung hc c s,trng trung hc c s,THCS,TTHCS,trung hc ph thng,trng trung hc ph thng,THPT,TTHPT,trung hc chuyn nghip,trng trung hc chuyn nghip,THCN,TTHCN,cao ng,trng cao ng,C,i hc,trng i hc,H,trng dng,khoa,hc"},"amenity/swimming_pool":{name:"H Bi"},"amenity/telephone":{name:"in thoi"},"amenity/theatre":{name:"Nh ht",terms:"nh ht,rp ht,sn khu,kch"},"amenity/toilets":{name:"Phng V sinh"},"amenity/townhall":{name:"Ta th chnh Th x",terms:"ta th chnh,ta th chnh,to th chnh,to th chnh,tr s thnh ph,tr s th x,tr s lng"},"amenity/university":{name:"Trng i hc"},barrier:{name:"Chng ngi"},"barrier/block":{name:"Tm B tng"},"barrier/bollard":{name:"Ct B tng"},"barrier/cattle_grid":{name:"By Tru b Trn ng"},"barrier/city_wall":{name:"Tng thnh"},"barrier/cycle_barrier":{name:"Hng ro Ngn Xe p"},"barrier/ditch":{name:"Mng"},"barrier/entrance":{name:"Ca vo"},"barrier/fence":{name:"Hng ro"},"barrier/gate":{name:"Cng"},"barrier/hedge":{name:"Hng ro Cy"},"barrier/kissing_gate":{name:"Ca Hng ro Chn Tru b"},"barrier/lift_gate":{name:"Ro chn ng m"},"barrier/retaining_wall":{name:"Tng Chn t"},"barrier/stile":{name:"Bc tro"},"barrier/toll_booth":{name:"Nh thu ph"},"barrier/wall":{name:"Tng"},building:{name:"Ta nh"},"building/entrance":{name:"Ca vo"},entrance:{name:"Ca vo"},highway:{name:"ng Giao thng"},"highway/bridleway":{name:"ng mn Nga",terms:"ng mn nga,ng ci nga,ng i nga"},"highway/bus_stop":{name:"Trm Xe but"},"highway/crossing":{name:"Li Bng qua ng",terms:"li bng qua ng,li qua ng,ng nga vn"},"highway/cycleway":{name:"ng Xe p"},"highway/footway":{name:"ng i b",terms:"ng i b,h,va h,ng mn,ph,ng i do"},"highway/motorway":{name:"ng Cao tc"},"highway/motorway_link":{name:"Nhnh Ra vo ng Cao tc",terms:"ng nhnh,on nhnh,ng nhnh r,on nhnh r,ng nhnh chuyn ng,nhnh chuyn ng,li ra vo,li ra,li vo,nhnh ra,nhnh vo,ng ni"},"highway/path":{name:"Li"},"highway/primary":{name:"ng Chnh"},"highway/primary_link":{name:"Nhnh Ra vo ng Chnh",terms:"ng nhnh,on nhnh,ng nhnh r,on nhnh r,ng nhnh chuyn ng,nhnh chuyn ng,li ra vo,li ra,li vo,nhnh ra,nhnh vo,ng ni"},"highway/residential":{name:"Ng Dn c"},"highway/road":{name:"ng Ni chung"},"highway/secondary":{name:"ng Ln"},"highway/secondary_link":{name:"Nhnh Ra vo ng Ln",terms:"ng nhnh,on nhnh,ng nhnh r,on nhnh r,ng nhnh chuyn ng,nhnh chuyn ng,li ra vo,li ra,li vo,nhnh ra,nhnh vo,ng ni"},"highway/service":{name:"Ngch"},"highway/steps":{name:"Cu thang",terms:"cu thang"},"highway/tertiary":{name:"Ph"},"highway/tertiary_link":{name:"Nhnh Ra vo Ph",terms:"ng nhnh,on nhnh,ng nhnh r,on nhnh r,ng nhnh chuyn ng,nhnh chuyn ng,li ra vo,li ra,li vo,nhnh ra,nhnh vo,ng ni"},"highway/track":{name:"ng mn"},"highway/traffic_signals":{name:"n Giao thng",terms:"n giao thng,n tn hiu giao thng,n tn hiu,n iu khin giao thng,n iu khin,n xanh n ,n xanh ,n ng t,n ng ba"},"highway/trunk":{name:"Xa l"},"highway/trunk_link":{name:"Nhnh Ra vo Xa l",terms:"ng nhnh,on nhnh,ng nhnh r,on nhnh r,ng nhnh chuyn ng,nhnh chuyn ng,li ra vo,li ra,li vo,nhnh ra,nhnh vo,ng ni"},"highway/turning_circle":{name:"Cui ng Vng trn"},"highway/unclassified":{name:"Ph"},historic:{name:"Ni Lch s"},"historic/archaeological_site":{name:"Khu vc Kho c"},"historic/boundary_stone":{name:"Mc Bin gii"},"historic/castle":{name:"Lu i"},"historic/memorial":{name:"i Tng nim"},"historic/monument":{name:"i tng nim"},"historic/ruins":{name:"Tn tch"},"historic/wayside_cross":{name:"Thnh Gi Dc ng"},"historic/wayside_shrine":{name:"n thnh Dc ng"},landuse:{name:"Kiu S dng t"},"landuse/allotments":{name:"Khu Vn Gia nh"},"landuse/basin":{name:"Lu vc"},"landuse/cemetery":{name:"Ngha a"},"landuse/commercial":{name:"Thng mi"},"landuse/construction":{name:"Cng trng Xy dng"},"landuse/farm":{name:"Tri"},"landuse/farmyard":{name:"Sn Tri"},"landuse/forest":{name:"Rng Trng cy"},"landuse/grass":{name:"C"},"landuse/industrial":{name:"Cng nghip"},"landuse/meadow":{name:"ng c"},"landuse/orchard":{name:"Vn Cy"},"landuse/quarry":{name:"M "},"landuse/residential":{name:"Dn c"},"landuse/vineyard":{name:"Vn Nho"},leisure:{name:"Gii tr"},"leisure/garden":{name:"Vn"},"leisure/golf_course":{name:"Sn Golf"},"leisure/marina":{name:"Bn tu"},"leisure/park":{name:"Cng vin",terms:"cng vin,vn,vn hoa,vn cy,bi c,bi c xanh,thm c xanh,vnh ai xanh,sn chi,khu vui chi,khu vui chi tr em,khu chi tr em,qung trng,rng"},"leisure/pitch":{name:"Sn c"},"leisure/pitch/american_football":{name:"Sn c Bng bu dc M"},"leisure/pitch/baseball":{name:"Sn c Bng chy"},"leisure/pitch/basketball":{name:"Sn Bng r"},"leisure/pitch/soccer":{name:"Sn c Bng "},"leisure/pitch/tennis":{name:"Sn Qun vt"},"leisure/playground":{name:"Khu Vui chi Tr em"},"leisure/slipway":{name:"ng Trt tu"},"leisure/stadium":{name:"Sn vn ng"},"leisure/swimming_pool":{name:"H Bi"},man_made:{name:"Cng trnh"},"man_made/lighthouse":{name:"Hi ng"},"man_made/pier":{name:"Cu tu"},"man_made/survey_point":{name:"im Kho st"},"man_made/water_tower":{name:"Thp nc"},natural:{name:"Thin nhin"},"natural/bay":{name:"Vnh"},"natural/beach":{name:"Bi bin"},"natural/cliff":{name:"Vch "},"natural/coastline":{name:"B bin",terms:"b bin,b sng,b"},"natural/glacier":{name:"Sng bng"},"natural/grassland":{name:"ng c"},"natural/heath":{name:"Bi hoang"},"natural/peak":{name:"nh ni",terms:"i,ni,nh ni,nh,chm ni,chm,chp ni,chp,chm chp"},"natural/scrub":{name:"t Bi rm"},"natural/spring":{name:"Sui"},"natural/tree":{name:"Cy"},"natural/water":{name:"Nc"},"natural/water/lake":{name:"H",terms:"h,h nc"},"natural/water/pond":{name:"Ao nc",terms:"h nh,ao,ao c,h c,h nh c"},"natural/water/reservoir":{name:"B nc"},"natural/wetland":{name:"m ly"},"natural/wood":{name:"Rng"},office:{name:"Vn phng"},place:{name:"a phng"},"place/hamlet":{name:"Xm"},"place/island":{name:"o",terms:"o,hn o,qun o,o san h,san h,cn ct,cn, ngm,ch nng,ch cn"},"place/locality":{name:"a phng"},"place/village":{name:"Lng"},power:{name:"in nng"},"power/generator":{name:"Nh my in"},"power/line":{name:"ng Dy in"},"power/pole":{name:"Ct in"},"power/sub_station":{name:"Trm in Ph"},"power/tower":{name:"Ct in Cao th"},"power/transformer":{name:"My bin p"},railway:{name:"ng st"},"railway/abandoned":{name:"ng st B hoang"},"railway/disused":{name:"ng st Khng hot ng"},"railway/level_crossing":{name:"Giao l ng st",terms:"giao l ng st,giao l ng ray,nt giao ng st"},"railway/monorail":{name:"ng st Mt ray"},"railway/rail":{name:"ng st"},"railway/subway":{name:"ng Tu in ngm"},"railway/subway_entrance":{name:"Ca vo Nh ga Tu in ngm"},"railway/tram":{name:"ng Tu in",terms:"ng tu in,tu in,ng xe in,xe in"},shop:{name:"Tim"},"shop/alcohol":{name:"Tim Ru"},"shop/bakery":{name:"Tim Bnh"},"shop/beauty":{name:"Tim M phm"},"shop/beverages":{name:"Tim  ung"},"shop/bicycle":{name:"Tim Xe p"},"shop/books":{name:"Hiu Sch"},"shop/boutique":{name:"Tim Thi trang"},"shop/butcher":{name:"Tim Tht"},"shop/car":{name:"Tim Xe hi"},"shop/car_parts":{name:"Tim Ph tng Xe hi"},"shop/car_repair":{name:"Tim Sa Xe"},"shop/chemist":{name:"Tim Dc phm"},"shop/clothes":{name:"Tim Qun o"},"shop/computer":{name:"Tim My tnh"},"shop/confectionery":{name:"Tim Ko"},"shop/convenience":{name:"Tim Tin li"},"shop/deli":{name:"Tim Deli"},"shop/department_store":{name:"Tim Bch ha"},"shop/doityourself":{name:"Tim Vt liu Xy dng"},"shop/dry_cleaning":{name:"Tim Git Hp ty"},"shop/electronics":{name:"Tim Thit b in t"},"shop/fishmonger":{name:"Tim C"},"shop/florist":{name:"Tim Hoa"},"shop/furniture":{name:"Tim  c"},"shop/garden_centre":{name:"Trung tm Lm vn"},"shop/gift":{name:"Tim Qu tng"},"shop/greengrocer":{name:"Tim Rau qu"},"shop/hairdresser":{name:"Tim Lm tc"},"shop/hardware":{name:"Tim Ng kim"},"shop/hifi":{name:"Tim Thit b m thanh"},"shop/jewelry":{name:"Tim Kim hon"},"shop/kiosk":{name:"Gian hng"},"shop/laundry":{name:"Tim My git"},"shop/mall":{name:"Trung tm Thng mi"},"shop/mobile_phone":{name:"Tim in thoi Di ng"},"shop/motorcycle":{name:"Tim Xe my"},"shop/music":{name:"Tim m nhc"},"shop/newsagent":{name:"Quy bo"},"shop/optician":{name:"Tim Knh mt"},"shop/outdoor":{name:"Tim Th thao Ngoi tri"},"shop/pet":{name:"Tim Vt nui"},"shop/shoes":{name:"Tim Giy"},"shop/sports":{name:"Tim Th thao"},"shop/stationery":{name:"Tim Vn phng phm"},"shop/supermarket":{name:"Siu th",terms:"siu th,ch,tim,ca hng,khu bun bn,trung tm bun bn,ch tri,ch phin,ch xm"},"shop/toys":{name:"Tim  ch"},"shop/travel_agency":{name:"Vn phng Du lch"},"shop/tyres":{name:"Tim Lp xe"},"shop/vacant":{name:"Tim ng ca"},"shop/variety_store":{name:"Tim Tp ha"},"shop/video":{name:"Tim Phim"},tourism:{name:"Du lch"},"tourism/alpine_hut":{name:"Tp lu trn Ni"},"tourism/artwork":{name:"Ngh phm"},"tourism/attraction":{name:"im Thu ht Du lch"},"tourism/camp_site":{name:"Ni Cm tri"},"tourism/caravan_site":{name:"Bi u Nh lu ng"},"tourism/chalet":{name:"Nh ngh Ring bit"},"tourism/guest_house":{name:"Nh khch",terms:"nh khch,nh tr"},"tourism/hostel":{name:"Nh tr"},"tourism/hotel":{name:"Khch sn"},"tourism/information":{name:"Thng tin"},"tourism/motel":{name:"Khch sn Dc ng"},"tourism/museum":{name:"Bo tng",terms:"vin bo tng,bo tng,th vin,vn th lu tr,lu tr,kho"},"tourism/picnic_site":{name:"Ni n Ngoi tri"},"tourism/theme_park":{name:"Cng vin Ch "},"tourism/viewpoint":{name:"im Ngm cnh"},"tourism/zoo":{name:"Vn th"},waterway:{name:"ng sng"},"waterway/canal":{name:"Knh o"},"waterway/dam":{name:"p nc"},"waterway/ditch":{name:"Mng"},"waterway/drain":{name:"Cng"},"waterway/river":{name:"Sng",terms:"sng,con sng,dng sng,nhnh sng,sng nhnh,sng con,sui,sui nc,dng sui,chu th"},"waterway/riverbank":{name:"B sng"},"waterway/stream":{name:"Dng sui",terms:"nhnh sng,sng nhnh,sng con,sui,sui nc,dng sui"},"waterway/weir":{name:"p Trn"}}}};
